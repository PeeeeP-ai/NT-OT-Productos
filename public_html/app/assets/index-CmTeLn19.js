var X_=Object.defineProperty;var Q_=(t,e,r)=>e in t?X_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Pt=(t,e,r)=>Q_(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Xn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ex(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var ov={exports:{}},_h={},lv={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=Symbol.for("react.element"),tx=Symbol.for("react.portal"),rx=Symbol.for("react.fragment"),nx=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ax=Symbol.for("react.context"),ox=Symbol.for("react.forward_ref"),lx=Symbol.for("react.suspense"),cx=Symbol.for("react.memo"),ux=Symbol.for("react.lazy"),s2=Symbol.iterator;function dx(t){return t===null||typeof t!="object"?null:(t=s2&&t[s2]||t["@@iterator"],typeof t=="function"?t:null)}var cv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uv=Object.assign,dv={};function vl(t,e,r){this.props=t,this.context=e,this.refs=dv,this.updater=r||cv}vl.prototype.isReactComponent={};vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hv(){}hv.prototype=vl.prototype;function a0(t,e,r){this.props=t,this.context=e,this.refs=dv,this.updater=r||cv}var o0=a0.prototype=new hv;o0.constructor=a0;uv(o0,vl.prototype);o0.isPureReactComponent=!0;var a2=Array.isArray,fv=Object.prototype.hasOwnProperty,l0={current:null},pv={key:!0,ref:!0,__self:!0,__source:!0};function mv(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)fv.call(e,n)&&!pv.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:eu,type:t,key:s,ref:a,props:i,_owner:l0.current}}function hx(t,e){return{$$typeof:eu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function c0(t){return typeof t=="object"&&t!==null&&t.$$typeof===eu}function fx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var o2=/\/+/g;function Pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fx(""+t.key):e.toString(36)}function vd(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case eu:case tx:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Pf(a,0):n,a2(i)?(r="",t!=null&&(r=t.replace(o2,"$&/")+"/"),vd(i,e,r,"",function(u){return u})):i!=null&&(c0(i)&&(i=hx(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(o2,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",a2(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Pf(s,o);a+=vd(s,e,r,l,i)}else if(l=dx(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Pf(s,o++),a+=vd(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qu(t,e,r){if(t==null)return t;var n=[],i=0;return vd(t,n,"","",function(s){return e.call(r,s,i++)}),n}function px(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},yd={transition:null},mx={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:yd,ReactCurrentOwner:l0};function gv(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:qu,forEach:function(t,e,r){qu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qu(t,function(){e++}),e},toArray:function(t){return qu(t,function(e){return e})||[]},only:function(t){if(!c0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};vt.Component=vl;vt.Fragment=rx;vt.Profiler=ix;vt.PureComponent=a0;vt.StrictMode=nx;vt.Suspense=lx;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mx;vt.act=gv;vt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=uv({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=l0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)fv.call(e,l)&&!pv.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:eu,type:t.type,key:i,ref:s,props:n,_owner:a}};vt.createContext=function(t){return t={$$typeof:ax,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sx,_context:t},t.Consumer=t};vt.createElement=mv;vt.createFactory=function(t){var e=mv.bind(null,t);return e.type=t,e};vt.createRef=function(){return{current:null}};vt.forwardRef=function(t){return{$$typeof:ox,render:t}};vt.isValidElement=c0;vt.lazy=function(t){return{$$typeof:ux,_payload:{_status:-1,_result:t},_init:px}};vt.memo=function(t,e){return{$$typeof:cx,type:t,compare:e===void 0?null:e}};vt.startTransition=function(t){var e=yd.transition;yd.transition={};try{t()}finally{yd.transition=e}};vt.unstable_act=gv;vt.useCallback=function(t,e){return cn.current.useCallback(t,e)};vt.useContext=function(t){return cn.current.useContext(t)};vt.useDebugValue=function(){};vt.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};vt.useEffect=function(t,e){return cn.current.useEffect(t,e)};vt.useId=function(){return cn.current.useId()};vt.useImperativeHandle=function(t,e,r){return cn.current.useImperativeHandle(t,e,r)};vt.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};vt.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};vt.useMemo=function(t,e){return cn.current.useMemo(t,e)};vt.useReducer=function(t,e,r){return cn.current.useReducer(t,e,r)};vt.useRef=function(t){return cn.current.useRef(t)};vt.useState=function(t){return cn.current.useState(t)};vt.useSyncExternalStore=function(t,e,r){return cn.current.useSyncExternalStore(t,e,r)};vt.useTransition=function(){return cn.current.useTransition()};vt.version="18.3.1";lv.exports=vt;var ve=lv.exports;const Qs=Z_(ve);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=ve,vx=Symbol.for("react.element"),yx=Symbol.for("react.fragment"),wx=Object.prototype.hasOwnProperty,bx=gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_x={key:!0,ref:!0,__self:!0,__source:!0};function vv(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)wx.call(e,n)&&!_x.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:vx,type:t,key:s,ref:a,props:i,_owner:bx.current}}_h.Fragment=yx;_h.jsx=vv;_h.jsxs=vv;ov.exports=_h;var d=ov.exports,Fp={},yv={exports:{}},Mn={},wv={exports:{}},bv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,ee){var pe=U.length;U.push(ee);e:for(;0<pe;){var ce=pe-1>>>1,P=U[ce];if(0<i(P,ee))U[ce]=ee,U[pe]=P,pe=ce;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var ee=U[0],pe=U.pop();if(pe!==ee){U[0]=pe;e:for(var ce=0,P=U.length,H=P>>>1;ce<H;){var J=2*(ce+1)-1,Z=U[J],ne=J+1,oe=U[ne];if(0>i(Z,pe))ne<P&&0>i(oe,Z)?(U[ce]=oe,U[ne]=pe,ce=ne):(U[ce]=Z,U[J]=pe,ce=J);else if(ne<P&&0>i(oe,pe))U[ce]=oe,U[ne]=pe,ce=ne;else break e}}return ee}function i(U,ee){var pe=U.sortIndex-ee.sortIndex;return pe!==0?pe:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,m=null,y=3,p=!1,_=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var ee=r(u);ee!==null;){if(ee.callback===null)n(u);else if(ee.startTime<=U)n(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=r(u)}}function E(U){if(b=!1,S(U),!_)if(r(l)!==null)_=!0,Q(D);else{var ee=r(u);ee!==null&&re(E,ee.startTime-U)}}function D(U,ee){_=!1,b&&(b=!1,w(q),q=-1),p=!0;var pe=y;try{for(S(ee),m=r(l);m!==null&&(!(m.expirationTime>ee)||U&&!j());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,y=m.priorityLevel;var P=ce(m.expirationTime<=ee);ee=t.unstable_now(),typeof P=="function"?m.callback=P:m===r(l)&&n(l),S(ee)}else n(l);m=r(l)}if(m!==null)var H=!0;else{var J=r(u);J!==null&&re(E,J.startTime-ee),H=!1}return H}finally{m=null,y=pe,p=!1}}var O=!1,z=null,q=-1,B=5,W=-1;function j(){return!(t.unstable_now()-W<B)}function A(){if(z!==null){var U=t.unstable_now();W=U;var ee=!0;try{ee=z(!0,U)}finally{ee?$():(O=!1,z=null)}}else O=!1}var $;if(typeof N=="function")$=function(){N(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,X=R.port2;R.port1.onmessage=A,$=function(){X.postMessage(null)}}else $=function(){k(A,0)};function Q(U){z=U,O||(O=!0,$())}function re(U,ee){q=k(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,Q(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var pe=y;y=ee;try{return U()}finally{y=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var pe=y;y=U;try{return ee()}finally{y=pe}},t.unstable_scheduleCallback=function(U,ee,pe){var ce=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ce+pe:ce):pe=ce,U){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,U={id:f++,callback:ee,priorityLevel:U,startTime:pe,expirationTime:P,sortIndex:-1},pe>ce?(U.sortIndex=pe,e(u,U),r(l)===null&&U===r(u)&&(b?(w(q),q=-1):b=!0,re(E,pe-ce))):(U.sortIndex=P,e(l,U),_||p||(_=!0,Q(D))),U},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(U){var ee=y;return function(){var pe=y;y=ee;try{return U.apply(this,arguments)}finally{y=pe}}}})(bv);wv.exports=bv;var xx=wv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx=ve,Dn=xx;function Ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _v=new Set,Oc={};function no(t,e){cl(t,e),cl(t+"Capture",e)}function cl(t,e){for(Oc[t]=e,t=0;t<e.length;t++)_v.add(e[t])}var vs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rp=Object.prototype.hasOwnProperty,Nx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l2={},c2={};function kx(t){return Rp.call(c2,t)?!0:Rp.call(l2,t)?!1:Nx.test(t)?c2[t]=!0:(l2[t]=!0,!1)}function jx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ax(t,e,r,n){if(e===null||typeof e>"u"||jx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){zr[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];zr[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){zr[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){zr[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){zr[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){zr[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){zr[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){zr[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){zr[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var u0=/[\-:]([a-z])/g;function d0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(u0,d0);zr[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(u0,d0);zr[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(u0,d0);zr[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){zr[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});zr.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){zr[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function h0(t,e,r,n){var i=zr.hasOwnProperty(e)?zr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ax(e,r,i,n)&&(r=null),n||i===null?kx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _s=Sx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$u=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),f0=Symbol.for("react.strict_mode"),Dp=Symbol.for("react.profiler"),xv=Symbol.for("react.provider"),Sv=Symbol.for("react.context"),p0=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Bp=Symbol.for("react.suspense_list"),m0=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),Nv=Symbol.for("react.offscreen"),u2=Symbol.iterator;function Zl(t){return t===null||typeof t!="object"?null:(t=u2&&t[u2]||t["@@iterator"],typeof t=="function"?t:null)}var er=Object.assign,Tf;function dc(t){if(Tf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Tf=e&&e[1]||""}return`
`+Tf+t}var Of=!1;function If(t,e){if(!t||Of)return"";Of=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Of=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?dc(t):""}function Ex(t){switch(t.tag){case 5:return dc(t.type);case 16:return dc("Lazy");case 13:return dc("Suspense");case 19:return dc("SuspenseList");case 0:case 2:case 15:return t=If(t.type,!1),t;case 11:return t=If(t.type.render,!1),t;case 1:return t=If(t.type,!0),t;default:return""}}function Up(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Uo:return"Portal";case Dp:return"Profiler";case f0:return"StrictMode";case Mp:return"Suspense";case Bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sv:return(t.displayName||"Context")+".Consumer";case xv:return(t._context.displayName||"Context")+".Provider";case p0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case m0:return e=t.displayName||null,e!==null?e:Up(t.type)||"Memo";case zs:e=t._payload,t=t._init;try{return Up(t(e))}catch{}}return null}function Lx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(e);case 8:return e===f0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Cx(t){var e=kv(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=Cx(t))}function jv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=kv(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Md(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qp(t,e){var r=e.checked;return er({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function d2(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=la(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Av(t,e){e=e.checked,e!=null&&h0(t,"checked",e,!1)}function $p(t,e){Av(t,e);var r=la(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zp(t,e.type,r):e.hasOwnProperty("defaultValue")&&zp(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function h2(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zp(t,e,r){(e!=="number"||Md(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var hc=Array.isArray;function Zo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+la(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Wp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return er({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f2(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ee(92));if(hc(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:la(r)}}function Ev(t,e){var r=la(e.value),n=la(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function p2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,Cv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ic(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Px=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){Px.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function Pv(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function Tv(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Pv(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Tx=er({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vp(t,e){if(e){if(Tx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ee(62))}}function Gp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function g0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jp=null,el=null,tl=null;function m2(t){if(t=nu(t)){if(typeof Jp!="function")throw Error(Ee(280));var e=t.stateNode;e&&(e=jh(e),Jp(t.stateNode,t.type,e))}}function Ov(t){el?tl?tl.push(t):tl=[t]:el=t}function Iv(){if(el){var t=el,e=tl;if(tl=el=null,m2(t),e)for(t=0;t<e.length;t++)m2(e[t])}}function Fv(t,e){return t(e)}function Rv(){}var Ff=!1;function Dv(t,e,r){if(Ff)return t(e,r);Ff=!0;try{return Fv(t,e,r)}finally{Ff=!1,(el!==null||tl!==null)&&(Rv(),Iv())}}function Fc(t,e){var r=t.stateNode;if(r===null)return null;var n=jh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ee(231,e,typeof r));return r}var Yp=!1;if(vs)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){Yp=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{Yp=!1}function Ox(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var yc=!1,Bd=null,Ud=!1,Xp=null,Ix={onError:function(t){yc=!0,Bd=t}};function Fx(t,e,r,n,i,s,a,o,l){yc=!1,Bd=null,Ox.apply(Ix,arguments)}function Rx(t,e,r,n,i,s,a,o,l){if(Fx.apply(this,arguments),yc){if(yc){var u=Bd;yc=!1,Bd=null}else throw Error(Ee(198));Ud||(Ud=!0,Xp=u)}}function io(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Mv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function g2(t){if(io(t)!==t)throw Error(Ee(188))}function Dx(t){var e=t.alternate;if(!e){if(e=io(t),e===null)throw Error(Ee(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return g2(i),t;if(s===n)return g2(i),e;s=s.sibling}throw Error(Ee(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Ee(189))}}if(r.alternate!==n)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?t:e}function Bv(t){return t=Dx(t),t!==null?Uv(t):null}function Uv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uv(t);if(e!==null)return e;t=t.sibling}return null}var qv=Dn.unstable_scheduleCallback,v2=Dn.unstable_cancelCallback,Mx=Dn.unstable_shouldYield,Bx=Dn.unstable_requestPaint,fr=Dn.unstable_now,Ux=Dn.unstable_getCurrentPriorityLevel,v0=Dn.unstable_ImmediatePriority,$v=Dn.unstable_UserBlockingPriority,qd=Dn.unstable_NormalPriority,qx=Dn.unstable_LowPriority,zv=Dn.unstable_IdlePriority,xh=null,Wi=null;function $x(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(xh,t,void 0,(t.current.flags&128)===128)}catch{}}var yi=Math.clz32?Math.clz32:Hx,zx=Math.log,Wx=Math.LN2;function Hx(t){return t>>>=0,t===0?32:31-(zx(t)/Wx|0)|0}var Hu=64,Vu=4194304;function fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $d(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=fc(o):(s&=a,s!==0&&(n=fc(s)))}else a=r&~i,a!==0?n=fc(a):s!==0&&(n=fc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-yi(e),i=1<<r,n|=t[r],e&=~i;return n}function Vx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gx(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-yi(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=Vx(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Qp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Wv(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function Rf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function tu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yi(e),t[e]=r}function Kx(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-yi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function y0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-yi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ot=0;function Hv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vv,w0,Gv,Kv,Jv,Zp=!1,Gu=[],Zs=null,ea=null,ta=null,Rc=new Map,Dc=new Map,Hs=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y2(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(e.pointerId)}}function tc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nu(e),e!==null&&w0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Yx(t,e,r,n,i){switch(e){case"focusin":return Zs=tc(Zs,t,e,r,n,i),!0;case"dragenter":return ea=tc(ea,t,e,r,n,i),!0;case"mouseover":return ta=tc(ta,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Rc.set(s,tc(Rc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Dc.set(s,tc(Dc.get(s)||null,t,e,r,n,i)),!0}return!1}function Yv(t){var e=qa(t.target);if(e!==null){var r=io(e);if(r!==null){if(e=r.tag,e===13){if(e=Mv(r),e!==null){t.blockedOn=e,Jv(t.priority,function(){Gv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=e1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Kp=n,r.target.dispatchEvent(n),Kp=null}else return e=nu(r),e!==null&&w0(e),t.blockedOn=r,!1;e.shift()}return!0}function w2(t,e,r){wd(t)&&r.delete(e)}function Xx(){Zp=!1,Zs!==null&&wd(Zs)&&(Zs=null),ea!==null&&wd(ea)&&(ea=null),ta!==null&&wd(ta)&&(ta=null),Rc.forEach(w2),Dc.forEach(w2)}function rc(t,e){t.blockedOn===e&&(t.blockedOn=null,Zp||(Zp=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,Xx)))}function Mc(t){function e(i){return rc(i,t)}if(0<Gu.length){rc(Gu[0],t);for(var r=1;r<Gu.length;r++){var n=Gu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zs!==null&&rc(Zs,t),ea!==null&&rc(ea,t),ta!==null&&rc(ta,t),Rc.forEach(e),Dc.forEach(e),r=0;r<Hs.length;r++)n=Hs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)Yv(r),r.blockedOn===null&&Hs.shift()}var rl=_s.ReactCurrentBatchConfig,zd=!0;function Qx(t,e,r,n){var i=Ot,s=rl.transition;rl.transition=null;try{Ot=1,b0(t,e,r,n)}finally{Ot=i,rl.transition=s}}function Zx(t,e,r,n){var i=Ot,s=rl.transition;rl.transition=null;try{Ot=4,b0(t,e,r,n)}finally{Ot=i,rl.transition=s}}function b0(t,e,r,n){if(zd){var i=e1(t,e,r,n);if(i===null)Vf(t,e,n,Wd,r),y2(t,n);else if(Yx(i,t,e,r,n))n.stopPropagation();else if(y2(t,n),e&4&&-1<Jx.indexOf(t)){for(;i!==null;){var s=nu(i);if(s!==null&&Vv(s),s=e1(t,e,r,n),s===null&&Vf(t,e,n,Wd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Vf(t,e,n,null,r)}}var Wd=null;function e1(t,e,r,n){if(Wd=null,t=g0(n),t=qa(t),t!==null)if(e=io(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Mv(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wd=t,null}function Xv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ux()){case v0:return 1;case $v:return 4;case qd:case qx:return 16;case zv:return 536870912;default:return 16}default:return 16}}var Ks=null,_0=null,bd=null;function Qv(){if(bd)return bd;var t,e=_0,r=e.length,n,i="value"in Ks?Ks.value:Ks.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return bd=i.slice(t,1<n?1-n:void 0)}function _d(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ku(){return!0}function b2(){return!1}function Bn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ku:b2,this.isPropagationStopped=b2,this}return er(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ku)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ku)},persist:function(){},isPersistent:Ku}),e}var yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x0=Bn(yl),ru=er({},yl,{view:0,detail:0}),e3=Bn(ru),Df,Mf,nc,Sh=er({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:S0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nc&&(nc&&t.type==="mousemove"?(Df=t.screenX-nc.screenX,Mf=t.screenY-nc.screenY):Mf=Df=0,nc=t),Df)},movementY:function(t){return"movementY"in t?t.movementY:Mf}}),_2=Bn(Sh),t3=er({},Sh,{dataTransfer:0}),r3=Bn(t3),n3=er({},ru,{relatedTarget:0}),Bf=Bn(n3),i3=er({},yl,{animationName:0,elapsedTime:0,pseudoElement:0}),s3=Bn(i3),a3=er({},yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o3=Bn(a3),l3=er({},yl,{data:0}),x2=Bn(l3),c3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=d3[t])?!!e[t]:!1}function S0(){return h3}var f3=er({},ru,{key:function(t){if(t.key){var e=c3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_d(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:S0,charCode:function(t){return t.type==="keypress"?_d(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_d(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),p3=Bn(f3),m3=er({},Sh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S2=Bn(m3),g3=er({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:S0}),v3=Bn(g3),y3=er({},yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),w3=Bn(y3),b3=er({},Sh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_3=Bn(b3),x3=[9,13,27,32],N0=vs&&"CompositionEvent"in window,wc=null;vs&&"documentMode"in document&&(wc=document.documentMode);var S3=vs&&"TextEvent"in window&&!wc,Zv=vs&&(!N0||wc&&8<wc&&11>=wc),N2=" ",k2=!1;function ey(t,e){switch(t){case"keyup":return x3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $o=!1;function N3(t,e){switch(t){case"compositionend":return ty(e);case"keypress":return e.which!==32?null:(k2=!0,N2);case"textInput":return t=e.data,t===N2&&k2?null:t;default:return null}}function k3(t,e){if($o)return t==="compositionend"||!N0&&ey(t,e)?(t=Qv(),bd=_0=Ks=null,$o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zv&&e.locale!=="ko"?null:e.data;default:return null}}var j3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!j3[t.type]:e==="textarea"}function ry(t,e,r,n){Ov(n),e=Hd(e,"onChange"),0<e.length&&(r=new x0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var bc=null,Bc=null;function A3(t){fy(t,0)}function Nh(t){var e=Ho(t);if(jv(e))return t}function E3(t,e){if(t==="change")return e}var ny=!1;if(vs){var Uf;if(vs){var qf="oninput"in document;if(!qf){var A2=document.createElement("div");A2.setAttribute("oninput","return;"),qf=typeof A2.oninput=="function"}Uf=qf}else Uf=!1;ny=Uf&&(!document.documentMode||9<document.documentMode)}function E2(){bc&&(bc.detachEvent("onpropertychange",iy),Bc=bc=null)}function iy(t){if(t.propertyName==="value"&&Nh(Bc)){var e=[];ry(e,Bc,t,g0(t)),Dv(A3,e)}}function L3(t,e,r){t==="focusin"?(E2(),bc=e,Bc=r,bc.attachEvent("onpropertychange",iy)):t==="focusout"&&E2()}function C3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nh(Bc)}function P3(t,e){if(t==="click")return Nh(e)}function T3(t,e){if(t==="input"||t==="change")return Nh(e)}function O3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bi=typeof Object.is=="function"?Object.is:O3;function Uc(t,e){if(bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Rp.call(e,i)||!bi(t[i],e[i]))return!1}return!0}function L2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function C2(t,e){var r=L2(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=L2(r)}}function sy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ay(){for(var t=window,e=Md();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Md(t.document)}return e}function k0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function I3(t){var e=ay(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&sy(r.ownerDocument.documentElement,r)){if(n!==null&&k0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=C2(r,s);var a=C2(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var F3=vs&&"documentMode"in document&&11>=document.documentMode,zo=null,t1=null,_c=null,r1=!1;function P2(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r1||zo==null||zo!==Md(n)||(n=zo,"selectionStart"in n&&k0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_c&&Uc(_c,n)||(_c=n,n=Hd(t1,"onSelect"),0<n.length&&(e=new x0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=zo)))}function Ju(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Wo={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},$f={},oy={};vs&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function kh(t){if($f[t])return $f[t];if(!Wo[t])return t;var e=Wo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in oy)return $f[t]=e[r];return t}var ly=kh("animationend"),cy=kh("animationiteration"),uy=kh("animationstart"),dy=kh("transitionend"),hy=new Map,T2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){hy.set(t,e),no(e,[t])}for(var zf=0;zf<T2.length;zf++){var Wf=T2[zf],R3=Wf.toLowerCase(),D3=Wf[0].toUpperCase()+Wf.slice(1);ha(R3,"on"+D3)}ha(ly,"onAnimationEnd");ha(cy,"onAnimationIteration");ha(uy,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(dy,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);no("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));no("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));no("onBeforeInput",["compositionend","keypress","textInput","paste"]);no("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));no("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));no("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M3=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function O2(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Rx(n,e,void 0,t),t.currentTarget=null}function fy(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;O2(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;O2(i,o,u),s=l}}}if(Ud)throw t=Xp,Ud=!1,Xp=null,t}function Vt(t,e){var r=e[o1];r===void 0&&(r=e[o1]=new Set);var n=t+"__bubble";r.has(n)||(py(e,t,2,!1),r.add(n))}function Hf(t,e,r){var n=0;e&&(n|=4),py(r,t,n,e)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function qc(t){if(!t[Yu]){t[Yu]=!0,_v.forEach(function(r){r!=="selectionchange"&&(M3.has(r)||Hf(r,!1,t),Hf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yu]||(e[Yu]=!0,Hf("selectionchange",!1,e))}}function py(t,e,r,n){switch(Xv(e)){case 1:var i=Qx;break;case 4:i=Zx;break;default:i=b0}r=i.bind(null,e,r,t),i=void 0,!Yp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Vf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=qa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Dv(function(){var u=s,f=g0(r),m=[];e:{var y=hy.get(t);if(y!==void 0){var p=x0,_=t;switch(t){case"keypress":if(_d(r)===0)break e;case"keydown":case"keyup":p=p3;break;case"focusin":_="focus",p=Bf;break;case"focusout":_="blur",p=Bf;break;case"beforeblur":case"afterblur":p=Bf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=_2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=r3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=v3;break;case ly:case cy:case uy:p=s3;break;case dy:p=w3;break;case"scroll":p=e3;break;case"wheel":p=_3;break;case"copy":case"cut":case"paste":p=o3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=S2}var b=(e&4)!==0,k=!b&&t==="scroll",w=b?y!==null?y+"Capture":null:y;b=[];for(var N=u,S;N!==null;){S=N;var E=S.stateNode;if(S.tag===5&&E!==null&&(S=E,w!==null&&(E=Fc(N,w),E!=null&&b.push($c(N,E,S)))),k)break;N=N.return}0<b.length&&(y=new p(y,_,null,r,f),m.push({event:y,listeners:b}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",y&&r!==Kp&&(_=r.relatedTarget||r.fromElement)&&(qa(_)||_[ys]))break e;if((p||y)&&(y=f.window===f?f:(y=f.ownerDocument)?y.defaultView||y.parentWindow:window,p?(_=r.relatedTarget||r.toElement,p=u,_=_?qa(_):null,_!==null&&(k=io(_),_!==k||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(b=_2,E="onMouseLeave",w="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(b=S2,E="onPointerLeave",w="onPointerEnter",N="pointer"),k=p==null?y:Ho(p),S=_==null?y:Ho(_),y=new b(E,N+"leave",p,r,f),y.target=k,y.relatedTarget=S,E=null,qa(f)===u&&(b=new b(w,N+"enter",_,r,f),b.target=S,b.relatedTarget=k,E=b),k=E,p&&_)t:{for(b=p,w=_,N=0,S=b;S;S=Ao(S))N++;for(S=0,E=w;E;E=Ao(E))S++;for(;0<N-S;)b=Ao(b),N--;for(;0<S-N;)w=Ao(w),S--;for(;N--;){if(b===w||w!==null&&b===w.alternate)break t;b=Ao(b),w=Ao(w)}b=null}else b=null;p!==null&&I2(m,y,p,b,!1),_!==null&&k!==null&&I2(m,k,_,b,!0)}}e:{if(y=u?Ho(u):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var D=E3;else if(j2(y))if(ny)D=T3;else{D=C3;var O=L3}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(D=P3);if(D&&(D=D(t,u))){ry(m,D,r,f);break e}O&&O(t,y,u),t==="focusout"&&(O=y._wrapperState)&&O.controlled&&y.type==="number"&&zp(y,"number",y.value)}switch(O=u?Ho(u):window,t){case"focusin":(j2(O)||O.contentEditable==="true")&&(zo=O,t1=u,_c=null);break;case"focusout":_c=t1=zo=null;break;case"mousedown":r1=!0;break;case"contextmenu":case"mouseup":case"dragend":r1=!1,P2(m,r,f);break;case"selectionchange":if(F3)break;case"keydown":case"keyup":P2(m,r,f)}var z;if(N0)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else $o?ey(t,r)&&(q="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(Zv&&r.locale!=="ko"&&($o||q!=="onCompositionStart"?q==="onCompositionEnd"&&$o&&(z=Qv()):(Ks=f,_0="value"in Ks?Ks.value:Ks.textContent,$o=!0)),O=Hd(u,q),0<O.length&&(q=new x2(q,t,null,r,f),m.push({event:q,listeners:O}),z?q.data=z:(z=ty(r),z!==null&&(q.data=z)))),(z=S3?N3(t,r):k3(t,r))&&(u=Hd(u,"onBeforeInput"),0<u.length&&(f=new x2("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:u}),f.data=z))}fy(m,e)})}function $c(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Hd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fc(t,r),s!=null&&n.unshift($c(t,s,i)),s=Fc(t,e),s!=null&&n.push($c(t,s,i))),t=t.return}return n}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function I2(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Fc(r,s),l!=null&&a.unshift($c(r,l,o))):i||(l=Fc(r,s),l!=null&&a.push($c(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var B3=/\r\n?/g,U3=/\u0000|\uFFFD/g;function F2(t){return(typeof t=="string"?t:""+t).replace(B3,`
`).replace(U3,"")}function Xu(t,e,r){if(e=F2(e),F2(t)!==e&&r)throw Error(Ee(425))}function Vd(){}var n1=null,i1=null;function s1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var a1=typeof setTimeout=="function"?setTimeout:void 0,q3=typeof clearTimeout=="function"?clearTimeout:void 0,R2=typeof Promise=="function"?Promise:void 0,$3=typeof queueMicrotask=="function"?queueMicrotask:typeof R2<"u"?function(t){return R2.resolve(null).then(t).catch(z3)}:a1;function z3(t){setTimeout(function(){throw t})}function Gf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Mc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Mc(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wl=Math.random().toString(36).slice(2),qi="__reactFiber$"+wl,zc="__reactProps$"+wl,ys="__reactContainer$"+wl,o1="__reactEvents$"+wl,W3="__reactListeners$"+wl,H3="__reactHandles$"+wl;function qa(t){var e=t[qi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ys]||r[qi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=D2(t);t!==null;){if(r=t[qi])return r;t=D2(t)}return e}t=r,r=t.parentNode}return null}function nu(t){return t=t[qi]||t[ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ho(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ee(33))}function jh(t){return t[zc]||null}var l1=[],Vo=-1;function fa(t){return{current:t}}function Kt(t){0>Vo||(t.current=l1[Vo],l1[Vo]=null,Vo--)}function Wt(t,e){Vo++,l1[Vo]=t.current,t.current=e}var ca={},en=fa(ca),yn=fa(!1),Ja=ca;function ul(t,e){var r=t.type.contextTypes;if(!r)return ca;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function Gd(){Kt(yn),Kt(en)}function M2(t,e,r){if(en.current!==ca)throw Error(Ee(168));Wt(en,e),Wt(yn,r)}function my(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ee(108,Lx(t)||"Unknown",i));return er({},r,n)}function Kd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,Ja=en.current,Wt(en,t),Wt(yn,yn.current),!0}function B2(t,e,r){var n=t.stateNode;if(!n)throw Error(Ee(169));r?(t=my(t,e,Ja),n.__reactInternalMemoizedMergedChildContext=t,Kt(yn),Kt(en),Wt(en,t)):Kt(yn),Wt(yn,r)}var hs=null,Ah=!1,Kf=!1;function gy(t){hs===null?hs=[t]:hs.push(t)}function V3(t){Ah=!0,gy(t)}function pa(){if(!Kf&&hs!==null){Kf=!0;var t=0,e=Ot;try{var r=hs;for(Ot=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}hs=null,Ah=!1}catch(i){throw hs!==null&&(hs=hs.slice(t+1)),qv(v0,pa),i}finally{Ot=e,Kf=!1}}return null}var Go=[],Ko=0,Jd=null,Yd=0,Gn=[],Kn=0,Ya=null,ps=1,ms="";function Fa(t,e){Go[Ko++]=Yd,Go[Ko++]=Jd,Jd=t,Yd=e}function vy(t,e,r){Gn[Kn++]=ps,Gn[Kn++]=ms,Gn[Kn++]=Ya,Ya=t;var n=ps;t=ms;var i=32-yi(n)-1;n&=~(1<<i),r+=1;var s=32-yi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ps=1<<32-yi(e)+i|r<<i|n,ms=s+t}else ps=1<<s|r<<i|n,ms=t}function j0(t){t.return!==null&&(Fa(t,1),vy(t,1,0))}function A0(t){for(;t===Jd;)Jd=Go[--Ko],Go[Ko]=null,Yd=Go[--Ko],Go[Ko]=null;for(;t===Ya;)Ya=Gn[--Kn],Gn[Kn]=null,ms=Gn[--Kn],Gn[Kn]=null,ps=Gn[--Kn],Gn[Kn]=null}var Rn=null,In=null,Yt=!1,gi=null;function yy(t,e){var r=Jn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function U2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,In=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ya!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Jn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Rn=t,In=null,!0):!1;default:return!1}}function c1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function u1(t){if(Yt){var e=In;if(e){var r=e;if(!U2(t,e)){if(c1(t))throw Error(Ee(418));e=ra(r.nextSibling);var n=Rn;e&&U2(t,e)?yy(n,r):(t.flags=t.flags&-4097|2,Yt=!1,Rn=t)}}else{if(c1(t))throw Error(Ee(418));t.flags=t.flags&-4097|2,Yt=!1,Rn=t}}}function q2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function Qu(t){if(t!==Rn)return!1;if(!Yt)return q2(t),Yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!s1(t.type,t.memoizedProps)),e&&(e=In)){if(c1(t))throw wy(),Error(Ee(418));for(;e;)yy(t,e),e=ra(e.nextSibling)}if(q2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){In=ra(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}In=null}}else In=Rn?ra(t.stateNode.nextSibling):null;return!0}function wy(){for(var t=In;t;)t=ra(t.nextSibling)}function dl(){In=Rn=null,Yt=!1}function E0(t){gi===null?gi=[t]:gi.push(t)}var G3=_s.ReactCurrentBatchConfig;function ic(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var n=r.stateNode}if(!n)throw Error(Ee(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,t))}return t}function Zu(t,e){throw t=Object.prototype.toString.call(e),Error(Ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $2(t){var e=t._init;return e(t._payload)}function by(t){function e(w,N){if(t){var S=w.deletions;S===null?(w.deletions=[N],w.flags|=16):S.push(N)}}function r(w,N){if(!t)return null;for(;N!==null;)e(w,N),N=N.sibling;return null}function n(w,N){for(w=new Map;N!==null;)N.key!==null?w.set(N.key,N):w.set(N.index,N),N=N.sibling;return w}function i(w,N){return w=aa(w,N),w.index=0,w.sibling=null,w}function s(w,N,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<N?(w.flags|=2,N):S):(w.flags|=2,N)):(w.flags|=1048576,N)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,N,S,E){return N===null||N.tag!==6?(N=tp(S,w.mode,E),N.return=w,N):(N=i(N,S),N.return=w,N)}function l(w,N,S,E){var D=S.type;return D===qo?f(w,N,S.props.children,E,S.key):N!==null&&(N.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===zs&&$2(D)===N.type)?(E=i(N,S.props),E.ref=ic(w,N,S),E.return=w,E):(E=Ed(S.type,S.key,S.props,null,w.mode,E),E.ref=ic(w,N,S),E.return=w,E)}function u(w,N,S,E){return N===null||N.tag!==4||N.stateNode.containerInfo!==S.containerInfo||N.stateNode.implementation!==S.implementation?(N=rp(S,w.mode,E),N.return=w,N):(N=i(N,S.children||[]),N.return=w,N)}function f(w,N,S,E,D){return N===null||N.tag!==7?(N=Va(S,w.mode,E,D),N.return=w,N):(N=i(N,S),N.return=w,N)}function m(w,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return N=tp(""+N,w.mode,S),N.return=w,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case $u:return S=Ed(N.type,N.key,N.props,null,w.mode,S),S.ref=ic(w,null,N),S.return=w,S;case Uo:return N=rp(N,w.mode,S),N.return=w,N;case zs:var E=N._init;return m(w,E(N._payload),S)}if(hc(N)||Zl(N))return N=Va(N,w.mode,S,null),N.return=w,N;Zu(w,N)}return null}function y(w,N,S,E){var D=N!==null?N.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:o(w,N,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case $u:return S.key===D?l(w,N,S,E):null;case Uo:return S.key===D?u(w,N,S,E):null;case zs:return D=S._init,y(w,N,D(S._payload),E)}if(hc(S)||Zl(S))return D!==null?null:f(w,N,S,E,null);Zu(w,S)}return null}function p(w,N,S,E,D){if(typeof E=="string"&&E!==""||typeof E=="number")return w=w.get(S)||null,o(N,w,""+E,D);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case $u:return w=w.get(E.key===null?S:E.key)||null,l(N,w,E,D);case Uo:return w=w.get(E.key===null?S:E.key)||null,u(N,w,E,D);case zs:var O=E._init;return p(w,N,S,O(E._payload),D)}if(hc(E)||Zl(E))return w=w.get(S)||null,f(N,w,E,D,null);Zu(N,E)}return null}function _(w,N,S,E){for(var D=null,O=null,z=N,q=N=0,B=null;z!==null&&q<S.length;q++){z.index>q?(B=z,z=null):B=z.sibling;var W=y(w,z,S[q],E);if(W===null){z===null&&(z=B);break}t&&z&&W.alternate===null&&e(w,z),N=s(W,N,q),O===null?D=W:O.sibling=W,O=W,z=B}if(q===S.length)return r(w,z),Yt&&Fa(w,q),D;if(z===null){for(;q<S.length;q++)z=m(w,S[q],E),z!==null&&(N=s(z,N,q),O===null?D=z:O.sibling=z,O=z);return Yt&&Fa(w,q),D}for(z=n(w,z);q<S.length;q++)B=p(z,w,q,S[q],E),B!==null&&(t&&B.alternate!==null&&z.delete(B.key===null?q:B.key),N=s(B,N,q),O===null?D=B:O.sibling=B,O=B);return t&&z.forEach(function(j){return e(w,j)}),Yt&&Fa(w,q),D}function b(w,N,S,E){var D=Zl(S);if(typeof D!="function")throw Error(Ee(150));if(S=D.call(S),S==null)throw Error(Ee(151));for(var O=D=null,z=N,q=N=0,B=null,W=S.next();z!==null&&!W.done;q++,W=S.next()){z.index>q?(B=z,z=null):B=z.sibling;var j=y(w,z,W.value,E);if(j===null){z===null&&(z=B);break}t&&z&&j.alternate===null&&e(w,z),N=s(j,N,q),O===null?D=j:O.sibling=j,O=j,z=B}if(W.done)return r(w,z),Yt&&Fa(w,q),D;if(z===null){for(;!W.done;q++,W=S.next())W=m(w,W.value,E),W!==null&&(N=s(W,N,q),O===null?D=W:O.sibling=W,O=W);return Yt&&Fa(w,q),D}for(z=n(w,z);!W.done;q++,W=S.next())W=p(z,w,q,W.value,E),W!==null&&(t&&W.alternate!==null&&z.delete(W.key===null?q:W.key),N=s(W,N,q),O===null?D=W:O.sibling=W,O=W);return t&&z.forEach(function(A){return e(w,A)}),Yt&&Fa(w,q),D}function k(w,N,S,E){if(typeof S=="object"&&S!==null&&S.type===qo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case $u:e:{for(var D=S.key,O=N;O!==null;){if(O.key===D){if(D=S.type,D===qo){if(O.tag===7){r(w,O.sibling),N=i(O,S.props.children),N.return=w,w=N;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===zs&&$2(D)===O.type){r(w,O.sibling),N=i(O,S.props),N.ref=ic(w,O,S),N.return=w,w=N;break e}r(w,O);break}else e(w,O);O=O.sibling}S.type===qo?(N=Va(S.props.children,w.mode,E,S.key),N.return=w,w=N):(E=Ed(S.type,S.key,S.props,null,w.mode,E),E.ref=ic(w,N,S),E.return=w,w=E)}return a(w);case Uo:e:{for(O=S.key;N!==null;){if(N.key===O)if(N.tag===4&&N.stateNode.containerInfo===S.containerInfo&&N.stateNode.implementation===S.implementation){r(w,N.sibling),N=i(N,S.children||[]),N.return=w,w=N;break e}else{r(w,N);break}else e(w,N);N=N.sibling}N=rp(S,w.mode,E),N.return=w,w=N}return a(w);case zs:return O=S._init,k(w,N,O(S._payload),E)}if(hc(S))return _(w,N,S,E);if(Zl(S))return b(w,N,S,E);Zu(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,N!==null&&N.tag===6?(r(w,N.sibling),N=i(N,S),N.return=w,w=N):(r(w,N),N=tp(S,w.mode,E),N.return=w,w=N),a(w)):r(w,N)}return k}var hl=by(!0),_y=by(!1),Xd=fa(null),Qd=null,Jo=null,L0=null;function C0(){L0=Jo=Qd=null}function P0(t){var e=Xd.current;Kt(Xd),t._currentValue=e}function d1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function nl(t,e){Qd=t,L0=Jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Qn(t){var e=t._currentValue;if(L0!==t)if(t={context:t,memoizedValue:e,next:null},Jo===null){if(Qd===null)throw Error(Ee(308));Jo=t,Qd.dependencies={lanes:0,firstContext:t}}else Jo=Jo.next=t;return e}var $a=null;function T0(t){$a===null?$a=[t]:$a.push(t)}function xy(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,T0(e)):(r.next=i.next,i.next=r),e.interleaved=r,ws(t,n)}function ws(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ws=!1;function O0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,kt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ws(t,r)}return i=n.interleaved,i===null?(e.next=e,T0(n)):(e.next=i.next,i.next=e),n.interleaved=e,ws(t,r)}function xd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y0(t,r)}}function z2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Zd(t,e,r,n){var i=t.updateQueue;Ws=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,f=u=l=null,o=s;do{var y=o.lane,p=o.eventTime;if((n&y)===y){f!==null&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=t,b=o;switch(y=e,p=r,b.tag){case 1:if(_=b.payload,typeof _=="function"){m=_.call(p,m,y);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,y=typeof _=="function"?_.call(p,m,y):_,y==null)break e;m=er({},m,y);break e;case 2:Ws=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else p={eventTime:p,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=p,l=m):f=f.next=p,a|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(f===null&&(l=m),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qa|=a,t.lanes=a,t.memoizedState=m}}function W2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ee(191,i));i.call(n)}}}var iu={},Hi=fa(iu),Wc=fa(iu),Hc=fa(iu);function za(t){if(t===iu)throw Error(Ee(174));return t}function I0(t,e){switch(Wt(Hc,e),Wt(Wc,t),Wt(Hi,iu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}Kt(Hi),Wt(Hi,e)}function fl(){Kt(Hi),Kt(Wc),Kt(Hc)}function Ny(t){za(Hc.current);var e=za(Hi.current),r=Hp(e,t.type);e!==r&&(Wt(Wc,t),Wt(Hi,r))}function F0(t){Wc.current===t&&(Kt(Hi),Kt(Wc))}var Qt=fa(0);function eh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jf=[];function R0(){for(var t=0;t<Jf.length;t++)Jf[t]._workInProgressVersionPrimary=null;Jf.length=0}var Sd=_s.ReactCurrentDispatcher,Yf=_s.ReactCurrentBatchConfig,Xa=0,Zt=null,Lr=null,Or=null,th=!1,xc=!1,Vc=0,K3=0;function Vr(){throw Error(Ee(321))}function D0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!bi(t[r],e[r]))return!1;return!0}function M0(t,e,r,n,i,s){if(Xa=s,Zt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sd.current=t===null||t.memoizedState===null?Q3:Z3,t=r(n,i),xc){s=0;do{if(xc=!1,Vc=0,25<=s)throw Error(Ee(301));s+=1,Or=Lr=null,e.updateQueue=null,Sd.current=e4,t=r(n,i)}while(xc)}if(Sd.current=rh,e=Lr!==null&&Lr.next!==null,Xa=0,Or=Lr=Zt=null,th=!1,e)throw Error(Ee(300));return t}function B0(){var t=Vc!==0;return Vc=0,t}function Bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?Zt.memoizedState=Or=t:Or=Or.next=t,Or}function Zn(){if(Lr===null){var t=Zt.alternate;t=t!==null?t.memoizedState:null}else t=Lr.next;var e=Or===null?Zt.memoizedState:Or.next;if(e!==null)Or=e,Lr=t;else{if(t===null)throw Error(Ee(310));Lr=t,t={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Or===null?Zt.memoizedState=Or=t:Or=Or.next=t}return Or}function Gc(t,e){return typeof e=="function"?e(t):e}function Xf(t){var e=Zn(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var n=Lr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var f=u.lane;if((Xa&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var m={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=m,a=n):l=l.next=m,Zt.lanes|=f,Qa|=f}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,bi(n,e.memoizedState)||(vn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Zt.lanes|=s,Qa|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Qf(t){var e=Zn(),r=e.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);bi(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function ky(){}function jy(t,e){var r=Zt,n=Zn(),i=e(),s=!bi(n.memoizedState,i);if(s&&(n.memoizedState=i,vn=!0),n=n.queue,U0(Ly.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Or!==null&&Or.memoizedState.tag&1){if(r.flags|=2048,Kc(9,Ey.bind(null,r,n,i,e),void 0,null),Fr===null)throw Error(Ee(349));Xa&30||Ay(r,e,i)}return i}function Ay(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Ey(t,e,r,n){e.value=r,e.getSnapshot=n,Cy(e)&&Py(t)}function Ly(t,e,r){return r(function(){Cy(e)&&Py(t)})}function Cy(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!bi(t,r)}catch{return!0}}function Py(t){var e=ws(t,1);e!==null&&wi(e,t,1,-1)}function H2(t){var e=Bi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gc,lastRenderedState:t},e.queue=t,t=t.dispatch=X3.bind(null,Zt,t),[e.memoizedState,t]}function Kc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Zt.updateQueue,e===null?(e={lastEffect:null,stores:null},Zt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ty(){return Zn().memoizedState}function Nd(t,e,r,n){var i=Bi();Zt.flags|=t,i.memoizedState=Kc(1|e,r,void 0,n===void 0?null:n)}function Eh(t,e,r,n){var i=Zn();n=n===void 0?null:n;var s=void 0;if(Lr!==null){var a=Lr.memoizedState;if(s=a.destroy,n!==null&&D0(n,a.deps)){i.memoizedState=Kc(e,r,s,n);return}}Zt.flags|=t,i.memoizedState=Kc(1|e,r,s,n)}function V2(t,e){return Nd(8390656,8,t,e)}function U0(t,e){return Eh(2048,8,t,e)}function Oy(t,e){return Eh(4,2,t,e)}function Iy(t,e){return Eh(4,4,t,e)}function Fy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ry(t,e,r){return r=r!=null?r.concat([t]):null,Eh(4,4,Fy.bind(null,e,t),r)}function q0(){}function Dy(t,e){var r=Zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&D0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function My(t,e){var r=Zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&D0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function By(t,e,r){return Xa&21?(bi(r,e)||(r=Wv(),Zt.lanes|=r,Qa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=r)}function J3(t,e){var r=Ot;Ot=r!==0&&4>r?r:4,t(!0);var n=Yf.transition;Yf.transition={};try{t(!1),e()}finally{Ot=r,Yf.transition=n}}function Uy(){return Zn().memoizedState}function Y3(t,e,r){var n=sa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qy(t))$y(e,r);else if(r=xy(t,e,r,n),r!==null){var i=ln();wi(r,t,n,i),zy(r,e,n)}}function X3(t,e,r){var n=sa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qy(t))$y(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,bi(o,a)){var l=e.interleaved;l===null?(i.next=i,T0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=xy(t,e,i,n),r!==null&&(i=ln(),wi(r,t,n,i),zy(r,e,n))}}function qy(t){var e=t.alternate;return t===Zt||e!==null&&e===Zt}function $y(t,e){xc=th=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function zy(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,y0(t,r)}}var rh={readContext:Qn,useCallback:Vr,useContext:Vr,useEffect:Vr,useImperativeHandle:Vr,useInsertionEffect:Vr,useLayoutEffect:Vr,useMemo:Vr,useReducer:Vr,useRef:Vr,useState:Vr,useDebugValue:Vr,useDeferredValue:Vr,useTransition:Vr,useMutableSource:Vr,useSyncExternalStore:Vr,useId:Vr,unstable_isNewReconciler:!1},Q3={readContext:Qn,useCallback:function(t,e){return Bi().memoizedState=[t,e===void 0?null:e],t},useContext:Qn,useEffect:V2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Nd(4194308,4,Fy.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Nd(4,2,t,e)},useMemo:function(t,e){var r=Bi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Bi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Y3.bind(null,Zt,t),[n.memoizedState,t]},useRef:function(t){var e=Bi();return t={current:t},e.memoizedState=t},useState:H2,useDebugValue:q0,useDeferredValue:function(t){return Bi().memoizedState=t},useTransition:function(){var t=H2(!1),e=t[0];return t=J3.bind(null,t[1]),Bi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Zt,i=Bi();if(Yt){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=e(),Fr===null)throw Error(Ee(349));Xa&30||Ay(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,V2(Ly.bind(null,n,s,t),[t]),n.flags|=2048,Kc(9,Ey.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Bi(),e=Fr.identifierPrefix;if(Yt){var r=ms,n=ps;r=(n&~(1<<32-yi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=K3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Z3={readContext:Qn,useCallback:Dy,useContext:Qn,useEffect:U0,useImperativeHandle:Ry,useInsertionEffect:Oy,useLayoutEffect:Iy,useMemo:My,useReducer:Xf,useRef:Ty,useState:function(){return Xf(Gc)},useDebugValue:q0,useDeferredValue:function(t){var e=Zn();return By(e,Lr.memoizedState,t)},useTransition:function(){var t=Xf(Gc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:ky,useSyncExternalStore:jy,useId:Uy,unstable_isNewReconciler:!1},e4={readContext:Qn,useCallback:Dy,useContext:Qn,useEffect:U0,useImperativeHandle:Ry,useInsertionEffect:Oy,useLayoutEffect:Iy,useMemo:My,useReducer:Qf,useRef:Ty,useState:function(){return Qf(Gc)},useDebugValue:q0,useDeferredValue:function(t){var e=Zn();return Lr===null?e.memoizedState=t:By(e,Lr.memoizedState,t)},useTransition:function(){var t=Qf(Gc)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:ky,useSyncExternalStore:jy,useId:Uy,unstable_isNewReconciler:!1};function fi(t,e){if(t&&t.defaultProps){e=er({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function h1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:er({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lh={isMounted:function(t){return(t=t._reactInternals)?io(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ln(),i=sa(t),s=gs(n,i);s.payload=e,r!=null&&(s.callback=r),e=na(t,s,i),e!==null&&(wi(e,t,i,n),xd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ln(),i=sa(t),s=gs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=na(t,s,i),e!==null&&(wi(e,t,i,n),xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ln(),n=sa(t),i=gs(r,n);i.tag=2,e!=null&&(i.callback=e),e=na(t,i,n),e!==null&&(wi(e,t,n,r),xd(e,t,n))}};function G2(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Uc(r,n)||!Uc(i,s):!0}function Wy(t,e,r){var n=!1,i=ca,s=e.contextType;return typeof s=="object"&&s!==null?s=Qn(s):(i=wn(e)?Ja:en.current,n=e.contextTypes,s=(n=n!=null)?ul(t,i):ca),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function K2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Lh.enqueueReplaceState(e,e.state,null)}function f1(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},O0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qn(s):(s=wn(e)?Ja:en.current,i.context=ul(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(h1(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Lh.enqueueReplaceState(i,i.state,null),Zd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,e){try{var r="",n=e;do r+=Ex(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Zf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function p1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var t4=typeof WeakMap=="function"?WeakMap:Map;function Hy(t,e,r){r=gs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ih||(ih=!0,N1=n),p1(t,e)},r}function Vy(t,e,r){r=gs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){p1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){p1(t,e),typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function J2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new t4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=m4.bind(null,t,e,r),e.then(t,t))}function Y2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function X2(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=gs(-1,1),e.tag=2,na(r,e,1))),r.lanes|=1),t)}var r4=_s.ReactCurrentOwner,vn=!1;function on(t,e,r,n){e.child=t===null?_y(e,null,r,n):hl(e,t.child,r,n)}function Q2(t,e,r,n,i){r=r.render;var s=e.ref;return nl(e,i),n=M0(t,e,r,n,s,i),r=B0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(Yt&&r&&j0(e),e.flags|=1,on(t,e,n,i),e.child)}function Z2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!J0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,Gy(t,e,s,n,i)):(t=Ed(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Uc,r(a,n)&&t.ref===e.ref)return bs(t,e,i)}return e.flags|=1,t=aa(s,n),t.ref=e.ref,t.return=e,e.child=t}function Gy(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Uc(s,n)&&t.ref===e.ref)if(vn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,bs(t,e,i)}return m1(t,e,r,n,i)}function Ky(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wt(Xo,On),On|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wt(Xo,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Wt(Xo,On),On|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Wt(Xo,On),On|=n;return on(t,e,i,r),e.child}function Jy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function m1(t,e,r,n,i){var s=wn(r)?Ja:en.current;return s=ul(e,s),nl(e,i),r=M0(t,e,r,n,s,i),n=B0(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,bs(t,e,i)):(Yt&&n&&j0(e),e.flags|=1,on(t,e,r,i),e.child)}function eg(t,e,r,n,i){if(wn(r)){var s=!0;Kd(e)}else s=!1;if(nl(e,i),e.stateNode===null)kd(t,e),Wy(e,r,n),f1(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Qn(u):(u=wn(r)?Ja:en.current,u=ul(e,u));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&K2(e,a,n,u),Ws=!1;var y=e.memoizedState;a.state=y,Zd(e,n,a,i),l=e.memoizedState,o!==n||y!==l||yn.current||Ws?(typeof f=="function"&&(h1(e,r,f,n),l=e.memoizedState),(o=Ws||G2(e,r,o,n,y,l,u))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Sy(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:fi(e.type,o),a.props=u,m=e.pendingProps,y=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Qn(l):(l=wn(r)?Ja:en.current,l=ul(e,l));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||y!==l)&&K2(e,a,n,l),Ws=!1,y=e.memoizedState,a.state=y,Zd(e,n,a,i);var _=e.memoizedState;o!==m||y!==_||yn.current||Ws?(typeof p=="function"&&(h1(e,r,p,n),_=e.memoizedState),(u=Ws||G2(e,r,u,n,y,_,l)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,_,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,_,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),a.props=n,a.state=_,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return g1(t,e,r,n,s,i)}function g1(t,e,r,n,i,s){Jy(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&B2(e,r,!1),bs(t,e,s);n=e.stateNode,r4.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=hl(e,t.child,null,s),e.child=hl(e,null,o,s)):on(t,e,o,s),e.memoizedState=n.state,i&&B2(e,r,!0),e.child}function Yy(t){var e=t.stateNode;e.pendingContext?M2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M2(t,e.context,!1),I0(t,e.containerInfo)}function tg(t,e,r,n,i){return dl(),E0(i),e.flags|=256,on(t,e,r,n),e.child}var v1={dehydrated:null,treeContext:null,retryLane:0};function y1(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xy(t,e,r){var n=e.pendingProps,i=Qt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wt(Qt,i&1),t===null)return u1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Th(a,n,0,null),t=Va(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=y1(r),e.memoizedState=v1,t):$0(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return n4(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=aa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=aa(o,s):(s=Va(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?y1(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=v1,n}return s=t.child,t=s.sibling,n=aa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function $0(t,e){return e=Th({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,r,n){return n!==null&&E0(n),hl(e,t.child,null,r),t=$0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n4(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Zf(Error(Ee(422))),ed(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Th({mode:"visible",children:n.children},i,0,null),s=Va(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&hl(e,t.child,null,a),e.child.memoizedState=y1(a),e.memoizedState=v1,s);if(!(e.mode&1))return ed(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ee(419)),n=Zf(s,n,void 0),ed(t,e,a,n)}if(o=(a&t.childLanes)!==0,vn||o){if(n=Fr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ws(t,i),wi(n,t,i,-1))}return K0(),n=Zf(Error(Ee(421))),ed(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=g4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,In=ra(i.nextSibling),Rn=e,Yt=!0,gi=null,t!==null&&(Gn[Kn++]=ps,Gn[Kn++]=ms,Gn[Kn++]=Ya,ps=t.id,ms=t.overflow,Ya=e),e=$0(e,n.children),e.flags|=4096,e)}function rg(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),d1(t.return,e,r)}function ep(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Qy(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(on(t,e,n.children,r),n=Qt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,r,e);else if(t.tag===19)rg(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Wt(Qt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&eh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),ep(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&eh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}ep(e,!0,r,null,s);break;case"together":ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function kd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ee(153));if(e.child!==null){for(t=e.child,r=aa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=aa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function i4(t,e,r){switch(e.tag){case 3:Yy(e),dl();break;case 5:Ny(e);break;case 1:wn(e.type)&&Kd(e);break;case 4:I0(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Wt(Xd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Wt(Qt,Qt.current&1),e.flags|=128,null):r&e.child.childLanes?Xy(t,e,r):(Wt(Qt,Qt.current&1),t=bs(t,e,r),t!==null?t.sibling:null);Wt(Qt,Qt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Qy(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wt(Qt,Qt.current),n)break;return null;case 22:case 23:return e.lanes=0,Ky(t,e,r)}return bs(t,e,r)}var Zy,w1,ew,tw;Zy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};w1=function(){};ew=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,za(Hi.current);var s=null;switch(r){case"input":i=qp(t,i),n=qp(t,n),s=[];break;case"select":i=er({},i,{value:void 0}),n=er({},n,{value:void 0}),s=[];break;case"textarea":i=Wp(t,i),n=Wp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Vd)}Vp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Oc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Oc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Vt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};tw=function(t,e,r,n){r!==n&&(e.flags|=4)};function sc(t,e){if(!Yt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function s4(t,e,r){var n=e.pendingProps;switch(A0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return wn(e.type)&&Gd(),Gr(e),null;case 3:return n=e.stateNode,fl(),Kt(yn),Kt(en),R0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gi!==null&&(A1(gi),gi=null))),w1(t,e),Gr(e),null;case 5:F0(e);var i=za(Hc.current);if(r=e.type,t!==null&&e.stateNode!=null)ew(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ee(166));return Gr(e),null}if(t=za(Hi.current),Qu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[qi]=e,n[zc]=s,t=(e.mode&1)!==0,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(i=0;i<pc.length;i++)Vt(pc[i],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":d2(n,s),Vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Vt("invalid",n);break;case"textarea":f2(n,s),Vt("invalid",n)}Vp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Xu(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Xu(n.textContent,o,t),i=["children",""+o]):Oc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Vt("scroll",n)}switch(r){case"input":zu(n),h2(n,s,!0);break;case"textarea":zu(n),p2(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Vd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lv(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[qi]=e,t[zc]=n,Zy(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gp(r,n),r){case"dialog":Vt("cancel",t),Vt("close",t),i=n;break;case"iframe":case"object":case"embed":Vt("load",t),i=n;break;case"video":case"audio":for(i=0;i<pc.length;i++)Vt(pc[i],t);i=n;break;case"source":Vt("error",t),i=n;break;case"img":case"image":case"link":Vt("error",t),Vt("load",t),i=n;break;case"details":Vt("toggle",t),i=n;break;case"input":d2(t,n),i=qp(t,n),Vt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=er({},n,{value:void 0}),Vt("invalid",t);break;case"textarea":f2(t,n),i=Wp(t,n),Vt("invalid",t);break;default:i=n}Vp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Tv(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cv(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ic(t,l):typeof l=="number"&&Ic(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Oc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Vt("scroll",t):l!=null&&h0(t,s,l,a))}switch(r){case"input":zu(t),h2(t,n,!1);break;case"textarea":zu(t),p2(t);break;case"option":n.value!=null&&t.setAttribute("value",""+la(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Zo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Zo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(t&&e.stateNode!=null)tw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ee(166));if(r=za(Hc.current),za(Hi.current),Qu(e)){if(n=e.stateNode,r=e.memoizedProps,n[qi]=e,(s=n.nodeValue!==r)&&(t=Rn,t!==null))switch(t.tag){case 3:Xu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qi]=e,e.stateNode=n}return Gr(e),null;case 13:if(Kt(Qt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Yt&&In!==null&&e.mode&1&&!(e.flags&128))wy(),dl(),e.flags|=98560,s=!1;else if(s=Qu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));s[qi]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),s=!1}else gi!==null&&(A1(gi),gi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Qt.current&1?Cr===0&&(Cr=3):K0())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return fl(),w1(t,e),t===null&&qc(e.stateNode.containerInfo),Gr(e),null;case 10:return P0(e.type._context),Gr(e),null;case 17:return wn(e.type)&&Gd(),Gr(e),null;case 19:if(Kt(Qt),s=e.memoizedState,s===null)return Gr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)sc(s,!1);else{if(Cr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=eh(t),a!==null){for(e.flags|=128,sc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Wt(Qt,Qt.current&1|2),e.child}t=t.sibling}s.tail!==null&&fr()>ml&&(e.flags|=128,n=!0,sc(s,!1),e.lanes=4194304)}else{if(!n)if(t=eh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),sc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Yt)return Gr(e),null}else 2*fr()-s.renderingStartTime>ml&&r!==1073741824&&(e.flags|=128,n=!0,sc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=fr(),e.sibling=null,r=Qt.current,Wt(Qt,n?r&1|2:r&1),e):(Gr(e),null);case 22:case 23:return G0(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?On&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(Ee(156,e.tag))}function a4(t,e){switch(A0(e),e.tag){case 1:return wn(e.type)&&Gd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),Kt(yn),Kt(en),R0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return F0(e),null;case 13:if(Kt(Qt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ee(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Kt(Qt),null;case 4:return fl(),null;case 10:return P0(e.type._context),null;case 22:case 23:return G0(),null;case 24:return null;default:return null}}var td=!1,Qr=!1,o4=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Yo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(t,e,n)}else r.current=null}function b1(t,e,r){try{r()}catch(n){sr(t,e,n)}}var ng=!1;function l4(t,e){if(n1=zd,t=ay(),k0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,f=0,m=t,y=null;t:for(;;){for(var p;m!==r||i!==0&&m.nodeType!==3||(o=a+i),m!==s||n!==0&&m.nodeType!==3||(l=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(p=m.firstChild)!==null;)y=m,m=p;for(;;){if(m===t)break t;if(y===r&&++u===i&&(o=a),y===s&&++f===n&&(l=a),(p=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(i1={focusedElem:t,selectionRange:r},zd=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,k=_.memoizedState,w=e.stateNode,N=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:fi(e.type,b),k);w.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(E){sr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return _=ng,ng=!1,_}function Sc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&b1(e,r,s)}i=i.next}while(i!==n)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function _1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rw(t){var e=t.alternate;e!==null&&(t.alternate=null,rw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qi],delete e[zc],delete e[o1],delete e[W3],delete e[H3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nw(t){return t.tag===5||t.tag===3||t.tag===4}function ig(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Vd));else if(n!==4&&(t=t.child,t!==null))for(x1(t,e,r),t=t.sibling;t!==null;)x1(t,e,r),t=t.sibling}function S1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(S1(t,e,r),t=t.sibling;t!==null;)S1(t,e,r),t=t.sibling}var qr=null,pi=!1;function Ds(t,e,r){for(r=r.child;r!==null;)iw(t,e,r),r=r.sibling}function iw(t,e,r){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(xh,r)}catch{}switch(r.tag){case 5:Qr||Yo(r,e);case 6:var n=qr,i=pi;qr=null,Ds(t,e,r),qr=n,pi=i,qr!==null&&(pi?(t=qr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qr.removeChild(r.stateNode));break;case 18:qr!==null&&(pi?(t=qr,r=r.stateNode,t.nodeType===8?Gf(t.parentNode,r):t.nodeType===1&&Gf(t,r),Mc(t)):Gf(qr,r.stateNode));break;case 4:n=qr,i=pi,qr=r.stateNode.containerInfo,pi=!0,Ds(t,e,r),qr=n,pi=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&b1(r,e,a),i=i.next}while(i!==n)}Ds(t,e,r);break;case 1:if(!Qr&&(Yo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sr(r,e,o)}Ds(t,e,r);break;case 21:Ds(t,e,r);break;case 22:r.mode&1?(Qr=(n=Qr)||r.memoizedState!==null,Ds(t,e,r),Qr=n):Ds(t,e,r);break;default:Ds(t,e,r)}}function sg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new o4),e.forEach(function(n){var i=v4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ci(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:qr=o.stateNode,pi=!1;break e;case 3:qr=o.stateNode.containerInfo,pi=!0;break e;case 4:qr=o.stateNode.containerInfo,pi=!0;break e}o=o.return}if(qr===null)throw Error(Ee(160));iw(s,a,i),qr=null,pi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){sr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sw(e,t),e=e.sibling}function sw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ci(e,t),Fi(t),n&4){try{Sc(3,t,t.return),Ch(3,t)}catch(b){sr(t,t.return,b)}try{Sc(5,t,t.return)}catch(b){sr(t,t.return,b)}}break;case 1:ci(e,t),Fi(t),n&512&&r!==null&&Yo(r,r.return);break;case 5:if(ci(e,t),Fi(t),n&512&&r!==null&&Yo(r,r.return),t.flags&32){var i=t.stateNode;try{Ic(i,"")}catch(b){sr(t,t.return,b)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Av(i,s),Gp(o,a);var u=Gp(o,s);for(a=0;a<l.length;a+=2){var f=l[a],m=l[a+1];f==="style"?Tv(i,m):f==="dangerouslySetInnerHTML"?Cv(i,m):f==="children"?Ic(i,m):h0(i,f,m,u)}switch(o){case"input":$p(i,s);break;case"textarea":Ev(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Zo(i,!!s.multiple,p,!1):y!==!!s.multiple&&(s.defaultValue!=null?Zo(i,!!s.multiple,s.defaultValue,!0):Zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[zc]=s}catch(b){sr(t,t.return,b)}}break;case 6:if(ci(e,t),Fi(t),n&4){if(t.stateNode===null)throw Error(Ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){sr(t,t.return,b)}}break;case 3:if(ci(e,t),Fi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mc(e.containerInfo)}catch(b){sr(t,t.return,b)}break;case 4:ci(e,t),Fi(t);break;case 13:ci(e,t),Fi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(H0=fr())),n&4&&sg(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Qr=(u=Qr)||f,ci(e,t),Qr=u):ci(e,t),Fi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(Ie=t,f=t.child;f!==null;){for(m=Ie=f;Ie!==null;){switch(y=Ie,p=y.child,y.tag){case 0:case 11:case 14:case 15:Sc(4,y,y.return);break;case 1:Yo(y,y.return);var _=y.stateNode;if(typeof _.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(b){sr(n,r,b)}}break;case 5:Yo(y,y.return);break;case 22:if(y.memoizedState!==null){og(m);continue}}p!==null?(p.return=y,Ie=p):og(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Pv("display",a))}catch(b){sr(t,t.return,b)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){sr(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ci(e,t),Fi(t),n&4&&sg(t);break;case 21:break;default:ci(e,t),Fi(t)}}function Fi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nw(r)){var n=r;break e}r=r.return}throw Error(Ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ic(i,""),n.flags&=-33);var s=ig(t);S1(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ig(t);x1(t,o,a);break;default:throw Error(Ee(161))}}catch(l){sr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function c4(t,e,r){Ie=t,aw(t)}function aw(t,e,r){for(var n=(t.mode&1)!==0;Ie!==null;){var i=Ie,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||td;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Qr;o=td;var u=Qr;if(td=a,(Qr=l)&&!u)for(Ie=i;Ie!==null;)a=Ie,l=a.child,a.tag===22&&a.memoizedState!==null?lg(i):l!==null?(l.return=a,Ie=l):lg(i);for(;s!==null;)Ie=s,aw(s),s=s.sibling;Ie=i,td=o,Qr=u}ag(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ie=s):ag(t)}}function ag(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||Ch(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Qr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:fi(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W2(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}W2(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Mc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}Qr||e.flags&512&&_1(e)}catch(y){sr(e,e.return,y)}}if(e===t){Ie=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function og(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ie=r;break}Ie=e.return}}function lg(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ch(4,e)}catch(l){sr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){sr(e,i,l)}}var s=e.return;try{_1(e)}catch(l){sr(e,s,l)}break;case 5:var a=e.return;try{_1(e)}catch(l){sr(e,a,l)}}}catch(l){sr(e,e.return,l)}if(e===t){Ie=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ie=o;break}Ie=e.return}}var u4=Math.ceil,nh=_s.ReactCurrentDispatcher,z0=_s.ReactCurrentOwner,Yn=_s.ReactCurrentBatchConfig,kt=0,Fr=null,br=null,$r=0,On=0,Xo=fa(0),Cr=0,Jc=null,Qa=0,Ph=0,W0=0,Nc=null,mn=null,H0=0,ml=1/0,us=null,ih=!1,N1=null,ia=null,rd=!1,Js=null,sh=0,kc=0,k1=null,jd=-1,Ad=0;function ln(){return kt&6?fr():jd!==-1?jd:jd=fr()}function sa(t){return t.mode&1?kt&2&&$r!==0?$r&-$r:G3.transition!==null?(Ad===0&&(Ad=Wv()),Ad):(t=Ot,t!==0||(t=window.event,t=t===void 0?16:Xv(t.type)),t):1}function wi(t,e,r,n){if(50<kc)throw kc=0,k1=null,Error(Ee(185));tu(t,r,n),(!(kt&2)||t!==Fr)&&(t===Fr&&(!(kt&2)&&(Ph|=r),Cr===4&&Vs(t,$r)),bn(t,n),r===1&&kt===0&&!(e.mode&1)&&(ml=fr()+500,Ah&&pa()))}function bn(t,e){var r=t.callbackNode;Gx(t,e);var n=$d(t,t===Fr?$r:0);if(n===0)r!==null&&v2(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&v2(r),e===1)t.tag===0?V3(cg.bind(null,t)):gy(cg.bind(null,t)),$3(function(){!(kt&6)&&pa()}),r=null;else{switch(Hv(n)){case 1:r=v0;break;case 4:r=$v;break;case 16:r=qd;break;case 536870912:r=zv;break;default:r=qd}r=pw(r,ow.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ow(t,e){if(jd=-1,Ad=0,kt&6)throw Error(Ee(327));var r=t.callbackNode;if(il()&&t.callbackNode!==r)return null;var n=$d(t,t===Fr?$r:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ah(t,n);else{e=n;var i=kt;kt|=2;var s=cw();(Fr!==t||$r!==e)&&(us=null,ml=fr()+500,Ha(t,e));do try{f4();break}catch(o){lw(t,o)}while(!0);C0(),nh.current=s,kt=i,br!==null?e=0:(Fr=null,$r=0,e=Cr)}if(e!==0){if(e===2&&(i=Qp(t),i!==0&&(n=i,e=j1(t,i))),e===1)throw r=Jc,Ha(t,0),Vs(t,n),bn(t,fr()),r;if(e===6)Vs(t,n);else{if(i=t.current.alternate,!(n&30)&&!d4(i)&&(e=ah(t,n),e===2&&(s=Qp(t),s!==0&&(n=s,e=j1(t,s))),e===1))throw r=Jc,Ha(t,0),Vs(t,n),bn(t,fr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ee(345));case 2:Ra(t,mn,us);break;case 3:if(Vs(t,n),(n&130023424)===n&&(e=H0+500-fr(),10<e)){if($d(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ln(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=a1(Ra.bind(null,t,mn,us),e);break}Ra(t,mn,us);break;case 4:if(Vs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-yi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=fr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*u4(n/1960))-n,10<n){t.timeoutHandle=a1(Ra.bind(null,t,mn,us),n);break}Ra(t,mn,us);break;case 5:Ra(t,mn,us);break;default:throw Error(Ee(329))}}}return bn(t,fr()),t.callbackNode===r?ow.bind(null,t):null}function j1(t,e){var r=Nc;return t.current.memoizedState.isDehydrated&&(Ha(t,e).flags|=256),t=ah(t,e),t!==2&&(e=mn,mn=r,e!==null&&A1(e)),t}function A1(t){mn===null?mn=t:mn.push.apply(mn,t)}function d4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!bi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~W0,e&=~Ph,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-yi(e),n=1<<r;t[r]=-1,e&=~n}}function cg(t){if(kt&6)throw Error(Ee(327));il();var e=$d(t,0);if(!(e&1))return bn(t,fr()),null;var r=ah(t,e);if(t.tag!==0&&r===2){var n=Qp(t);n!==0&&(e=n,r=j1(t,n))}if(r===1)throw r=Jc,Ha(t,0),Vs(t,e),bn(t,fr()),r;if(r===6)throw Error(Ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,mn,us),bn(t,fr()),null}function V0(t,e){var r=kt;kt|=1;try{return t(e)}finally{kt=r,kt===0&&(ml=fr()+500,Ah&&pa())}}function Za(t){Js!==null&&Js.tag===0&&!(kt&6)&&il();var e=kt;kt|=1;var r=Yn.transition,n=Ot;try{if(Yn.transition=null,Ot=1,t)return t()}finally{Ot=n,Yn.transition=r,kt=e,!(kt&6)&&pa()}}function G0(){On=Xo.current,Kt(Xo)}function Ha(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,q3(r)),br!==null)for(r=br.return;r!==null;){var n=r;switch(A0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gd();break;case 3:fl(),Kt(yn),Kt(en),R0();break;case 5:F0(n);break;case 4:fl();break;case 13:Kt(Qt);break;case 19:Kt(Qt);break;case 10:P0(n.type._context);break;case 22:case 23:G0()}r=r.return}if(Fr=t,br=t=aa(t.current,null),$r=On=e,Cr=0,Jc=null,W0=Ph=Qa=0,mn=Nc=null,$a!==null){for(e=0;e<$a.length;e++)if(r=$a[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}$a=null}return t}function lw(t,e){do{var r=br;try{if(C0(),Sd.current=rh,th){for(var n=Zt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}th=!1}if(Xa=0,Or=Lr=Zt=null,xc=!1,Vc=0,z0.current=null,r===null||r.return===null){Cr=1,Jc=e,br=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=$r,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=o,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var y=f.alternate;y?(f.updateQueue=y.updateQueue,f.memoizedState=y.memoizedState,f.lanes=y.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Y2(a);if(p!==null){p.flags&=-257,X2(p,a,o,s,e),p.mode&1&&J2(s,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var b=new Set;b.add(l),e.updateQueue=b}else _.add(l);break e}else{if(!(e&1)){J2(s,u,e),K0();break e}l=Error(Ee(426))}}else if(Yt&&o.mode&1){var k=Y2(a);if(k!==null){!(k.flags&65536)&&(k.flags|=256),X2(k,a,o,s,e),E0(pl(l,o));break e}}s=l=pl(l,o),Cr!==4&&(Cr=2),Nc===null?Nc=[s]:Nc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Hy(s,l,e);z2(s,w);break e;case 1:o=l;var N=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof N.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ia===null||!ia.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Vy(s,o,e);z2(s,E);break e}}s=s.return}while(s!==null)}dw(r)}catch(D){e=D,br===r&&r!==null&&(br=r=r.return);continue}break}while(!0)}function cw(){var t=nh.current;return nh.current=rh,t===null?rh:t}function K0(){(Cr===0||Cr===3||Cr===2)&&(Cr=4),Fr===null||!(Qa&268435455)&&!(Ph&268435455)||Vs(Fr,$r)}function ah(t,e){var r=kt;kt|=2;var n=cw();(Fr!==t||$r!==e)&&(us=null,Ha(t,e));do try{h4();break}catch(i){lw(t,i)}while(!0);if(C0(),kt=r,nh.current=n,br!==null)throw Error(Ee(261));return Fr=null,$r=0,Cr}function h4(){for(;br!==null;)uw(br)}function f4(){for(;br!==null&&!Mx();)uw(br)}function uw(t){var e=fw(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?dw(t):br=e,z0.current=null}function dw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=a4(r,e),r!==null){r.flags&=32767,br=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Cr=6,br=null;return}}else if(r=s4(r,e,On),r!==null){br=r;return}if(e=e.sibling,e!==null){br=e;return}br=e=t}while(e!==null);Cr===0&&(Cr=5)}function Ra(t,e,r){var n=Ot,i=Yn.transition;try{Yn.transition=null,Ot=1,p4(t,e,r,n)}finally{Yn.transition=i,Ot=n}return null}function p4(t,e,r,n){do il();while(Js!==null);if(kt&6)throw Error(Ee(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ee(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Kx(t,s),t===Fr&&(br=Fr=null,$r=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||rd||(rd=!0,pw(qd,function(){return il(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var a=Ot;Ot=1;var o=kt;kt|=4,z0.current=null,l4(t,r),sw(r,t),I3(i1),zd=!!n1,i1=n1=null,t.current=r,c4(r),Bx(),kt=o,Ot=a,Yn.transition=s}else t.current=r;if(rd&&(rd=!1,Js=t,sh=i),s=t.pendingLanes,s===0&&(ia=null),$x(r.stateNode),bn(t,fr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ih)throw ih=!1,t=N1,N1=null,t;return sh&1&&t.tag!==0&&il(),s=t.pendingLanes,s&1?t===k1?kc++:(kc=0,k1=t):kc=0,pa(),null}function il(){if(Js!==null){var t=Hv(sh),e=Yn.transition,r=Ot;try{if(Yn.transition=null,Ot=16>t?16:t,Js===null)var n=!1;else{if(t=Js,Js=null,sh=0,kt&6)throw Error(Ee(331));var i=kt;for(kt|=4,Ie=t.current;Ie!==null;){var s=Ie,a=s.child;if(Ie.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ie=u;Ie!==null;){var f=Ie;switch(f.tag){case 0:case 11:case 15:Sc(8,f,s)}var m=f.child;if(m!==null)m.return=f,Ie=m;else for(;Ie!==null;){f=Ie;var y=f.sibling,p=f.return;if(rw(f),f===u){Ie=null;break}if(y!==null){y.return=p,Ie=y;break}Ie=p}}}var _=s.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var k=b.sibling;b.sibling=null,b=k}while(b!==null)}}Ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ie=a;else e:for(;Ie!==null;){if(s=Ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Ie=w;break e}Ie=s.return}}var N=t.current;for(Ie=N;Ie!==null;){a=Ie;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Ie=S;else e:for(a=N;Ie!==null;){if(o=Ie,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ch(9,o)}}catch(D){sr(o,o.return,D)}if(o===a){Ie=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Ie=E;break e}Ie=o.return}}if(kt=i,pa(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(xh,t)}catch{}n=!0}return n}finally{Ot=r,Yn.transition=e}}return!1}function ug(t,e,r){e=pl(r,e),e=Hy(t,e,1),t=na(t,e,1),e=ln(),t!==null&&(tu(t,1,e),bn(t,e))}function sr(t,e,r){if(t.tag===3)ug(t,t,r);else for(;e!==null;){if(e.tag===3){ug(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){t=pl(r,t),t=Vy(e,t,1),e=na(e,t,1),t=ln(),e!==null&&(tu(e,1,t),bn(e,t));break}}e=e.return}}function m4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&r,Fr===t&&($r&r)===r&&(Cr===4||Cr===3&&($r&130023424)===$r&&500>fr()-H0?Ha(t,0):W0|=r),bn(t,e)}function hw(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var r=ln();t=ws(t,e),t!==null&&(tu(t,e,r),bn(t,r))}function g4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hw(t,r)}function v4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ee(314))}n!==null&&n.delete(e),hw(t,r)}var fw;fw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||yn.current)vn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return vn=!1,i4(t,e,r);vn=!!(t.flags&131072)}else vn=!1,Yt&&e.flags&1048576&&vy(e,Yd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;kd(t,e),t=e.pendingProps;var i=ul(e,en.current);nl(e,r),i=M0(null,e,n,t,i,r);var s=B0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(n)?(s=!0,Kd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O0(e),i.updater=Lh,e.stateNode=i,i._reactInternals=e,f1(e,n,t,r),e=g1(null,e,n,!0,s,r)):(e.tag=0,Yt&&s&&j0(e),on(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(kd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=w4(n),t=fi(n,t),i){case 0:e=m1(null,e,n,t,r);break e;case 1:e=eg(null,e,n,t,r);break e;case 11:e=Q2(null,e,n,t,r);break e;case 14:e=Z2(null,e,n,fi(n.type,t),r);break e}throw Error(Ee(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),m1(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),eg(t,e,n,i,r);case 3:e:{if(Yy(e),t===null)throw Error(Ee(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Sy(t,e),Zd(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pl(Error(Ee(423)),e),e=tg(t,e,n,r,i);break e}else if(n!==i){i=pl(Error(Ee(424)),e),e=tg(t,e,n,r,i);break e}else for(In=ra(e.stateNode.containerInfo.firstChild),Rn=e,Yt=!0,gi=null,r=_y(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(dl(),n===i){e=bs(t,e,r);break e}on(t,e,n,r)}e=e.child}return e;case 5:return Ny(e),t===null&&u1(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,s1(n,i)?a=null:s!==null&&s1(n,s)&&(e.flags|=32),Jy(t,e),on(t,e,a,r),e.child;case 6:return t===null&&u1(e),null;case 13:return Xy(t,e,r);case 4:return I0(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hl(e,null,n,r):on(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),Q2(t,e,n,i,r);case 7:return on(t,e,e.pendingProps,r),e.child;case 8:return on(t,e,e.pendingProps.children,r),e.child;case 12:return on(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Wt(Xd,n._currentValue),n._currentValue=a,s!==null)if(bi(s.value,a)){if(s.children===i.children&&!yn.current){e=bs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=gs(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),d1(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ee(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),d1(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}on(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,nl(e,r),i=Qn(i),n=n(i),e.flags|=1,on(t,e,n,r),e.child;case 14:return n=e.type,i=fi(n,e.pendingProps),i=fi(n.type,i),Z2(t,e,n,i,r);case 15:return Gy(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:fi(n,i),kd(t,e),e.tag=1,wn(n)?(t=!0,Kd(e)):t=!1,nl(e,r),Wy(e,n,i),f1(e,n,i,r),g1(null,e,n,!0,t,r);case 19:return Qy(t,e,r);case 22:return Ky(t,e,r)}throw Error(Ee(156,e.tag))};function pw(t,e){return qv(t,e)}function y4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,r,n){return new y4(t,e,r,n)}function J0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function w4(t){if(typeof t=="function")return J0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===p0)return 11;if(t===m0)return 14}return 2}function aa(t,e){var r=t.alternate;return r===null?(r=Jn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ed(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")J0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case qo:return Va(r.children,i,s,e);case f0:a=8,i|=8;break;case Dp:return t=Jn(12,r,e,i|2),t.elementType=Dp,t.lanes=s,t;case Mp:return t=Jn(13,r,e,i),t.elementType=Mp,t.lanes=s,t;case Bp:return t=Jn(19,r,e,i),t.elementType=Bp,t.lanes=s,t;case Nv:return Th(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xv:a=10;break e;case Sv:a=9;break e;case p0:a=11;break e;case m0:a=14;break e;case zs:a=16,n=null;break e}throw Error(Ee(130,t==null?t:typeof t,""))}return e=Jn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Va(t,e,r,n){return t=Jn(7,t,n,e),t.lanes=r,t}function Th(t,e,r,n){return t=Jn(22,t,n,e),t.elementType=Nv,t.lanes=r,t.stateNode={isHidden:!1},t}function tp(t,e,r){return t=Jn(6,t,null,e),t.lanes=r,t}function rp(t,e,r){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function b4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rf(0),this.expirationTimes=Rf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Y0(t,e,r,n,i,s,a,o,l){return t=new b4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},O0(s),t}function _4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function mw(t){if(!t)return ca;t=t._reactInternals;e:{if(io(t)!==t||t.tag!==1)throw Error(Ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ee(171))}if(t.tag===1){var r=t.type;if(wn(r))return my(t,r,e)}return e}function gw(t,e,r,n,i,s,a,o,l){return t=Y0(r,n,!0,t,i,s,a,o,l),t.context=mw(null),r=t.current,n=ln(),i=sa(r),s=gs(n,i),s.callback=e??null,na(r,s,i),t.current.lanes=i,tu(t,i,n),bn(t,n),t}function Oh(t,e,r,n){var i=e.current,s=ln(),a=sa(i);return r=mw(r),e.context===null?e.context=r:e.pendingContext=r,e=gs(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=na(i,e,a),t!==null&&(wi(t,i,a,s),xd(t,i,a)),a}function oh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function X0(t,e){dg(t,e),(t=t.alternate)&&dg(t,e)}function x4(){return null}var vw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q0(t){this._internalRoot=t}Ih.prototype.render=Q0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ee(409));Oh(t,e,null,null)};Ih.prototype.unmount=Q0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Za(function(){Oh(null,t,null,null)}),e[ys]=null}};function Ih(t){this._internalRoot=t}Ih.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Hs.length&&e!==0&&e<Hs[r].priority;r++);Hs.splice(r,0,t),r===0&&Yv(t)}};function Z0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hg(){}function S4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=oh(a);s.call(u)}}var a=gw(e,n,t,0,null,!1,!1,"",hg);return t._reactRootContainer=a,t[ys]=a.current,qc(t.nodeType===8?t.parentNode:t),Za(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=oh(l);o.call(u)}}var l=Y0(t,0,!1,null,null,!1,!1,"",hg);return t._reactRootContainer=l,t[ys]=l.current,qc(t.nodeType===8?t.parentNode:t),Za(function(){Oh(e,l,r,n)}),l}function Rh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=oh(a);o.call(l)}}Oh(e,a,t,i)}else a=S4(r,e,t,i,n);return oh(a)}Vv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=fc(e.pendingLanes);r!==0&&(y0(e,r|1),bn(e,fr()),!(kt&6)&&(ml=fr()+500,pa()))}break;case 13:Za(function(){var n=ws(t,1);if(n!==null){var i=ln();wi(n,t,1,i)}}),X0(t,1)}};w0=function(t){if(t.tag===13){var e=ws(t,134217728);if(e!==null){var r=ln();wi(e,t,134217728,r)}X0(t,134217728)}};Gv=function(t){if(t.tag===13){var e=sa(t),r=ws(t,e);if(r!==null){var n=ln();wi(r,t,e,n)}X0(t,e)}};Kv=function(){return Ot};Jv=function(t,e){var r=Ot;try{return Ot=t,e()}finally{Ot=r}};Jp=function(t,e,r){switch(e){case"input":if($p(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=jh(n);if(!i)throw Error(Ee(90));jv(n),$p(n,i)}}}break;case"textarea":Ev(t,r);break;case"select":e=r.value,e!=null&&Zo(t,!!r.multiple,e,!1)}};Fv=V0;Rv=Za;var N4={usingClientEntryPoint:!1,Events:[nu,Ho,jh,Ov,Iv,V0]},ac={findFiberByHostInstance:qa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k4={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bv(t),t===null?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||x4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{xh=nd.inject(k4),Wi=nd}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N4;Mn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Z0(e))throw Error(Ee(200));return _4(t,e,null,r)};Mn.createRoot=function(t,e){if(!Z0(t))throw Error(Ee(299));var r=!1,n="",i=vw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Y0(t,1,!1,null,null,r,!1,n,i),t[ys]=e.current,qc(t.nodeType===8?t.parentNode:t),new Q0(e)};Mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ee(188)):(t=Object.keys(t).join(","),Error(Ee(268,t)));return t=Bv(e),t=t===null?null:t.stateNode,t};Mn.flushSync=function(t){return Za(t)};Mn.hydrate=function(t,e,r){if(!Fh(e))throw Error(Ee(200));return Rh(null,t,e,!0,r)};Mn.hydrateRoot=function(t,e,r){if(!Z0(t))throw Error(Ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=vw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=gw(e,null,t,1,r??null,i,!1,s,a),t[ys]=e.current,qc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ih(e)};Mn.render=function(t,e,r){if(!Fh(e))throw Error(Ee(200));return Rh(null,t,e,!1,r)};Mn.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(Ee(40));return t._reactRootContainer?(Za(function(){Rh(null,null,t,!1,function(){t._reactRootContainer=null,t[ys]=null})}),!0):!1};Mn.unstable_batchedUpdates=V0;Mn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Fh(r))throw Error(Ee(200));if(t==null||t._reactInternals===void 0)throw Error(Ee(38));return Rh(t,e,r,!1,n)};Mn.version="18.3.1-next-f1338f8080-20240426";function yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yw)}catch(t){console.error(t)}}yw(),yv.exports=Mn;var j4=yv.exports,fg=j4;Fp.createRoot=fg.createRoot,Fp.hydrateRoot=fg.hydrateRoot;function ww(t,e){return function(){return t.apply(e,arguments)}}const{toString:A4}=Object.prototype,{getPrototypeOf:em}=Object,{iterator:Dh,toStringTag:bw}=Symbol,Mh=(t=>e=>{const r=A4.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),xi=t=>(t=t.toLowerCase(),e=>Mh(e)===t),Bh=t=>e=>typeof e===t,{isArray:bl}=Array,Yc=Bh("undefined");function su(t){return t!==null&&!Yc(t)&&t.constructor!==null&&!Yc(t.constructor)&&_n(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _w=xi("ArrayBuffer");function E4(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_w(t.buffer),e}const L4=Bh("string"),_n=Bh("function"),xw=Bh("number"),au=t=>t!==null&&typeof t=="object",C4=t=>t===!0||t===!1,Ld=t=>{if(Mh(t)!=="object")return!1;const e=em(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(bw in t)&&!(Dh in t)},P4=t=>{if(!au(t)||su(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},T4=xi("Date"),O4=xi("File"),I4=xi("Blob"),F4=xi("FileList"),R4=t=>au(t)&&_n(t.pipe),D4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||_n(t.append)&&((e=Mh(t))==="formdata"||e==="object"&&_n(t.toString)&&t.toString()==="[object FormData]"))},M4=xi("URLSearchParams"),[B4,U4,q4,$4]=["ReadableStream","Request","Response","Headers"].map(xi),z4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ou(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),bl(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(su(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function Sw(t,e){if(su(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Wa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nw=t=>!Yc(t)&&t!==Wa;function E1(){const{caseless:t}=Nw(this)&&this||{},e={},r=(n,i)=>{const s=t&&Sw(e,i)||i;Ld(e[s])&&Ld(n)?e[s]=E1(e[s],n):Ld(n)?e[s]=E1({},n):bl(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&ou(arguments[n],r);return e}const W4=(t,e,r,{allOwnKeys:n}={})=>(ou(e,(i,s)=>{r&&_n(i)?t[s]=ww(i,r):t[s]=i},{allOwnKeys:n}),t),H4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),V4=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},G4=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&em(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},K4=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},J4=t=>{if(!t)return null;if(bl(t))return t;let e=t.length;if(!xw(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Y4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&em(Uint8Array)),X4=(t,e)=>{const n=(t&&t[Dh]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Q4=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Z4=xi("HTMLFormElement"),eS=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),pg=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),tS=xi("RegExp"),kw=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};ou(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},rS=t=>{kw(t,(e,r)=>{if(_n(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(_n(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},nS=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return bl(t)?n(t):n(String(t).split(e)),r},iS=()=>{},sS=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function aS(t){return!!(t&&_n(t.append)&&t[bw]==="FormData"&&t[Dh])}const oS=t=>{const e=new Array(10),r=(n,i)=>{if(au(n)){if(e.indexOf(n)>=0)return;if(su(n))return n;if(!("toJSON"in n)){e[i]=n;const s=bl(n)?[]:{};return ou(n,(a,o)=>{const l=r(a,i+1);!Yc(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},lS=xi("AsyncFunction"),cS=t=>t&&(au(t)||_n(t))&&_n(t.then)&&_n(t.catch),jw=((t,e)=>t?setImmediate:e?((r,n)=>(Wa.addEventListener("message",({source:i,data:s})=>{i===Wa&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Wa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",_n(Wa.postMessage)),uS=typeof queueMicrotask<"u"?queueMicrotask.bind(Wa):typeof process<"u"&&process.nextTick||jw,dS=t=>t!=null&&_n(t[Dh]),me={isArray:bl,isArrayBuffer:_w,isBuffer:su,isFormData:D4,isArrayBufferView:E4,isString:L4,isNumber:xw,isBoolean:C4,isObject:au,isPlainObject:Ld,isEmptyObject:P4,isReadableStream:B4,isRequest:U4,isResponse:q4,isHeaders:$4,isUndefined:Yc,isDate:T4,isFile:O4,isBlob:I4,isRegExp:tS,isFunction:_n,isStream:R4,isURLSearchParams:M4,isTypedArray:Y4,isFileList:F4,forEach:ou,merge:E1,extend:W4,trim:z4,stripBOM:H4,inherits:V4,toFlatObject:G4,kindOf:Mh,kindOfTest:xi,endsWith:K4,toArray:J4,forEachEntry:X4,matchAll:Q4,isHTMLForm:Z4,hasOwnProperty:pg,hasOwnProp:pg,reduceDescriptors:kw,freezeMethods:rS,toObjectSet:nS,toCamelCase:eS,noop:iS,toFiniteNumber:sS,findKey:Sw,global:Wa,isContextDefined:Nw,isSpecCompliantForm:aS,toJSONObject:oS,isAsyncFn:lS,isThenable:cS,setImmediate:jw,asap:uS,isIterable:dS};function ht(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}me.inherits(ht,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}});const Aw=ht.prototype,Ew={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ew[t]={value:t}});Object.defineProperties(ht,Ew);Object.defineProperty(Aw,"isAxiosError",{value:!0});ht.from=(t,e,r,n,i,s)=>{const a=Object.create(Aw);return me.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),ht.call(a,t.message,e,r,n,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const hS=null;function L1(t){return me.isPlainObject(t)||me.isArray(t)}function Lw(t){return me.endsWith(t,"[]")?t.slice(0,-2):t}function mg(t,e,r){return t?t.concat(e).map(function(i,s){return i=Lw(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function fS(t){return me.isArray(t)&&!t.some(L1)}const pS=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function Uh(t,e,r){if(!me.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=me.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!me.isUndefined(k[b])});const n=r.metaTokens,i=r.visitor||f,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(me.isDate(_))return _.toISOString();if(me.isBoolean(_))return _.toString();if(!l&&me.isBlob(_))throw new ht("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(_)||me.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,b,k){let w=_;if(_&&!k&&typeof _=="object"){if(me.endsWith(b,"{}"))b=n?b:b.slice(0,-2),_=JSON.stringify(_);else if(me.isArray(_)&&fS(_)||(me.isFileList(_)||me.endsWith(b,"[]"))&&(w=me.toArray(_)))return b=Lw(b),w.forEach(function(S,E){!(me.isUndefined(S)||S===null)&&e.append(a===!0?mg([b],E,s):a===null?b:b+"[]",u(S))}),!1}return L1(_)?!0:(e.append(mg(k,b,s),u(_)),!1)}const m=[],y=Object.assign(pS,{defaultVisitor:f,convertValue:u,isVisitable:L1});function p(_,b){if(!me.isUndefined(_)){if(m.indexOf(_)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(_),me.forEach(_,function(w,N){(!(me.isUndefined(w)||w===null)&&i.call(e,w,me.isString(N)?N.trim():N,b,y))===!0&&p(w,b?b.concat(N):[N])}),m.pop()}}if(!me.isObject(t))throw new TypeError("data must be an object");return p(t),e}function gg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function tm(t,e){this._pairs=[],t&&Uh(t,this,e)}const Cw=tm.prototype;Cw.append=function(e,r){this._pairs.push([e,r])};Cw.toString=function(e){const r=e?function(n){return e.call(this,n,gg)}:gg;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function mS(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Pw(t,e,r){if(!e)return t;const n=r&&r.encode||mS;me.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=me.isURLSearchParams(e)?e.toString():new tm(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class vg{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Tw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gS=typeof URLSearchParams<"u"?URLSearchParams:tm,vS=typeof FormData<"u"?FormData:null,yS=typeof Blob<"u"?Blob:null,wS={isBrowser:!0,classes:{URLSearchParams:gS,FormData:vS,Blob:yS},protocols:["http","https","file","blob","url","data"]},rm=typeof window<"u"&&typeof document<"u",C1=typeof navigator=="object"&&navigator||void 0,bS=rm&&(!C1||["ReactNative","NativeScript","NS"].indexOf(C1.product)<0),_S=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xS=rm&&window.location.href||"http://localhost",SS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rm,hasStandardBrowserEnv:bS,hasStandardBrowserWebWorkerEnv:_S,navigator:C1,origin:xS},Symbol.toStringTag,{value:"Module"})),Zr={...SS,...wS};function NS(t,e){return Uh(t,new Zr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Zr.isNode&&me.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function kS(t){return me.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jS(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function Ow(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&me.isArray(i)?i.length:a,l?(me.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!me.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&me.isArray(i[a])&&(i[a]=jS(i[a])),!o)}if(me.isFormData(t)&&me.isFunction(t.entries)){const r={};return me.forEachEntry(t,(n,i)=>{e(kS(n),i,r,0)}),r}return null}function AS(t,e,r){if(me.isString(t))try{return(e||JSON.parse)(t),me.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const lu={transitional:Tw,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=me.isObject(e);if(s&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return i?JSON.stringify(Ow(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return NS(e,this.formSerializer).toString();if((o=me.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Uh(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),AS(e)):e}],transformResponse:[function(e){const r=this.transitional||lu.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?ht.from(o,ht.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],t=>{lu.headers[t]={}});const ES=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LS=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&ES[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},yg=Symbol("internals");function oc(t){return t&&String(t).trim().toLowerCase()}function Cd(t){return t===!1||t==null?t:me.isArray(t)?t.map(Cd):String(t)}function CS(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const PS=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function np(t,e,r,n,i){if(me.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!me.isString(e)){if(me.isString(n))return e.indexOf(n)!==-1;if(me.isRegExp(n))return n.test(e)}}function TS(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function OS(t,e){const r=me.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let xn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const f=oc(l);if(!f)throw new Error("header name must be a non-empty string");const m=me.findKey(i,f);(!m||i[m]===void 0||u===!0||u===void 0&&i[m]!==!1)&&(i[m||l]=Cd(o))}const a=(o,l)=>me.forEach(o,(u,f)=>s(u,f,l));if(me.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(me.isString(e)&&(e=e.trim())&&!PS(e))a(LS(e),r);else if(me.isObject(e)&&me.isIterable(e)){let o={},l,u;for(const f of e){if(!me.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[u=f[0]]=(l=o[u])?me.isArray(l)?[...l,f[1]]:[l,f[1]]:f[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=oc(e),e){const n=me.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return CS(i);if(me.isFunction(r))return r.call(this,i,n);if(me.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=oc(e),e){const n=me.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||np(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=oc(a),a){const o=me.findKey(n,a);o&&(!r||np(n,n[o],o,r))&&(delete n[o],i=!0)}}return me.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||np(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return me.forEach(this,(i,s)=>{const a=me.findKey(n,s);if(a){r[a]=Cd(i),delete r[s];return}const o=e?TS(s):String(s).trim();o!==s&&delete r[s],r[o]=Cd(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return me.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&me.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[yg]=this[yg]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=oc(a);n[o]||(OS(i,a),n[o]=!0)}return me.isArray(e)?e.forEach(s):s(e),this}};xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(xn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});me.freezeMethods(xn);function ip(t,e){const r=this||lu,n=e||r,i=xn.from(n.headers);let s=n.data;return me.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Iw(t){return!!(t&&t.__CANCEL__)}function _l(t,e,r){ht.call(this,t??"canceled",ht.ERR_CANCELED,e,r),this.name="CanceledError"}me.inherits(_l,ht,{__CANCEL__:!0});function Fw(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ht("Request failed with status code "+r.status,[ht.ERR_BAD_REQUEST,ht.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function IS(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function FS(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),f=n[s];a||(a=u),r[i]=l,n[i]=u;let m=s,y=0;for(;m!==i;)y+=r[m++],m=m%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=f&&u-f;return p?Math.round(y*1e3/p):void 0}}function RS(t,e){let r=0,n=1e3/e,i,s;const a=(u,f=Date.now())=>{r=f,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const f=Date.now(),m=f-r;m>=n?a(u,f):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-m)))},()=>i&&a(i)]}const lh=(t,e,r=3)=>{let n=0;const i=FS(50,250);return RS(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),f=a<=o;n=a;const m={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&f?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(m)},r)},wg=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},bg=t=>(...e)=>me.asap(()=>t(...e)),DS=Zr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Zr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,MS=Zr.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const a=[t+"="+encodeURIComponent(e)];me.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),me.isString(n)&&a.push("path="+n),me.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BS(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function US(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Rw(t,e,r){let n=!BS(e);return t&&(n||r==!1)?US(t,e):e}const _g=t=>t instanceof xn?{...t}:t;function eo(t,e){e=e||{};const r={};function n(u,f,m,y){return me.isPlainObject(u)&&me.isPlainObject(f)?me.merge.call({caseless:y},u,f):me.isPlainObject(f)?me.merge({},f):me.isArray(f)?f.slice():f}function i(u,f,m,y){if(me.isUndefined(f)){if(!me.isUndefined(u))return n(void 0,u,m,y)}else return n(u,f,m,y)}function s(u,f){if(!me.isUndefined(f))return n(void 0,f)}function a(u,f){if(me.isUndefined(f)){if(!me.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function o(u,f,m){if(m in e)return n(u,f);if(m in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,f,m)=>i(_g(u),_g(f),m,!0)};return me.forEach(Object.keys({...t,...e}),function(f){const m=l[f]||i,y=m(t[f],e[f],f);me.isUndefined(y)&&m!==o||(r[f]=y)}),r}const Dw=t=>{const e=eo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=xn.from(a),e.url=Pw(Rw(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(me.isFormData(r)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...f]=l?l.split(";").map(m=>m.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Zr.hasStandardBrowserEnv&&(n&&me.isFunction(n)&&(n=n(e)),n||n!==!1&&DS(e.url))){const u=i&&s&&MS.read(s);u&&a.set(i,u)}return e},qS=typeof XMLHttpRequest<"u",$S=qS&&function(t){return new Promise(function(r,n){const i=Dw(t);let s=i.data;const a=xn.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,f,m,y,p,_;function b(){p&&p(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function w(){if(!k)return;const S=xn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),D={data:!o||o==="text"||o==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:S,config:t,request:k};Fw(function(z){r(z),b()},function(z){n(z),b()},D),k=null}"onloadend"in k?k.onloadend=w:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(w)},k.onabort=function(){k&&(n(new ht("Request aborted",ht.ECONNABORTED,t,k)),k=null)},k.onerror=function(){n(new ht("Network Error",ht.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||Tw;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),n(new ht(E,D.clarifyTimeoutError?ht.ETIMEDOUT:ht.ECONNABORTED,t,k)),k=null},s===void 0&&a.setContentType(null),"setRequestHeader"in k&&me.forEach(a.toJSON(),function(E,D){k.setRequestHeader(D,E)}),me.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),o&&o!=="json"&&(k.responseType=i.responseType),u&&([y,_]=lh(u,!0),k.addEventListener("progress",y)),l&&k.upload&&([m,p]=lh(l),k.upload.addEventListener("progress",m),k.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(f=S=>{k&&(n(!S||S.type?new _l(null,t,k):S),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const N=IS(i.url);if(N&&Zr.protocols.indexOf(N)===-1){n(new ht("Unsupported protocol "+N+":",ht.ERR_BAD_REQUEST,t));return}k.send(s||null)})},zS=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const f=u instanceof Error?u:this.reason;n.abort(f instanceof ht?f:new _l(f instanceof Error?f.message:f))}};let a=e&&setTimeout(()=>{a=null,s(new ht(`timeout ${e} of ms exceeded`,ht.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>me.asap(o),l}},WS=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},HS=async function*(t,e){for await(const r of VS(t))yield*WS(r,e)},VS=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},xg=(t,e,r,n)=>{const i=HS(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:f}=await i.next();if(u){o(),l.close();return}let m=f.byteLength;if(r){let y=s+=m;r(y)}l.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},qh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mw=qh&&typeof ReadableStream=="function",GS=qh&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Bw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},KS=Mw&&Bw(()=>{let t=!1;const e=new Request(Zr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Sg=64*1024,P1=Mw&&Bw(()=>me.isReadableStream(new Response("").body)),ch={stream:P1&&(t=>t.body)};qh&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ch[e]&&(ch[e]=me.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ht(`Response type '${e}' is not supported`,ht.ERR_NOT_SUPPORT,n)})})})(new Response);const JS=async t=>{if(t==null)return 0;if(me.isBlob(t))return t.size;if(me.isSpecCompliantForm(t))return(await new Request(Zr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(me.isArrayBufferView(t)||me.isArrayBuffer(t))return t.byteLength;if(me.isURLSearchParams(t)&&(t=t+""),me.isString(t))return(await GS(t)).byteLength},YS=async(t,e)=>{const r=me.toFiniteNumber(t.getContentLength());return r??JS(e)},XS=qh&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:f,withCredentials:m="same-origin",fetchOptions:y}=Dw(t);u=u?(u+"").toLowerCase():"text";let p=zS([i,s&&s.toAbortSignal()],a),_;const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let k;try{if(l&&KS&&r!=="get"&&r!=="head"&&(k=await YS(f,n))!==0){let D=new Request(e,{method:"POST",body:n,duplex:"half"}),O;if(me.isFormData(n)&&(O=D.headers.get("content-type"))&&f.setContentType(O),D.body){const[z,q]=wg(k,lh(bg(l)));n=xg(D.body,Sg,z,q)}}me.isString(m)||(m=m?"include":"omit");const w="credentials"in Request.prototype;_=new Request(e,{...y,signal:p,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:w?m:void 0});let N=await fetch(_,y);const S=P1&&(u==="stream"||u==="response");if(P1&&(o||S&&b)){const D={};["status","statusText","headers"].forEach(B=>{D[B]=N[B]});const O=me.toFiniteNumber(N.headers.get("content-length")),[z,q]=o&&wg(O,lh(bg(o),!0))||[];N=new Response(xg(N.body,Sg,z,()=>{q&&q(),b&&b()}),D)}u=u||"text";let E=await ch[me.findKey(ch,u)||"text"](N,t);return!S&&b&&b(),await new Promise((D,O)=>{Fw(D,O,{data:E,headers:xn.from(N.headers),status:N.status,statusText:N.statusText,config:t,request:_})})}catch(w){throw b&&b(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new ht("Network Error",ht.ERR_NETWORK,t,_),{cause:w.cause||w}):ht.from(w,w&&w.code,t,_)}}),T1={http:hS,xhr:$S,fetch:XS};me.forEach(T1,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ng=t=>`- ${t}`,QS=t=>me.isFunction(t)||t===null||t===!1,Uw={getAdapter:t=>{t=me.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let a;if(n=r,!QS(r)&&(n=T1[(a=String(r)).toLowerCase()],n===void 0))throw new ht(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(Ng).join(`
`):" "+Ng(s[0]):"as no adapter specified";throw new ht("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:T1};function sp(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _l(null,t)}function kg(t){return sp(t),t.headers=xn.from(t.headers),t.data=ip.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Uw.getAdapter(t.adapter||lu.adapter)(t).then(function(n){return sp(t),n.data=ip.call(t,t.transformResponse,n),n.headers=xn.from(n.headers),n},function(n){return Iw(n)||(sp(t),n&&n.response&&(n.response.data=ip.call(t,t.transformResponse,n.response),n.response.headers=xn.from(n.response.headers))),Promise.reject(n)})}const qw="1.11.0",$h={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{$h[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const jg={};$h.transitional=function(e,r,n){function i(s,a){return"[Axios v"+qw+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new ht(i(a," has been removed"+(r?" in "+r:"")),ht.ERR_DEPRECATED);return r&&!jg[a]&&(jg[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};$h.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function ZS(t,e,r){if(typeof t!="object")throw new ht("options must be an object",ht.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new ht("option "+s+" must be "+l,ht.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ht("Unknown option "+s,ht.ERR_BAD_OPTION)}}const Pd={assertOptions:ZS,validators:$h},Ri=Pd.validators;let Ga=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vg,response:new vg}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=eo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Pd.assertOptions(n,{silentJSONParsing:Ri.transitional(Ri.boolean),forcedJSONParsing:Ri.transitional(Ri.boolean),clarifyTimeoutError:Ri.transitional(Ri.boolean)},!1),i!=null&&(me.isFunction(i)?r.paramsSerializer={serialize:i}:Pd.assertOptions(i,{encode:Ri.function,serialize:Ri.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Pd.assertOptions(r,{baseUrl:Ri.spelling("baseURL"),withXsrfToken:Ri.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&me.merge(s.common,s[r.method]);s&&me.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),r.headers=xn.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const u=[];this.interceptors.response.forEach(function(b){u.push(b.fulfilled,b.rejected)});let f,m=0,y;if(!l){const _=[kg.bind(this),void 0];for(_.unshift(...o),_.push(...u),y=_.length,f=Promise.resolve(r);m<y;)f=f.then(_[m++],_[m++]);return f}y=o.length;let p=r;for(m=0;m<y;){const _=o[m++],b=o[m++];try{p=_(p)}catch(k){b.call(this,k);break}}try{f=kg.call(this,p)}catch(_){return Promise.reject(_)}for(m=0,y=u.length;m<y;)f=f.then(u[m++],u[m++]);return f}getUri(e){e=eo(this.defaults,e);const r=Rw(e.baseURL,e.url,e.allowAbsoluteUrls);return Pw(r,e.params,e.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(e){Ga.prototype[e]=function(r,n){return this.request(eo(n||{},{method:e,url:r,data:(n||{}).data}))}});me.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(eo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Ga.prototype[e]=r(),Ga.prototype[e+"Form"]=r(!0)});let eN=class $w{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new _l(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new $w(function(i){e=i}),cancel:e}}};function tN(t){return function(r){return t.apply(null,r)}}function rN(t){return me.isObject(t)&&t.isAxiosError===!0}const O1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(O1).forEach(([t,e])=>{O1[e]=t});function zw(t){const e=new Ga(t),r=ww(Ga.prototype.request,e);return me.extend(r,Ga.prototype,e,{allOwnKeys:!0}),me.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return zw(eo(t,i))},r}const bt=zw(lu);bt.Axios=Ga;bt.CanceledError=_l;bt.CancelToken=eN;bt.isCancel=Iw;bt.VERSION=qw;bt.toFormData=Uh;bt.AxiosError=ht;bt.Cancel=bt.CanceledError;bt.all=function(e){return Promise.all(e)};bt.spread=tN;bt.isAxiosError=rN;bt.mergeConfig=eo;bt.AxiosHeaders=xn;bt.formToJSON=t=>Ow(me.isHTMLForm(t)?new FormData(t):t);bt.getAdapter=Uw.getAdapter;bt.HttpStatusCode=O1;bt.default=bt;const{Axios:eE,AxiosError:tE,CanceledError:rE,isCancel:nE,CancelToken:iE,VERSION:sE,all:aE,Cancel:oE,isAxiosError:lE,spread:cE,toFormData:uE,AxiosHeaders:dE,HttpStatusCode:hE,formToJSON:fE,getAdapter:pE,mergeConfig:mE}=bt,nN="modulepreload",iN=function(t){return"/"+t},Ag={},oa=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=iN(l),l in Ag)return;Ag[l]=!0;const u=l.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":nN,u||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),u)return new Promise((y,p)=>{m.addEventListener("load",y),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},sN=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>xl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class nm extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class aN extends nm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Eg extends nm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lg extends nm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var I1;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(I1||(I1={}));var oN=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class lN{constructor(e,{headers:r={},customFetch:n,region:i=I1.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=sN(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return oN(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(o["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(o["Content-Type"]="application/json",f=JSON.stringify(a)));const m=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:f}).catch(b=>{throw new aN(b)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new Eg(m);if(!m.ok)throw new Lg(m);let p=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield m.json():p==="application/octet-stream"?_=yield m.blob():p==="text/event-stream"?_=m:p==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof Lg||i instanceof Eg?i.context:void 0}}})}}var gn={},im={},zh={},cu={},Wh={},Hh={},cN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gl=cN();const uN=gl.fetch,Ww=gl.fetch.bind(gl),Hw=gl.Headers,dN=gl.Request,hN=gl.Response,xl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hw,Request:dN,Response:hN,default:Ww,fetch:uN},Symbol.toStringTag,{value:"Module"})),fN=ex(xl);var Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});let pN=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vh.default=pN;var Vw=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hh,"__esModule",{value:!0});const mN=Vw(fN),gN=Vw(Vh);let vN=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=mN.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l,u;let f=null,m=null,y=null,p=s.status,_=s.statusText;if(s.ok){if(this.method!=="HEAD"){const N=await s.text();N===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?m=N:m=JSON.parse(N))}const k=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&w&&w.length>1&&(y=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,p=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const k=await s.text();try{f=JSON.parse(k),Array.isArray(f)&&s.status===404&&(m=[],f=null,p=200,_="OK")}catch{s.status===404&&k===""?(p=204,_="No Content"):f={message:k}}if(f&&this.isMaybeSingle&&(!((u=f==null?void 0:f.details)===null||u===void 0)&&u.includes("0 rows"))&&(f=null,p=200,_="OK"),f&&this.shouldThrowOnError)throw new gN.default(f)}return{error:f,data:m,count:y,status:p,statusText:_}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Hh.default=vN;var yN=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wh,"__esModule",{value:!0});const wN=yN(Hh);let bN=class extends wN.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Wh.default=bN;var _N=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cu,"__esModule",{value:!0});const xN=_N(Wh);let SN=class extends xN.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};cu.default=SN;var NN=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zh,"__esModule",{value:!0});const lc=NN(cu);let kN=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new lc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var i;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new lc.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(l.length>0){const u=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new lc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new lc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new lc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};zh.default=kN;var Gw=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(im,"__esModule",{value:!0});const jN=Gw(zh),AN=Gw(cu);let EN=class Kw{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new jN.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Kw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{l.searchParams.append(m,y)})):(o="POST",u=r);const f=new Headers(this.headers);return s&&f.set("Prefer",`count=${s}`),new AN.default({method:o,url:l,headers:f,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};im.default=EN;var Sl=Xn&&Xn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gn,"__esModule",{value:!0});gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const Jw=Sl(im);gn.PostgrestClient=Jw.default;const Yw=Sl(zh);gn.PostgrestQueryBuilder=Yw.default;const Xw=Sl(cu);gn.PostgrestFilterBuilder=Xw.default;const Qw=Sl(Wh);gn.PostgrestTransformBuilder=Qw.default;const Zw=Sl(Hh);gn.PostgrestBuilder=Zw.default;const eb=Sl(Vh);gn.PostgrestError=eb.default;var LN=gn.default={PostgrestClient:Jw.default,PostgrestQueryBuilder:Yw.default,PostgrestFilterBuilder:Xw.default,PostgrestTransformBuilder:Qw.default,PostgrestBuilder:Zw.default,PostgrestError:eb.default};const{PostgrestClient:CN,PostgrestQueryBuilder:_E,PostgrestFilterBuilder:xE,PostgrestTransformBuilder:SE,PostgrestBuilder:NE,PostgrestError:kE}=LN;class PN{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TN="2.15.4",ON=`realtime-js/${TN}`,IN="1.0.0",F1=1e4,FN=1e3,RN=100;var jc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(jc||(jc={}));var Ar;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ar||(Ar={}));var mi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(mi||(mi={}));var R1;(function(t){t.websocket="websocket"})(R1||(R1={}));var Ba;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ba||(Ba={}));class DN{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class tb{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var zt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(zt||(zt={}));const Cg=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=MN(a,t,e,i),s),{})},MN=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?rb(s,a):D1(a)},rb=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return $N(e,r)}switch(t){case zt.bool:return BN(e);case zt.float4:case zt.float8:case zt.int2:case zt.int4:case zt.int8:case zt.numeric:case zt.oid:return UN(e);case zt.json:case zt.jsonb:return qN(e);case zt.timestamp:return zN(e);case zt.abstime:case zt.date:case zt.daterange:case zt.int4range:case zt.int8range:case zt.money:case zt.reltime:case zt.text:case zt.time:case zt.timestamptz:case zt.timetz:case zt.tsrange:case zt.tstzrange:return D1(e);default:return D1(e)}},D1=t=>t,BN=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},UN=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qN=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$N=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>rb(e,o))}return t},zN=t=>typeof t=="string"?t.replace(" ","T"):t,nb=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ap{constructor(e,r,n={},i=F1){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pg||(Pg={}));class Ac{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ac.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Ac.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ac.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,f)=>{a[u]||(l[u]=f)}),this.map(a,(u,f)=>{const m=s[u];if(m){const y=f.map(k=>k.presence_ref),p=m.map(k=>k.presence_ref),_=f.filter(k=>p.indexOf(k.presence_ref)<0),b=m.filter(k=>y.indexOf(k.presence_ref)<0);_.length>0&&(o[u]=_),b.length>0&&(l[u]=b)}else o[u]=f}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const f=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),f.length>0){const m=e[o].map(p=>p.presence_ref),y=f.filter(p=>m.indexOf(p.presence_ref)<0);e[o].unshift(...y)}n(o,f,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const f=l.map(m=>m.presence_ref);u=u.filter(m=>f.indexOf(m.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tg||(Tg={}));var Ec;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ec||(Ec={}));var ds;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class sm{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ar.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new ap(this,mi.join,this.params,this.timeout),this.rejoinTimer=new tb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ar.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ar.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ar.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ac(this),this.broadcastEndpointURL=nb(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ar.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Ec.PRESENCE]&&this.bindings[Ec.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},y={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(ds.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(ds.CLOSED)),this.updateJoinPayload(Object.assign({config:y},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var _;if(this.socket.setAuth(),p===void 0){e==null||e(ds.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(_=b==null?void 0:b.length)!==null&&_!==void 0?_:0,w=[];for(let N=0;N<k;N++){const S=b[N],{filter:{event:E,schema:D,table:O,filter:z}}=S,q=p&&p[N];if(q&&q.event===E&&q.schema===D&&q.table===O&&q.filter===z)w.push(Object.assign(Object.assign({},S),{id:q.id}));else{this.unsubscribe(),this.state=Ar.errored,e==null||e(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(ds.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ar.errored,e==null||e(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ar.joined&&e===Ec.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ar.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ap(this,mi.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ar.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ap(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>RN){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:f}=mi;if(n&&[o,l,u,f].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var _,b,k;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((k=(b=p.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(p=>p.callback(y,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var _,b,k,w,N,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const E=p.id,D=(_=p.filter)===null||_===void 0?void 0:_.event;return E&&((b=r.ids)===null||b===void 0?void 0:b.includes(E))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const E=(N=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return E==="*"||E===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:b,table:k,commit_timestamp:w,type:N,errors:S}=_;y=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:w,eventType:N,new:{},old:{},errors:S}),this._getPayloadRecords(_))}p.callback(y,n)})}_isClosed(){return this.state===Ar.closed}_isJoined(){return this.state===Ar.joined}_isJoining(){return this.state===Ar.joining}_isLeaving(){return this.state===Ar.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&sm.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mi.close,{},e)}_onError(e){this._on(mi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ar.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Cg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Cg(e.columns,e.old_record)),r}}const op=()=>{},id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WN=[1e3,2e3,5e3,1e4],HN=1e4,VN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class GN{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F1,this.transport=null,this.heartbeatIntervalMs=id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=op,this.ref=0,this.reconnectTimer=null,this.logger=op,this.conn=null,this.sendBuffer=[],this.serializer=new DN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>oa(async()=>{const{default:o}=await Promise.resolve().then(()=>xl);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${R1.websocket}`,this.httpEndpoint=nb(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=PN.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IN}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case jc.connecting:return Ba.Connecting;case jc.open:return Ba.Open;case jc.closing:return Ba.Closing;default:return Ba.Closed}}isConnected(){return this.connectionState()===Ba.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new sm(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(FN,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},id.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(mi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([VN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:ON};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(mi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new tb(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,f;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:F1,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:id.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:op,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:m=>WN[m-1]||HN,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(m,y)=>y(JSON.stringify(m)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class am extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Er(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class KN extends am{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class M1 extends am{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var JN=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const ib=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>xl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},YN=()=>JN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oa(()=>Promise.resolve().then(()=>xl),void 0)).Response:Response}),B1=t=>{if(Array.isArray(t))return t.map(r=>B1(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=B1(n)}),e},XN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var so=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const lp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),QN=(t,e,r)=>so(void 0,void 0,void 0,function*(){const n=yield YN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new KN(lp(i),s,a))}).catch(i=>{e(new M1(lp(i),i))}):e(new M1(lp(t),t))}),ZN=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(XN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function uu(t,e,r,n,i,s){return so(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,ZN(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>QN(l,o,n))})})}function uh(t,e,r,n){return so(this,void 0,void 0,function*(){return uu(t,"GET",e,r,n)})}function Ui(t,e,r,n,i){return so(this,void 0,void 0,function*(){return uu(t,"POST",e,n,i,r)})}function U1(t,e,r,n,i){return so(this,void 0,void 0,function*(){return uu(t,"PUT",e,n,i,r)})}function e6(t,e,r,n){return so(this,void 0,void 0,function*(){return uu(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function sb(t,e,r,n,i){return so(this,void 0,void 0,function*(){return uu(t,"DELETE",e,n,i,r)})}var an=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const t6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Og={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class r6{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=ib(i)}uploadOrUpdate(e,r,n,i){return an(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Og),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),m=yield(e=="PUT"?U1:Ui)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(Er(s))return{data:null,error:s};throw s}})}upload(e,r,n){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return an(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Og.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const m=yield U1(this.fetch,o.toString(),l,{headers:f});return{data:{path:s,fullPath:m.Key},error:null}}catch(l){if(Er(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return an(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ui(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new am("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Er(n))return{data:null,error:n};throw n}})}update(e,r,n){return an(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return an(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Er(i))return{data:null,error:i};throw i}})}copy(e,r,n){return an(this,void 0,void 0,function*(){try{return{data:{path:(yield Ui(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Er(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return an(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Ui(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Er(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return an(this,void 0,void 0,function*(){try{const i=yield Ui(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Er(i))return{data:null,error:i};throw i}})}download(e,r){return an(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield uh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Er(o))return{data:null,error:o};throw o}})}info(e){return an(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield uh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:B1(n),error:null}}catch(n){if(Er(n))return{data:null,error:n};throw n}})}exists(e){return an(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield e6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Er(n)&&n instanceof M1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return an(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Er(r))return{data:null,error:r};throw r}})}list(e,r,n){return an(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},t6),r),{prefix:e||""});return{data:yield Ui(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Er(i))return{data:null,error:i};throw i}})}listV2(e,r){return an(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ui(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Er(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const n6="2.11.0",i6={"X-Client-Info":`storage-js/${n6}`};var Eo=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class s6{constructor(e,r={},n,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},i6),r),this.fetch=ib(n)}listBuckets(){return Eo(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Er(e))return{data:null,error:e};throw e}})}getBucket(e){return Eo(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Er(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Eo(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Er(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Eo(this,void 0,void 0,function*(){try{return{data:yield U1(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Er(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Eo(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Er(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Eo(this,void 0,void 0,function*(){try{return{data:yield sb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Er(r))return{data:null,error:r};throw r}})}}class a6 extends s6{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new r6(this.url,this.headers,e,this.fetch)}}const o6="2.56.1";let mc="";typeof Deno<"u"?mc="deno":typeof document<"u"?mc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?mc="react-native":mc="node";const l6={"X-Client-Info":`supabase-js-${mc}/${o6}`},c6={headers:l6},u6={schema:"public"},d6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},h6={};var f6=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const p6=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ww:e=fetch,(...r)=>e(...r)},m6=()=>typeof Headers>"u"?Hw:Headers,g6=(t,e,r)=>{const n=p6(r),i=m6();return(s,a)=>f6(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var v6=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function y6(t){return t.endsWith("/")?t:t+"/"}function w6(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:f,global:m}=e,y={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>v6(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const ab="2.71.1",Ro=30*1e3,q1=3,cp=q1*Ro,b6="http://localhost:9999",_6="supabase.auth.token",x6={"X-Client-Info":`gotrue-js/${ab}`},$1="X-Supabase-Api-Version",ob={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,N6=10*60*1e3;class om extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k6 extends om{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function j6(t){return dt(t)&&t.name==="AuthApiError"}class lb extends om{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ma extends om{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class $s extends ma{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function A6(t){return dt(t)&&t.name==="AuthSessionMissingError"}class sd extends ma{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ad extends ma{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class od extends ma{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function E6(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ig extends ma{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z1 extends ma{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function up(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class Fg extends ma{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class W1 extends ma{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const dh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rg=` 	
\r=`.split(""),L6=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Rg.length;e+=1)t[Rg[e].charCodeAt(0)]=-2;for(let e=0;e<dh.length;e+=1)t[dh[e].charCodeAt(0)]=e;return t})();function Dg(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(dh[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(dh[n]),e.queuedBits-=6}}function cb(t,e,r){const n=L6[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mg(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{T6(a,n,r)};for(let a=0;a<t.length;a+=1)cb(t.charCodeAt(a),i,s);return e.join("")}function C6(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function P6(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}C6(n,e)}}function T6(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function O6(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)cb(t.charCodeAt(i),r,n);return new Uint8Array(e)}function I6(t){const e=[];return P6(t,r=>e.push(r)),new Uint8Array(e)}function F6(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>Dg(i,r,n)),Dg(null,r,n),e.join("")}function R6(t){return Math.round(Date.now()/1e3)+t}function D6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const hi=()=>typeof window<"u"&&typeof document<"u",Oa={tested:!1,writable:!1},ub=()=>{if(!hi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oa.tested)return Oa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Oa.tested=!0,Oa.writable=!0}catch{Oa.tested=!0,Oa.writable=!1}return Oa.writable};function M6(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const db=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:n}=await Promise.resolve().then(()=>xl);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},B6=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Do=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Ia=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ms=async(t,e)=>{await t.removeItem(e)};class Gh{constructor(){this.promise=new Gh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Gh.promiseConstructor=Promise;function dp(t){const e=t.split(".");if(e.length!==3)throw new W1("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!S6.test(e[n]))throw new W1("JWT not in base64url format");return{header:JSON.parse(Mg(e[0])),payload:JSON.parse(Mg(e[1])),signature:O6(e[2]),raw:{header:e[0],payload:e[1]}}}async function U6(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function q6(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function $6(t){return("0"+t.toString(16)).substr(-2)}function z6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,$6).join("")}async function W6(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function H6(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await W6(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(t,e,r=!1){const n=z6();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Do(t,`${e}-code-verifier`,i);const s=await H6(n);return[s,n===s?"plain":"s256"]}const V6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G6(t){const e=t.headers.get($1);if(!e||!e.match(V6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function K6(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function J6(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Y6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Co(t){if(!Y6.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bg(t){return JSON.parse(JSON.stringify(t))}var X6=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q6=[502,503,504];async function Ug(t){var e;if(!B6(t))throw new z1(Da(t),0);if(Q6.includes(t.status))throw new z1(Da(t),t.status);let r;try{r=await t.json()}catch(s){throw new lb(Da(s),s)}let n;const i=G6(t);if(i&&i.getTime()>=ob["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fg(Da(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $s}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Fg(Da(r),t.status,r.weak_password.reasons);throw new k6(Da(r),t.status||500,n)}const Z6=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function gt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[$1]||(s[$1]=ob["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await ek(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ek(t,e,r,n,i,s){const a=Z6(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new z1(Da(l),0)}if(o.ok||await Ug(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Ug(l)}}function cs(t){var e;let r=null;ik(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=R6(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function qg(t){const e=cs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Gs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function tk(t){return{data:t,error:null}}function rk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=X6(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function nk(t){return t}function ik(t){return t.access_token&&t.refresh_token&&t.expires_in}const fp=["global","local","others"];var sk=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class ak{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=db(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=fp[0]){if(fp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fp.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Gs})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=sk(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:rk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(dt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Gs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},f=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:nk});if(f.error)throw f.error;const m=await f.json(),y=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(_.split(";")[1].split("=")[1]);u[`${k}Page`]=b}),u.total=parseInt(y)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Co(e);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Gs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Co(e);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Gs})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Co(e);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Gs})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Co(e.userId);try{const{data:r,error:n}=await gt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Co(e.userId),Co(e.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}function $g(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function ok(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Po={debug:!!(globalThis&&ub()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class hb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lk extends hb{}async function ck(t,e,r){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Po.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ok();const uk={url:b6,storageKey:_6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zg(t,e,r){return await r()}const To={};class Xc{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xc.nextInstanceID,Xc.nextInstanceID+=1,this.instanceID>0&&hi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},uk),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new ak({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=db(i.fetch),this.lock=i.lock||zg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:hi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ck:this.lock=zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ub()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$g(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=$g(this.memoryStorage)),hi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=To[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=To[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){To[this.storageKey]=Object.assign(Object.assign({},To[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ab}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=M6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),hi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),E6(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return dt(r)?{error:r}:{error:new lb("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:cs}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:m,options:y}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await Lo(this.storage,this.storageKey)),s=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:f,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:p,code_challenge_method:_},xform:cs})}else if("phone"in e){const{phone:f,password:m,options:y}=e;s=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:cs})}else throw new ad("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qg})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:qg})}else throw new ad("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,a,o,l,u,f,m,y,p;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:k,wallet:w,statement:N,options:S}=e;let E;if(hi())if(typeof w=="object")E=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))E=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=w}const D=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in E&&E.signIn){const O=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),N?{statement:N}:null));let z;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")z=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)z=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)_=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),b=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${D.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const O=await E.signMessage(new TextEncoder().encode(_),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=O}}try{const{data:k,error:w}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:F6(b)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:cs});if(w)throw w;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new sd}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:w})}catch(k){if(dt(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:cs});if(await Ms(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new sd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:cs}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Lo(this.storage,this.storageKey));const{error:m}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:f}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new ad("You must provide either an email or phone number.")}catch(o){if(dt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:cs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(dt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Lo(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:tk})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $s;const{error:i}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new ad("You must provide either an email or phone number and a type")}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<cp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Ia(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=hp()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,f)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,f))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Gs}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Gs})})}catch(r){if(dt(r))return A6(r)&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new $s;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Lo(this.storage,this.storageKey));const{data:u,error:f}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Gs});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $s;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=dp(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(dt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new $s;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(dt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!hi())throw new od("No browser detected.");if(e.error||e.error_description||e.error_code)throw new od(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ig("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ig("No code detected.");const{data:N,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new od("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(o);let y=f+m;l&&(y=parseInt(l));const p=y-f;p*1e3<=Ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const _=y-m;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,f);const{data:b,error:k}=await this._getUser(s);if(k)throw k;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:y,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(dt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Ia(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(j6(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ms(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=D6(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Lo(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,f;const{data:m,error:y}=s;if(y)throw y;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return hi()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(dt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await q6(async i=>(i>0&&await U6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cs})),(i,s)=>{const a=200*Math.pow(2,i);return s&&up(s)&&Date.now()+a-n<Ro})}catch(n){if(this._debug(r,"error",n),dt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),hi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ia(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Ia(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Do(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:hp()}else if(i&&!i.user&&!i.user){const a=await Ia(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ms(this.storage,this.storageKey+"-user"),await Do(this.storage,this.storageKey,i)):i.user=hp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<cp;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${cp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),up(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Gh;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new $s;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),dt(s)){const a={session:null,error:s};return up(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Do(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Bg(i);await Do(this.storage,this.storageKey,s)}else{const i=Bg(r);await Do(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ms(this.storage,this.storageKey),await Ms(this.storage,this.storageKey+"-code-verifier"),await Ms(this.storage,this.storageKey+"-user"),this.userStorage&&await Ms(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&hi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ro);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ro);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ro}ms, refresh threshold is ${q1} ticks`),i<=q1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof hb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!hi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Lo(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await gt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(dt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await gt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await gt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(dt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=dp(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+N6>i)return n;const{data:s,error:a}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:_}=await this.getSession();if(_||!p.session)return{data:null,error:_};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=dp(n);r!=null&&r.allowExpired||K6(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const f=J6(i.alg),m=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,a,I6(`${o}.${l}`)))throw new W1("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}}Xc.nextInstanceID=0;const dk=Xc;class hk extends dk{constructor(e){super(e)}}var fk=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(m){a(m)}}function l(f){try{u(n.throw(f))}catch(m){a(m)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class pk{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=y6(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:u6,realtime:h6,auth:Object.assign(Object.assign({},d6),{storageKey:u}),global:c6},m=w6(n??{},f);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=m.global.headers)!==null&&s!==void 0?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=g6(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new CN(new URL("rest/v1",l).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new a6(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new lN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return fk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:l},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hk({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new GN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mk=(t,e,r)=>new pk(t,e,r);function gk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vk="https://your-project.supabase.co",yk="your-anon-key";mk(vk,yk);const ua="/api",Bs=bt.create({baseURL:ua,headers:{"Content-Type":"application/json"}}),Lc=new Map,wk=3e4,bk=t=>{const e=Lc.get(t);return e&&Date.now()-e.timestamp<wk?e.data:null},_k=(t,e)=>{Lc.set(t,{data:e,timestamp:Date.now()})},xk=t=>{if(t)for(const e of Lc.keys())e.includes(t)&&Lc.delete(e);else Lc.clear()},$i={async getAll(t=!1,e=!0){try{const r=new URLSearchParams;r.append("inactive",t.toString()),r.append("options",e.toString());const n=await Bs.get(`/raw-materials?${r}`);return n.data.success?n.data.data||[]:[]}catch(r){throw console.error("Error fetching raw materials:",r),r}},async getById(t){var e;try{const r=await Bs.get(`/raw-materials/${t}`);return r.data.success&&r.data.data||null}catch(r){if(console.error("Error fetching raw material:",r),bt.isAxiosError(r)&&((e=r.response)==null?void 0:e.status)===404)return null;throw r}},async create(t){try{const e=await Bs.post("/raw-materials",t);if(!e.data.success)throw new Error(e.data.message||"Error creando materia prima");return e.data.data}catch(e){throw console.error("Error creating raw material:",e),e}},async update(t,e){try{const r=await Bs.put(`/raw-materials/${t}`,e);if(!r.data.success)throw new Error(r.data.message||"Error actualizando materia prima");return r.data.data}catch(r){throw console.error("Error updating raw material:",r),r}},async disable(t,e){try{const r=await Bs.patch(`/raw-materials/${t}/disable`,{is_active:e});if(!r.data.success)throw new Error(r.data.message||"Error cambiando estado de materia prima");return r.data.data}catch(r){throw console.error("Error disabling raw material:",r),r}},async delete(t){try{const e=await Bs.delete(`/raw-materials/${t}`);if(!e.data.success)throw new Error(e.data.message||"Error eliminando materia prima")}catch(e){throw console.error("Error deleting raw material:",e),e}},async getEntries(t,e,r=100){try{const n=`entries-${t}-${e||"all"}-${r}`,i=bk(n);if(i)return console.log(" Usando datos en cache para:",t),i;const s=new URLSearchParams;s.append("order","movement_date.desc"),s.append("limit",r.toString()),e&&s.append("type",e),console.log(" Query usada:",s.toString());const a=await Bs.get(`/raw-materials/${t}/entries?${s}`),o=a.data.success?a.data.data||[]:[];return _k(n,o),o}catch(n){throw console.error("Error fetching inventory entries:",n),n}},async createEntry(t,e){var r,n;try{const i=await Bs.post(`/raw-materials/${t}/entries`,e);if(!i.data.success)throw new Error(i.data.message||"Error creando entrada de inventario");return xk(`entries-${t}`),window.dispatchEvent(new CustomEvent("stocksChanged",{detail:{materialId:t}})),i.data.data}catch(i){throw console.error("Error creating inventory entry:",i),bt.isAxiosError(i)&&((n=(r=i.response)==null?void 0:r.data)!=null&&n.message)?new Error(i.response.data.message):i}}};function Sk(t,e){const[r,n]=ve.useState(t);return ve.useEffect(()=>{const i=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(i)}},[t,e]),r}var fb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wg=Qs.createContext&&Qs.createContext(fb),Nk=["attr","size","title"];function kk(t,e){if(t==null)return{};var r=jk(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jk(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hh.apply(this,arguments)}function Hg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hg(Object(r),!0).forEach(function(n){Ak(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ak(t,e,r){return e=Ek(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ek(t){var e=Lk(t,"string");return typeof e=="symbol"?e:e+""}function Lk(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pb(t){return t&&t.map((e,r)=>Qs.createElement(e.tag,fh({key:r},e.attr),pb(e.child)))}function xs(t){return e=>Qs.createElement(Ck,hh({attr:fh({},t.attr)},e),pb(t.child))}function Ck(t){var e=r=>{var{attr:n,size:i,title:s}=t,a=kk(t,Nk),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Qs.createElement("svg",hh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:fh(fh({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Qs.createElement("title",null,s),t.children)};return Wg!==void 0?Qs.createElement(Wg.Consumer,null,r=>e(r)):e(fb)}function mb(t){return xs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function Pk(t){return xs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M437.2 403.5L320 215V64h8c13.3 0 24-10.7 24-24V24c0-13.3-10.7-24-24-24H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h8v151L10.8 403.5C-18.5 450.6 15.3 512 70.9 512h306.2c55.7 0 89.4-61.5 60.1-108.5zM137.9 320l48.2-77.6c3.7-5.2 5.8-11.6 5.8-18.4V64h64v160c0 6.9 2.2 13.2 5.8 18.4l48.2 77.6h-172z"},child:[]}]})(t)}function gb(t){return xs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function ph(t){return xs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function mh(t){return xs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 54.1c63 45 104 118.6 104 201.9 0 136.8-110.8 247.7-247.5 248C120 504.3 8.2 393 8 256.4 7.9 173.1 48.9 99.3 111.8 54.2c11.7-8.3 28-4.8 35 7.7L162.6 90c5.9 10.5 3.1 23.8-6.6 31-41.5 30.8-68 79.6-68 134.9-.1 92.3 74.5 168.1 168 168.1 91.6 0 168.6-74.2 168-169.1-.3-51.8-24.7-101.8-68.1-134-9.7-7.2-12.4-20.5-6.5-30.9l15.8-28.1c7-12.4 23.2-16.1 34.8-7.8zM296 264V24c0-13.3-10.7-24-24-24h-32c-13.3 0-24 10.7-24 24v240c0 13.3 10.7 24 24 24h32c13.3 0 24-10.7 24-24z"},child:[]}]})(t)}function Tk(t){return xs({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function Ok(t){return xs({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function vb(t){return xs({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},child:[]}]})(t)}function yb(t){return xs({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"},child:[]}]})(t)}const gh=new Map,Ik=6e4,Fk=t=>{const e=gh.get(t);return e&&Date.now()-e.timestamp<Ik?e.stock:null},Rk=(t,e)=>{gh.set(t,{stock:e,timestamp:Date.now()})},Dk=t=>{t?gh.delete(t):gh.clear()},wb=ve.memo(({onEdit:t,onViewEntries:e,onCreateEntry:r,forceRefresh:n})=>{const[i,s]=ve.useState([]),[a,o]=ve.useState(!0),[l,u]=ve.useState(!1),[f,m]=ve.useState(""),[y,p]=ve.useState({}),[_,b]=ve.useState(!1),[k,w]=ve.useState("cards"),N=ve.useRef(!1),S=Sk(f,300),E=ve.useCallback(async j=>{if(N.current){console.log(" Ya hay un clculo en progreso, saltando...");return}N.current=!0,console.log(" Calculando stocks para",j.length,"materiales...");const A={},$=[];if(j.forEach(R=>{const X=Fk(R.id);X!==null?(A[R.id]=X,console.log(` Stock en cache para ${R.code}: ${X}`)):$.push(R)}),$.length===0){console.log(" Todos los stocks estn en cache"),p(A),N.current=!1;return}console.log(` Calculando stocks para ${$.length} materiales (${j.length-$.length} en cache)`);try{for(let X=0;X<$.length;X+=3){const re=$.slice(X,X+3).map(async ee=>{try{console.log(" Cargando entradas para:",ee.code);const pe=await $i.getEntries(ee.id);let ce=0;pe.forEach(H=>{H.entry_type==="in"?ce+=H.quantity:ce-=H.quantity});const P=Math.max(0,ce);return Rk(ee.id,P),{materialId:ee.id,stock:P,entryCount:pe.length}}catch(pe){return console.error(` Error calculando stock para ${ee.code}:`,pe),{materialId:ee.id,stock:ee.current_stock,entryCount:0}}});(await Promise.all(re)).forEach(ee=>{A[ee.materialId]=ee.stock,console.log(` ${ee.materialId}: ${ee.stock} unidades (${ee.entryCount} entradas)`)}),X+3<$.length&&await new Promise(ee=>setTimeout(ee,100))}p(A),console.log(" Stocks calculados completados:",A)}catch(R){console.error(" Error general calculando stocks:",R)}finally{N.current=!1}},[]),D=ve.useCallback(async()=>{console.log(" loadMaterials ejecutado - showInactive:",l);try{o(!0),b(!1);const j=await $i.getAll(l);s(j),j.length>0&&(await E(j),b(!0))}catch(j){console.error("Error loading materials:",j),alert("Error al cargar las materias primas")}finally{o(!1)}},[l,E]);ve.useEffect(()=>{console.log(" useEffect[showInactive] ejecutado"),D()},[D]),ve.useEffect(()=>{n&&n>0&&(console.log(" useEffect[forceRefresh] ejecutado - forceRefresh:",n),D())},[n,D]),ve.useEffect(()=>{const j=A=>{const{materialId:$}=A.detail;if($){Dk($);const R=i.find(X=>X.id===$);R&&E([R])}};return window.addEventListener("stocksChanged",j),()=>{window.removeEventListener("stocksChanged",j)}},[i,E]);const O=ve.useMemo(()=>j=>_&&y[j.id]!==void 0?y[j.id]:j.current_stock,[y,_]),z=async j=>{if(window.confirm(`${j.is_active?"Deshabilitar":"Habilitar"} ${j.name}?`))try{await $i.disable(j.id,!j.is_active),await D()}catch(A){console.error("Error changing material status:",A),alert("Error al cambiar el estado de la materia prima")}},q=async j=>{if(window.confirm(`Eliminar permanentemente ${j.name}?`))try{await $i.delete(j.id),await D()}catch(A){console.error("Error deleting material:",A),alert("Error al eliminar la materia prima")}},B=ve.useMemo(()=>i.filter(j=>j.name.toLowerCase().includes(S.toLowerCase())||j.code.toLowerCase().includes(S.toLowerCase())),[i,S]),W=ve.useMemo(()=>j=>{const A=O(j);return A<=0?{class:"out-of-stock",text:"Agotado"}:A<=j.min_stock?{class:"low-stock",text:"Stock Bajo"}:j.max_stock&&A>=j.max_stock?{class:"high-stock",text:"Sobrestock"}:{class:"normal-stock",text:"Normal"}},[O]);return a?d.jsx("div",{className:"loading-container",children:d.jsx("div",{className:"loading",children:"Cargando..."})}):d.jsxs("div",{className:"raw-materials-list",children:[d.jsxs("div",{className:"list-header",children:[d.jsx("h2",{children:" Materias Primas"}),d.jsxs("div",{className:"header-actions",children:[d.jsxs("div",{className:"view-selector",children:[d.jsx("button",{onClick:()=>w("cards"),className:`view-button ${k==="cards"?"active":""}`,title:"Vista de tarjetas",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),d.jsx("button",{onClick:()=>w("grid"),className:`view-button ${k==="grid"?"active":""}`,title:"Vista de grilla",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M3 12h18"}),d.jsx("path",{d:"M3 18h18"})]})})]}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:f,onChange:j=>m(j.target.value),className:"search-input"}),d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:l,onChange:j=>u(j.target.checked)}),"Mostrar inactivas"]})]})]}),B.length===0?d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No se encontraron materias primas"})}):k==="cards"?d.jsx("div",{className:"materials-grid",children:B.map(j=>{const A=W(j);return d.jsxs("div",{className:`material-card ${j.is_active?"":"inactive"}`,children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:j.name}),d.jsxs("div",{className:"status-indicator",children:[d.jsx("span",{className:`badge ${A.class}`,children:A.text}),!j.is_active&&d.jsx("span",{className:"badge inactive",children:"Inactiva"})]})]}),d.jsxs("div",{className:"card-content",children:[d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Cdigo:"}),d.jsx("span",{className:"value",children:j.code})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Stock actual:"}),d.jsxs("span",{className:"value stock-value",children:[_?O(j):"..."," ",j.unit,d.jsx("span",{className:"stock-calculated-badge",children:_?"(calculado)":"(calculando...)"})]})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Stock mnimo:"}),d.jsxs("span",{className:"value",children:[j.min_stock," ",j.unit]})]}),j.max_stock&&d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Stock mximo:"}),d.jsxs("span",{className:"value",children:[j.max_stock," ",j.unit]})]}),j.location&&d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Ubicacin:"}),d.jsx("span",{className:"value",children:j.location})]}),j.supplier&&d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Proveedor:"}),d.jsx("span",{className:"value",children:j.supplier})]}),j.description&&d.jsx("div",{className:"description",children:d.jsx("span",{className:"value",children:j.description})})]}),d.jsxs("div",{className:"card-actions",children:[d.jsx("button",{onClick:()=>e(j),"aria-label":"Ver entradas",title:"Ver entradas de inventario",children:d.jsx(mb,{})}),d.jsx("button",{onClick:()=>r(j),"aria-label":"Nueva entrada",title:"Crear nueva entrada",children:d.jsx(ph,{})}),d.jsx("button",{onClick:()=>t(j),"aria-label":"Editar",title:"Editar materia prima",children:d.jsx(vb,{})}),d.jsx("button",{onClick:()=>z(j),"aria-label":j.is_active?"Deshabilitar":"Habilitar",title:j.is_active?"Deshabilitar":"Habilitar",className:j.is_active?"warning":"success",children:d.jsx(mh,{})}),l&&d.jsx("button",{onClick:()=>q(j),"aria-label":"Eliminar",title:"Eliminar permanentemente",className:"danger",children:d.jsx(yb,{})})]})]},j.id)})}):d.jsx("div",{className:"materials-table-container",children:d.jsx("div",{className:"materials-table-wrapper",children:d.jsxs("table",{className:"materials-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Cdigo"}),d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Stock Actual"}),d.jsx("th",{children:"Stock Mnimo"}),d.jsx("th",{children:"Stock Mximo"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:B.map(j=>{const A=W(j);return d.jsxs("tr",{className:j.is_active?"":"inactive",children:[d.jsx("td",{className:"code-cell",children:j.code}),d.jsx("td",{className:"name-cell",children:j.name}),d.jsx("td",{className:"stock-cell",children:d.jsxs("span",{className:"stock-value",children:[_?O(j):"..."," ",j.unit,d.jsx("span",{className:"stock-calculated-badge",children:_?"(calculado)":"(calculando...)"})]})}),d.jsxs("td",{className:"min-stock-cell",children:[j.min_stock," ",j.unit]}),d.jsx("td",{className:"max-stock-cell",children:j.max_stock?`${j.max_stock} ${j.unit}`:"-"}),d.jsx("td",{children:d.jsxs("div",{className:"status-cell",children:[d.jsx("span",{className:`badge ${A.class}`,children:A.text}),!j.is_active&&d.jsx("span",{className:"badge inactive",children:"Inactiva"})]})}),d.jsxs("td",{className:"actions-cell",children:[d.jsx("button",{onClick:()=>e(j),className:"action-button view-button table-action",title:"Ver entradas",children:""}),d.jsx("button",{onClick:()=>r(j),className:"action-button create-button table-action",title:"Nueva entrada",children:""}),d.jsx("button",{onClick:()=>t(j),className:"action-button edit-button table-action",title:"Editar",children:""}),d.jsx("button",{onClick:()=>z(j),className:`action-button ${j.is_active?"warning":"success"} table-action`,title:j.is_active?"Deshabilitar":"Habilitar",children:d.jsx(mh,{})}),l&&d.jsx("button",{onClick:()=>q(j),className:"action-button delete-button table-action",title:"Eliminar",children:""})]})]},j.id)})})]})})})]})});wb.displayName="RawMaterialsList";const Mk=({material:t,isOpen:e,onClose:r,onSubmit:n})=>{const[i,s]=ve.useState({code:"",name:"",description:"",unit:"unidad",min_stock:0,max_stock:0,location:"",supplier:""}),[a,o]=ve.useState(!1),[l,u]=ve.useState({});ve.useEffect(()=>{s(t?{code:t.code,name:t.name,description:t.description||"",unit:t.unit,min_stock:t.min_stock,max_stock:t.max_stock||0,location:t.location||"",supplier:t.supplier||""}:{code:"",name:"",description:"",unit:"unidad",min_stock:0,max_stock:0,location:"",supplier:""}),u({})},[t,e]);const f=()=>{const _={};return i.code.trim()?i.code.length<2&&(_.code="El cdigo debe tener al menos 2 caracteres"):_.code="El cdigo es requerido",i.name.trim()||(_.name="El nombre es requerido"),i.unit.trim()||(_.unit="La unidad es requerida"),i.min_stock<0&&(_.min_stock="El stock mnimo no puede ser negativo"),i.max_stock!==void 0&&i.max_stock<0&&(_.max_stock="El stock mximo no puede ser negativo"),i.max_stock!==void 0&&i.max_stock>0&&i.max_stock<=i.min_stock&&(_.max_stock="El stock mximo debe ser mayor que el mnimo"),u(_),Object.keys(_).length===0},m=async _=>{if(_.preventDefault(),!!f())try{o(!0),t?await $i.update(t.id,i):await $i.create(i),n(),r()}catch(b){console.error("Error saving material:",b),b instanceof Error?u({general:b.message}):u({general:"Error desconocido al guardar la materia prima"})}finally{o(!1)}},y=(_,b)=>{s(k=>({...k,[_]:b})),l[_]&&u(k=>({...k,[_]:""}))};if(!e)return null;const p=!!t;return d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:p?"Editar Materia Prima":"Nueva Materia Prima"}),d.jsx("button",{type:"button",onClick:r,className:"close-button","aria-label":"Cerrar",children:""})]}),d.jsxs("form",{onSubmit:m,className:"material-form",children:[l.general&&d.jsx("div",{className:"error-message general-error",children:l.general}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"code",children:"Cdigo *"}),d.jsx("input",{type:"text",id:"code",value:i.code,onChange:_=>y("code",_.target.value),className:l.code?"error":"",placeholder:"Ingresa cdigo nico"}),l.code&&d.jsx("span",{className:"field-error",children:l.code})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",children:"Nombre *"}),d.jsx("input",{type:"text",id:"name",value:i.name,onChange:_=>y("name",_.target.value),className:l.name?"error":"",placeholder:"Nombre de la materia prima"}),l.name&&d.jsx("span",{className:"field-error",children:l.name})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"unit",children:"Unidad *"}),d.jsxs("select",{id:"unit",value:i.unit,onChange:_=>y("unit",_.target.value),className:l.unit?"error":"",children:[d.jsx("option",{value:"unidad",children:"Unidad"}),d.jsx("option",{value:"kg",children:"Kilogramo"}),d.jsx("option",{value:"litro",children:"Litro"}),d.jsx("option",{value:"metro",children:"Metro"}),d.jsx("option",{value:"m2",children:"Metro cuadrado"}),d.jsx("option",{value:"m3",children:"Metro cbico"})]}),l.unit&&d.jsx("span",{className:"field-error",children:l.unit})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"description",children:"Descripcin"}),d.jsx("input",{type:"text",id:"description",value:i.description,onChange:_=>y("description",_.target.value),placeholder:"Descripcin opcional"})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"location",children:"Ubicacin"}),d.jsx("input",{type:"text",id:"location",value:i.location,onChange:_=>y("location",_.target.value),placeholder:"Ej: Almacn A, Estantera 3"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"supplier",children:"Proveedor"}),d.jsx("input",{type:"text",id:"supplier",value:i.supplier,onChange:_=>y("supplier",_.target.value),placeholder:"Nombre del proveedor"})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"min_stock",children:"Stock Mnimo *"}),d.jsx("input",{type:"number",id:"min_stock",value:i.min_stock,onChange:_=>y("min_stock",parseInt(_.target.value)||0),className:l.min_stock?"error":"",min:"0",step:"0.01"}),l.min_stock&&d.jsx("span",{className:"field-error",children:l.min_stock})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"max_stock",children:"Stock Mximo"}),d.jsx("input",{type:"number",id:"max_stock",value:i.max_stock,onChange:_=>y("max_stock",parseInt(_.target.value)||0),className:l.max_stock?"error":"",min:"0",step:"0.01",placeholder:"Opcional"}),l.max_stock&&d.jsx("span",{className:"field-error",children:l.max_stock})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",onClick:r,className:"cancel-button",disabled:a,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Guardando...":p?"Actualizar":"Crear"})]})]})]})})},Bk=({material:t,isOpen:e,onClose:r,initialShowForm:n=!1,onEntryCreated:i})=>{const[s,a]=ve.useState([]),[o,l]=ve.useState(!1),[u,f]=ve.useState(!1),[m,y]=ve.useState(""),[p,_]=ve.useState("all");ve.useEffect(()=>{e&&t&&b()},[e,t]),ve.useEffect(()=>{e&&f(n)},[e,n]);const b=async()=>{if(t)try{l(!0),console.log(" Cargando entradas para material:",t.id);const O=await $i.getEntries(t.id);console.log(" Entradas cargadas:",O.length,"items"),a(O)}catch(O){console.error(" Error loading entries:",O),alert("Error al cargar las entradas de inventario")}finally{l(!1)}},k=s.filter(O=>{var W;const z=!m.trim()||((W=O.notes)==null?void 0:W.toLowerCase().includes(m.toLowerCase()))||!1,q=p==="all"||p==="in"&&O.entry_type==="in"||p==="out"&&O.entry_type==="out";return z&&q}),w=O=>new Date(O).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=(O=null)=>{const z=O===null?s:k;return O===null?s.length:z.filter(q=>q.entry_type===O).reduce((q,B)=>q+B.quantity,0)},S=()=>{console.log(" Calculando stock actual..."),console.log(" Total entradas:",s.length);let O=0;return s.forEach((z,q)=>{console.log(`   Entrada ${q+1}:`,z.entry_type,z.quantity),z.entry_type==="in"?(O+=z.quantity,console.log(`     Suma: ${O}`)):(O-=z.quantity,console.log(`     Resta: ${O}`))}),console.log(" Stock calculado:",O),Math.max(0,O)},E=O=>{const z=[...s].sort((B,W)=>new Date(B.movement_date).getTime()-new Date(W.movement_date).getTime());let q=0;for(const B of z)if(B.entry_type==="in"?q+=B.quantity:q-=B.quantity,B.id===O.id)break;return Math.max(0,q)},D=S();return e?d.jsxs("div",{className:"modal-overlay",children:[d.jsxs("div",{className:"modal-content large",children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("h2",{children:["Entradas de Inventario - ",t.name]}),d.jsx("button",{type:"button",onClick:r,className:"close-button","aria-label":"Cerrar",children:""})]}),d.jsxs("div",{className:"inventory-content",children:[d.jsxs("div",{className:"material-info",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Cdigo:"}),d.jsx("span",{className:"value",children:t.code})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Stock actual:"}),d.jsxs("span",{className:"value stock-calculated",children:[D," ",t.unit,d.jsx("span",{className:"stock-note",children:"(calculado)"})]})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Stock mnimo:"}),d.jsxs("span",{className:"value",children:[t.min_stock," ",t.unit]})]})]}),d.jsxs("div",{className:"controls-section",children:[d.jsxs("div",{className:"controls-left",children:[d.jsxs("div",{className:"search-container",children:[d.jsx(Tk,{className:"search-icon"}),d.jsx("input",{type:"text",placeholder:"Buscar notas...",value:m,onChange:O=>y(O.target.value),className:"search-input"}),m&&d.jsx("button",{onClick:()=>y(""),className:"clear-search",children:d.jsx(Ok,{})})]}),d.jsxs("div",{className:"filter-buttons",children:[d.jsxs("button",{onClick:()=>_("all"),className:`filter-btn ${p==="all"?"active":""}`,children:["Todas (",N(null),")"]}),d.jsxs("button",{onClick:()=>_("in"),className:`filter-btn in ${p==="in"?"active":""}`,children:["Entradas (",N("in").toFixed(2),")"]}),d.jsxs("button",{onClick:()=>_("out"),className:`filter-btn out ${p==="out"?"active":""}`,children:["Salidas (",N("out").toFixed(2),")"]})]})]}),d.jsxs("button",{onClick:()=>f(!0),className:"add-entry-btn",children:[d.jsx(ph,{})," Nueva Entrada"]})]}),d.jsx("div",{className:"entries-table-container",children:o?d.jsx("div",{className:"loading",children:"Cargando entradas..."}):k.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"No se encontraron entradas de inventario"}),d.jsx("button",{onClick:()=>f(!0),className:"empty-action-btn",children:"Crear primera entrada"})]}):d.jsxs("table",{className:"entries-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Tipo"}),d.jsx("th",{children:"Cantidad"}),d.jsx("th",{children:"Notas"}),d.jsx("th",{children:"Stock Resultante"})]})}),d.jsx("tbody",{children:k.map(O=>d.jsxs("tr",{children:[d.jsx("td",{className:"date-cell",children:w(O.movement_date)}),d.jsx("td",{children:d.jsx("span",{className:`entry-type ${O.entry_type}`,children:O.entry_type==="in"?d.jsxs(d.Fragment,{children:[d.jsx(ph,{className:"type-icon"}),"Entrada"]}):d.jsxs(d.Fragment,{children:[d.jsx(gb,{className:"type-icon"}),"Salida"]})})}),d.jsx("td",{className:"quantity-cell",children:d.jsxs("span",{className:`quantity ${O.entry_type}`,children:[O.entry_type==="in"?"+":"-",O.quantity," ",t.unit]})}),d.jsx("td",{className:"notes-cell",children:O.notes||d.jsx("em",{children:"Sin notas"})}),d.jsx("td",{className:"stock-cell",children:d.jsxs("span",{className:"stock-value",children:[E(O)," ",t.unit]})})]},O.id))})]})})]})]}),u&&d.jsx(Uk,{material:t,onSubmit:b,onClose:()=>f(!1),onEntryCreated:i})]}):null},Uk=({material:t,onSubmit:e,onClose:r,onEntryCreated:n})=>{const[i,s]=ve.useState({quantity:0,entry_type:"in",unit_price:0,movement_date:new Date().toISOString().slice(0,16),notes:""}),[a,o]=ve.useState(!1),[l,u]=ve.useState({}),f=()=>{const y={};return i.quantity<=0&&(y.quantity="La cantidad debe ser mayor que cero"),i.movement_date||(y.movement_date="La fecha es requerida"),u(y),Object.keys(y).length===0},m=async y=>{var p,_;if(y.preventDefault(),!!f())try{o(!0),await $i.createEntry(t.id,i),e(),n&&n(),r()}catch(b){console.error("Error creating entry:",b);let k="Error desconocido";(_=(p=b.response)==null?void 0:p.data)!=null&&_.message?k=b.response.data.message:b.message&&(k=b.message),u({general:k})}finally{o(!1)}};return d.jsx("div",{className:"modal-overlay",children:d.jsx("div",{className:"entry-form-modal",children:d.jsxs("form",{onSubmit:m,className:"entry-form",children:[d.jsxs("div",{className:"form-header",children:[d.jsx("h3",{children:"Nueva Entrada de Inventario"}),d.jsx("button",{type:"button",onClick:r,className:"close-button",children:""})]}),l.general&&d.jsx("div",{className:"error-message",children:l.general}),d.jsxs("div",{className:"form-body",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tipo de Movimiento *"}),d.jsxs("div",{className:"radio-group",children:[d.jsxs("label",{className:"radio-option",children:[d.jsx("input",{type:"radio",value:"in",checked:i.entry_type==="in",onChange:y=>s(p=>({...p,entry_type:y.target.value}))}),d.jsx(ph,{className:"radio-icon in"}),"Entrada"]}),d.jsxs("label",{className:"radio-option",children:[d.jsx("input",{type:"radio",value:"out",checked:i.entry_type==="out",onChange:y=>s(p=>({...p,entry_type:y.target.value}))}),d.jsx(gb,{className:"radio-icon out"}),"Salida"]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Cantidad *"}),d.jsx("input",{type:"number",value:i.quantity,onChange:y=>s(p=>({...p,quantity:parseFloat(y.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01",className:l.quantity?"error":""}),d.jsx("span",{className:"unit-display",children:t.unit}),l.quantity&&d.jsx("span",{className:"field-error",children:l.quantity})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Precio Unitario"}),d.jsx("input",{type:"number",value:i.unit_price,onChange:y=>s(p=>({...p,unit_price:parseFloat(y.target.value)||0})),placeholder:"0.00",min:"0",step:"0.01"}),d.jsxs("span",{className:"unit-display",children:["$/",t.unit]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Fecha *"}),d.jsx("input",{type:"datetime-local",value:i.movement_date,onChange:y=>s(p=>({...p,movement_date:y.target.value})),className:l.movement_date?"error":""}),l.movement_date&&d.jsx("span",{className:"field-error",children:l.movement_date})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Notas"}),d.jsx("textarea",{value:i.notes,onChange:y=>s(p=>({...p,notes:y.target.value})),placeholder:"Notas opcionales...",rows:3})]})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",onClick:r,className:"cancel-btn",disabled:a,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"submit-btn",disabled:a,children:a?"Guardando...":"Guardar Entrada"})]})]})})})},ui=bt.create({baseURL:ua,headers:{"Content-Type":"application/json"}}),vi={async getAll(t=!1){try{const e=new URLSearchParams;e.append("inactive",t.toString());const r=await ui.get(`/products?${e}`);return r.data.success?r.data.data||[]:[]}catch(e){throw console.error("Error fetching products:",e),e}},async getById(t){var e;try{const r=await ui.get(`/products/${t}`);return r.data.success&&r.data.data||null}catch(r){if(console.error("Error fetching product:",r),bt.isAxiosError(r)&&((e=r.response)==null?void 0:e.status)===404)return null;throw r}},async create(t){var e,r;try{const n=await ui.post("/products",t);if(!n.data.success)throw new Error(n.data.message||"Error creando producto");return n.data.data}catch(n){throw console.error("Error creating product:",n),bt.isAxiosError(n)&&((r=(e=n.response)==null?void 0:e.data)!=null&&r.message)?new Error(n.response.data.message):n}},async update(t,e){var r,n;try{const i=await ui.put(`/products/${t}`,e);if(!i.data.success)throw new Error(i.data.message||"Error actualizando producto");return i.data.data}catch(i){throw console.error("Error updating product:",i),bt.isAxiosError(i)&&((n=(r=i.response)==null?void 0:r.data)!=null&&n.message)?new Error(i.response.data.message):i}},async disable(t,e){var r,n;try{const i=await ui.patch(`/products/${t}/disable`,{is_active:e});if(!i.data.success)throw new Error(i.data.message||"Error cambiando estado del producto");return i.data.data}catch(i){throw console.error("Error disabling product:",i),bt.isAxiosError(i)&&((n=(r=i.response)==null?void 0:r.data)!=null&&n.message)?new Error(i.response.data.message):i}},async delete(t){var e,r;try{const n=await ui.delete(`/products/${t}`);if(!n.data.success)throw new Error(n.data.message||"Error eliminando producto")}catch(n){throw console.error("Error deleting product:",n),bt.isAxiosError(n)&&((r=(e=n.response)==null?void 0:e.data)!=null&&r.message)?new Error(n.response.data.message):n}},async getFormula(t){try{console.log(" Cargando frmula para producto:",t);const e=await ui.get(`/products/${t}/formula`),r=e.data.success?e.data.data||[]:[];return console.log(" Frmula cargada:",r.length,"ingredientes"),console.log(" DATOS COMPLETOS DE FRMULA RECIBIDOS:",JSON.stringify(r,null,2)),r.forEach((n,i)=>{console.log(` Ingrediente ${i+1}:`,{name:n.raw_material_name,stock:n.raw_material_current_stock,unit:n.raw_material_unit,id:n.raw_material_id})}),r}catch(e){throw console.error("Error fetching product formula:",e),e}},async addFormulaItem(t,e){var r,n;try{console.log(" Agregando ingrediente a frmula:",t),console.log(" Datos a enviar:",JSON.stringify(e,null,2)),console.log(" Tipos de datos:",{raw_material_id:typeof e.raw_material_id,quantity:typeof e.quantity});const i=await ui.post(`/products/${t}/formula`,e);if(console.log(" Respuesta del servidor:",i.status,i.data),!i.data.success)throw new Error(i.data.message||"Error agregando ingrediente a la frmula");return console.log(" Ingrediente agregado exitosamente"),i.data.data}catch(i){throw console.error("Error adding formula item:",i),bt.isAxiosError(i)&&((n=(r=i.response)==null?void 0:r.data)!=null&&n.message)?new Error(i.response.data.message):i}},async updateFormulaItem(t,e,r){var n,i;try{console.log(" Actualizando ingrediente de frmula:",e,r);const s=await ui.put(`/products/${t}/formula/${e}`,r);if(!s.data.success)throw new Error(s.data.message||"Error actualizando ingrediente de frmula");return console.log(" Ingrediente actualizado exitosamente"),s.data.data}catch(s){throw console.error("Error updating formula item:",s),bt.isAxiosError(s)&&((i=(n=s.response)==null?void 0:n.data)!=null&&i.message)?new Error(s.response.data.message):s}},async removeFormulaItem(t,e){var r,n;try{console.log(" Eliminando ingrediente de frmula:",e);const i=await ui.delete(`/products/${t}/formula/${e}`);if(!i.data.success)throw new Error(i.data.message||"Error eliminando ingrediente de frmula");console.log(" Ingrediente eliminado exitosamente")}catch(i){throw console.error("Error removing formula item:",i),bt.isAxiosError(i)&&((n=(r=i.response)==null?void 0:r.data)!=null&&n.message)?new Error(i.response.data.message):i}},async getProductWithFormula(t){var e,r;try{console.log(" Cargando producto completo con frmula:",t);const n=await ui.get(`/products/${t}/with-formula`),i=n.data.success&&n.data.data||null;return i&&console.log(" Producto cargado:",i.name,"con",((e=i.formula)==null?void 0:e.length)||0,"ingredientes"),i}catch(n){if(console.error("Error fetching product with formula:",n),bt.isAxiosError(n)&&((r=n.response)==null?void 0:r.status)===404)return null;throw n}},async canProduce(t,e=1){var r;try{const n=await this.getProductWithFormula(t);if(!n||!n.formula||n.formula.length===0)return{canProduce:!1,maxProducible:0,missingMaterials:["Producto sin frmula definida"]};let i=1/0,s;const a=[];for(const l of n.formula){if(!l.raw_material||!l.raw_material.is_active){a.push(((r=l.raw_material)==null?void 0:r.name)||"Materia prima desconocida");continue}const u=l.raw_material.current_stock,f=l.quantity,m=Math.floor(u/f);m<i&&(i=m,s=l.raw_material.name),u<f*e&&a.push(`${l.raw_material.name} (disponible: ${u}, necesario: ${f*e})`)}const o=i===1/0?0:i;return{canProduce:o>=e&&a.length===0,maxProducible:o,limitingMaterial:s,missingMaterials:a}}catch(n){throw console.error("Error checking if product can be produced:",n),n}}},qk=({onEdit:t,onViewDetails:e,onManageFormula:r,onCreate:n,forceRefresh:i})=>{const[s,a]=ve.useState([]),[o,l]=ve.useState(!0),[u,f]=ve.useState(!1),[m,y]=ve.useState(""),[p,_]=ve.useState(null),[b,k]=ve.useState("cards");ve.useEffect(()=>{w()},[u]),ve.useEffect(()=>{i&&w()},[i]);const w=async()=>{try{l(!0);const O=await vi.getAll(u);a(O),console.log(" Productos cargados:",O.length)}catch(O){console.error("Error loading products:",O),alert("Error al cargar los productos")}finally{l(!1)}},N=async O=>{const q=`Est seguro que desea ${O.is_active?"deshabilitar":"habilitar"} "${O.name}"?`;if(window.confirm(q))try{_(`disable-${O.id}`),await vi.disable(O.id,!O.is_active),await w();const B=`Producto ${O.is_active?"deshabilitado":"habilitado"} exitosamente`;console.log("",B)}catch(B){console.error("Error changing product status:",B);const W=B.message||"Error al cambiar el estado del producto";alert(W)}finally{_(null)}},S=async O=>{const z=`Eliminar permanentemente "${O.name}"?

Esta accin no se puede deshacer y eliminar tambin su frmula asociada.`;if(window.confirm(z))try{_(`delete-${O.id}`),await vi.delete(O.id),await w(),console.log(" Producto eliminado exitosamente")}catch(q){console.error("Error deleting product:",q);const B=q.message||"Error al eliminar el producto";alert(B)}finally{_(null)}},E=s.filter(O=>O.name.toLowerCase().includes(m.toLowerCase())||O.description&&O.description.toLowerCase().includes(m.toLowerCase())),D=O=>O.is_active?{class:"active",text:"Activo"}:{class:"inactive",text:"Inactivo"};return o?d.jsx("div",{className:"loading-container",children:d.jsx("div",{className:"loading",children:"Cargando frmulas..."})}):d.jsxs("div",{className:"products-list",children:[d.jsxs("div",{className:"list-header",children:[d.jsx("h2",{children:" Frmulas"}),d.jsxs("div",{className:"header-actions",children:[d.jsxs("div",{className:"view-selector",children:[d.jsx("button",{onClick:()=>k("cards"),className:`view-button ${b==="cards"?"active":""}`,title:"Vista de tarjetas",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),d.jsx("button",{onClick:()=>k("grid"),className:`view-button ${b==="grid"?"active":""}`,title:"Vista de grilla",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M3 12h18"}),d.jsx("path",{d:"M3 18h18"})]})})]}),d.jsx("input",{type:"text",placeholder:"Buscar frmulas...",value:m,onChange:O=>y(O.target.value),className:"search-input"}),d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:u,onChange:O=>f(O.target.checked)}),"Mostrar inactivos"]})]})]}),E.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:"No se encontraron frmulas"}),d.jsx("p",{className:"empty-subtitle",children:m?"Intenta con otros trminos de bsqueda":"Crea tu primera frmula para comenzar"})]}):b==="cards"?d.jsx("div",{className:"products-grid",children:E.map(O=>{const z=D(O);return d.jsxs("div",{className:`product-card ${O.is_active?"":"inactive"}`,children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:O.name}),d.jsx("div",{className:"status-indicator",children:d.jsx("span",{className:`badge ${z.class}`,children:z.text})})]}),d.jsxs("div",{className:"card-content",children:[O.description&&d.jsx("div",{className:"description",children:d.jsx("span",{className:"value",children:O.description})}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Unidad:"}),d.jsx("span",{className:"value",children:O.unit})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Cantidad base:"}),d.jsxs("span",{className:"value",children:[O.base_quantity," ",O.unit]})]}),d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Creado:"}),d.jsx("span",{className:"value",children:new Date(O.created_at).toLocaleDateString("es-ES")})]}),O.updated_at!==O.created_at&&d.jsxs("div",{className:"info-row",children:[d.jsx("span",{className:"label",children:"Actualizado:"}),d.jsx("span",{className:"value",children:new Date(O.updated_at).toLocaleDateString("es-ES")})]})]}),d.jsxs("div",{className:"card-actions",children:[d.jsx("button",{onClick:()=>e(O),"aria-label":"Ver detalles",title:"Ver detalles del producto",className:"action-btn view",children:d.jsx(mb,{})}),r&&d.jsx("button",{onClick:()=>r(O),"aria-label":"Gestionar frmula",title:"Gestionar frmula del producto",className:"action-btn formula",children:d.jsx(Pk,{})}),d.jsx("button",{onClick:()=>t(O),"aria-label":"Editar",title:"Editar producto",className:"action-btn edit",children:d.jsx(vb,{})}),d.jsx("button",{onClick:()=>N(O),"aria-label":O.is_active?"Deshabilitar":"Habilitar",title:O.is_active?"Deshabilitar":"Habilitar",className:`action-btn ${O.is_active?"warning":"success"}`,disabled:p===`disable-${O.id}`,children:p===`disable-${O.id}`?d.jsx("div",{className:"loading-spinner"}):d.jsx(mh,{})}),u&&d.jsx("button",{onClick:()=>S(O),"aria-label":"Eliminar",title:"Eliminar permanentemente",className:"action-btn danger",disabled:p===`delete-${O.id}`,children:p===`delete-${O.id}`?d.jsx("div",{className:"loading-spinner"}):d.jsx(yb,{})})]})]},O.id)})}):d.jsx("div",{className:"products-table-container",children:d.jsx("div",{className:"products-table-wrapper",children:d.jsxs("table",{className:"products-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"Nombre"}),d.jsx("th",{children:"Descripcin"}),d.jsx("th",{children:"Unidad"}),d.jsx("th",{children:"Cantidad Base"}),d.jsx("th",{children:"Creado"}),d.jsx("th",{children:"Estado"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:E.map(O=>{const z=D(O);return d.jsxs("tr",{className:O.is_active?"":"inactive",children:[d.jsx("td",{className:"name-cell",children:O.name}),d.jsx("td",{className:"description-cell",children:O.description||"-"}),d.jsx("td",{className:"unit-cell",children:O.unit}),d.jsx("td",{className:"base-quantity-cell",children:O.base_quantity}),d.jsx("td",{className:"created-cell",children:new Date(O.created_at).toLocaleDateString("es-ES")}),d.jsx("td",{children:d.jsx("span",{className:`badge ${z.class}`,children:z.text})}),d.jsxs("td",{className:"actions-cell",children:[d.jsx("button",{onClick:()=>e(O),className:"action-button view-button table-action",title:"Ver detalles",children:""}),r&&d.jsx("button",{onClick:()=>r(O),className:"action-button formula-button table-action",title:"Gestionar frmula",children:""}),d.jsx("button",{onClick:()=>t(O),className:"action-button edit-button table-action",title:"Editar",children:""}),d.jsx("button",{onClick:()=>N(O),className:`action-button ${O.is_active?"warning":"success"} table-action`,title:O.is_active?"Deshabilitar":"Habilitar",disabled:p===`disable-${O.id}`,children:p===`disable-${O.id}`?d.jsx("div",{className:"loading-spinner"}):d.jsx(mh,{})}),u&&d.jsx("button",{onClick:()=>S(O),className:"action-button delete-button table-action",title:"Eliminar",disabled:p===`delete-${O.id}`,children:p===`delete-${O.id}`?d.jsx("div",{className:"loading-spinner"}):""})]})]},O.id)})})]})})})]})},$k=["unidad","kg","litro","metro","m2","m3","tonelada","galn"],bb=({product:t,isOpen:e,onClose:r,onSubmit:n})=>{var b;const[i,s]=ve.useState({name:"",description:"",unit:"unidad",base_quantity:1}),[a,o]=ve.useState(!1),[l,u]=ve.useState({});ve.useEffect(()=>{s(t?{name:t.name,description:t.description||"",unit:t.unit,base_quantity:t.base_quantity}:{name:"",description:"",unit:"unidad",base_quantity:1}),u({})},[t,e]);const f=()=>{const k={};return i.name.trim()?i.name.trim().length<2?k.name="El nombre debe tener al menos 2 caracteres":i.name.trim().length>255&&(k.name="El nombre no puede exceder 255 caracteres"):k.name="El nombre es requerido",i.unit.trim()||(k.unit="La unidad es requerida"),!i.base_quantity||i.base_quantity<=0?k.base_quantity="La cantidad base debe ser mayor que cero":i.base_quantity>999999&&(k.base_quantity="La cantidad base no puede exceder 999,999"),i.description&&i.description.length>1e3&&(k.description="La descripcin no puede exceder 1000 caracteres"),u(k),Object.keys(k).length===0},m=async k=>{var w;if(k.preventDefault(),!!f())try{o(!0);const N={name:i.name.trim(),description:((w=i.description)==null?void 0:w.trim())||void 0,unit:i.unit,base_quantity:Number(i.base_quantity)};t?(await vi.update(t.id,N),console.log(" Producto actualizado:",N.name)):(await vi.create(N),console.log(" Producto creado:",N.name)),n(),r()}catch(N){console.error("Error saving product:",N),N.message?u({general:N.message}):u({general:"Error desconocido al guardar el producto"})}finally{o(!1)}},y=(k,w)=>{s(N=>({...N,[k]:w})),l[k]&&u(N=>({...N,[k]:void 0}))},p=()=>{a||r()};if(!e)return null;const _=!!t;return d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content product-form-modal",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:_?"Editar Frmula":"Nueva Frmula"}),d.jsx("button",{type:"button",onClick:p,className:"modal-close-btn","aria-label":"Cerrar",disabled:a,title:"Cerrar",children:""})]}),d.jsx("div",{className:"form-body",children:d.jsxs("form",{onSubmit:m,className:"product-form",children:[l.general&&d.jsx("div",{className:"error-message general-error",children:l.general}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"name",className:"form-label required",children:"Nombre de la Frmula"}),d.jsx("input",{type:"text",id:"name",value:i.name,onChange:k=>y("name",k.target.value),className:`form-input ${l.name?"error":""}`,placeholder:"Ej: Agrocup, Fertilizante Premium...",maxLength:255,disabled:a}),l.name&&d.jsx("span",{className:"field-error",children:l.name})]})}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"description",className:"form-label",children:"Descripcin"}),d.jsx("textarea",{id:"description",value:i.description,onChange:k=>y("description",k.target.value),className:`form-textarea ${l.description?"error":""}`,placeholder:"Descripcin opcional del producto...",rows:3,maxLength:1e3,disabled:a}),d.jsxs("div",{className:"char-count",children:[((b=i.description)==null?void 0:b.length)||0,"/1000 caracteres"]}),l.description&&d.jsx("span",{className:"field-error",children:l.description})]})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"unit",className:"form-label required",children:"Unidad de Medida"}),d.jsx("select",{id:"unit",value:i.unit,onChange:k=>y("unit",k.target.value),className:`form-select ${l.unit?"error":""}`,disabled:a,children:$k.map(k=>d.jsx("option",{value:k,children:k.charAt(0).toUpperCase()+k.slice(1)},k))}),l.unit&&d.jsx("span",{className:"field-error",children:l.unit})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"base_quantity",className:"form-label required",children:"Cantidad Base"}),d.jsx("input",{type:"number",id:"base_quantity",value:i.base_quantity,onChange:k=>y("base_quantity",parseFloat(k.target.value)||0),className:`form-input ${l.base_quantity?"error":""}`,placeholder:"1",min:"0.001",max:"999999",step:"0.001",disabled:a}),d.jsx("div",{className:"input-help",children:"Cantidad que produce la frmula (ej: 1000 litros)"}),l.base_quantity&&d.jsx("span",{className:"field-error",children:l.base_quantity})]})]}),d.jsx("div",{className:"form-info",children:d.jsxs("div",{className:"info-box",children:[d.jsx("h4",{children:" Informacin sobre la cantidad base"}),d.jsx("p",{children:"La cantidad base define cuntas unidades produce la frmula del producto. Por ejemplo, si tu frmula produce 1000 litros de Agrocup, la cantidad base sera 1000."})]})}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",onClick:p,className:"btn btn-secondary",disabled:a,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"loading-spinner small"}),_?"Actualizando...":"Creando..."]}):_?"Actualizar Frmula":"Crear Frmula"})]})]})})]})})},Vg=({availableRawMaterials:t,initialData:e,onSubmit:r,onCancel:n,title:i,isEditing:s=!1})=>{const[a,o]=ve.useState({raw_material_id:"",quantity:0,percentage:0}),[l,u]=ve.useState({}),[f,m]=ve.useState(!1);ve.useEffect(()=>{o(e||{raw_material_id:"",quantity:0,percentage:0}),u({}),setTimeout(()=>{let k=null;s?k=document.getElementById("quantity"):k=document.getElementById("raw_material_id"),k&&k.offsetParent!==null&&(k.focus(),s&&"select"in k&&k.select())},300)},[e,t,s]);const y=(k,w)=>{o(N=>({...N,[k]:w})),l[k]&&u(N=>{const S={...N};return delete S[k],S})},p=()=>{const k={};return(!a.raw_material_id||a.raw_material_id==="")&&(k.raw_material_id="Debe seleccionar una materia prima"),!a.quantity||a.quantity<=0?k.quantity="La cantidad debe ser mayor que cero":a.quantity>999999&&(k.quantity="La cantidad es demasiado grande"),a.percentage<0?k.percentage="El porcentaje no puede ser negativo":a.percentage>100&&(k.percentage="El porcentaje no puede ser mayor al 100%"),t.find(N=>N.id===a.raw_material_id)||(k.raw_material_id="La materia prima seleccionada no est disponible"),u(k),Object.keys(k).length===0},_=async k=>{if(k.preventDefault(),!!p())try{m(!0);const w={raw_material_id:a.raw_material_id,quantity:Number(a.quantity),percentage:Number(a.percentage)};await r(w),console.log(" Ingrediente guardado:",w)}catch(w){console.error("Error saving ingredient:",w);let N="Error desconocido";w.message&&(N=w.message),u({general:N})}finally{m(!1)}},b=t.find(k=>k.id===a.raw_material_id);return d.jsxs("div",{className:"formula-item-form",children:[d.jsx("div",{className:"form-header",children:d.jsx("h4",{children:i})}),d.jsxs("form",{onSubmit:_,className:"item-form",children:[l.general&&d.jsx("div",{className:"error-message general-error",children:l.general}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"raw_material_id",className:"form-label required",children:"Materia Prima"}),d.jsxs("select",{id:"raw_material_id",value:a.raw_material_id,onChange:k=>y("raw_material_id",k.target.value),className:`form-select ${l.raw_material_id?"error":""}`,disabled:f||s,children:[!s&&d.jsx("option",{value:"",children:"Seleccionar materia prima..."}),t.map(k=>d.jsxs("option",{value:k.id,children:[k.name," - ",k.current_stock," ",k.unit]},k.id))]}),l.raw_material_id&&d.jsx("span",{className:"error-message",children:l.raw_material_id})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"quantity",className:"form-label required",children:"Cantidad Requerida"}),d.jsxs("div",{className:"quantity-input-group",children:[d.jsx("input",{id:"quantity",type:"number",value:a.quantity,onChange:k=>y("quantity",parseFloat(k.target.value)||0),className:`form-input ${l.quantity?"error":""}`,placeholder:"0.000",disabled:f,min:"0.001",max:"999999",step:"0.001"}),b&&d.jsx("span",{className:"unit-label",children:b.unit})]}),l.quantity&&d.jsx("span",{className:"error-message",children:l.quantity})]}),d.jsxs("div",{className:"form-group full-width",children:[d.jsx("label",{htmlFor:"percentage",className:"form-label",children:"Porcentaje del Producto"}),d.jsxs("div",{className:"percentage-input-group",children:[d.jsx("input",{id:"percentage",type:"number",value:a.percentage,onChange:k=>y("percentage",parseFloat(k.target.value)||0),className:`form-input ${l.percentage?"error":""}`,placeholder:"0.00",disabled:f,min:"0",max:"100",step:"0.01"}),d.jsx("span",{className:"unit-label",children:"%"})]}),l.percentage&&d.jsx("span",{className:"error-message",children:l.percentage}),d.jsx("div",{className:"field-helper",children:" Indica qu porcentaje del producto final representa este material."})]})]}),b&&d.jsx("div",{className:"material-info",children:d.jsxs("div",{className:"info-card",children:[d.jsxs("div",{className:"info-header",children:[d.jsx("h5",{children:b.name}),d.jsxs("span",{className:"stock-badge",children:[b.current_stock," ",b.unit," disponible"]})]}),b.description&&d.jsx("p",{className:"material-description",children:b.description}),d.jsx("div",{className:"formula-info",children:d.jsx("p",{className:"info-note",children:" Aqu defines la cantidad necesaria para la frmula. La validacin de stock se realizar al crear rdenes de trabajo."})})]})}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",className:"btn btn-secondary",onClick:n,disabled:f,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"btn btn-primary",disabled:f||!b,children:f?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"loading-spinner small"}),s?"Actualizando...":"Agregando..."]}):s?"Actualizar Ingrediente":"Agregar Ingrediente"})]})]})]})},zk=({product:t,isOpen:e,onClose:r,onUpdate:n})=>{const[i,s]=ve.useState([]),[a,o]=ve.useState([]),[l,u]=ve.useState(!0),[f,m]=ve.useState(!1),[y,p]=ve.useState(null),_=async()=>{try{u(!0),console.log(" Cargando frmula para producto:",t.name);const[D,O]=await Promise.all([vi.getFormula(t.id),$i.getAll(!0)]);console.log(" Frmula cargada:",D.length,"ingredientes"),console.log(" Materias primas disponibles:",O.length),console.log(" FRMULA EN COMPONENTE:",D),D.forEach((z,q)=>{console.log(` Componente - Ingrediente ${q+1}:`,{name:z.raw_material_name,stock:z.raw_material_current_stock,unit:z.raw_material_unit})}),console.log(" MATERIAS PRIMAS EN COMPONENTE:",O),O.forEach((z,q)=>{console.log(` Componente - Material ${q+1}:`,{name:z.name,stock:z.current_stock,unit:z.unit})}),s(D),o(O)}catch(D){console.error("Error loading formula data:",D),alert("Error al cargar los datos de la frmula")}finally{u(!1)}};ve.useEffect(()=>{e&&_()},[e,t.id]),ve.useEffect(()=>{if(y||f){const D=y?".edit-form-section":".add-form-section",O=document.querySelector(D);O&&setTimeout(()=>{O.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},100)}},[y,f]);const b=async D=>{try{await vi.addFormulaItem(t.id,D),console.log(" Ingrediente agregado:",D.raw_material_id,D.quantity),await _(),m(!1),n()}catch(O){throw console.error("Error adding ingredient:",O),O}},k=async D=>{if(y)try{await vi.updateFormulaItem(t.id,y.raw_material_id,D),console.log(" Ingrediente actualizado:",D.raw_material_id,D.quantity),await _(),p(null),n()}catch(O){throw console.error("Error updating ingredient:",O),O}},w=async D=>{const O=i.find(z=>z.raw_material_id===D);if(O&&window.confirm(`Eliminar "${O.raw_material_name}" de la frmula?

Esta accin no se puede deshacer.`))try{await vi.removeFormulaItem(t.id,D),console.log(" Ingrediente eliminado:",D),await _(),n()}catch(z){console.error("Error deleting ingredient:",z),alert("Error al eliminar el ingrediente")}},N=ve.useMemo(()=>{const D=i.length,O=i.reduce((B,W)=>B+W.quantity,0),z=i.filter(B=>(B.raw_material_current_stock||0)<B.quantity).length;let q=1/0;return i.forEach(B=>{const W=B.raw_material_current_stock||0;if(B.quantity>0){const j=Math.floor(W/B.quantity);q=Math.min(q,j)}}),(q===1/0||i.length===0)&&(q=0),{totalIngredients:D,totalQuantity:O,insufficientStock:z,maxProducible:q,canProduce:q>0}},[i]),S=ve.useMemo(()=>{const D=i.map(O=>O.raw_material_id);return a.filter(O=>!D.includes(O.id))},[a,i]),E=()=>{l||(m(!1),p(null),r())};return e?d.jsx("div",{className:"modal-overlay",onClick:E,children:d.jsxs("div",{className:"modal-content formula-modal",onClick:D=>D.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("div",{className:"header-info",children:[d.jsxs("h2",{children:["Frmula: ",t.name]}),d.jsxs("div",{className:"product-info",children:[d.jsxs("span",{className:"product-unit",children:["Produce ",t.base_quantity," ",t.unit]}),d.jsx("span",{className:`production-status ${N.canProduce?"can-produce":"low-stock"}`,children:N.canProduce?` Stock para ${N.maxProducible} lote${N.maxProducible!==1?"s":""}`:" Revisar stock para produccin"})]})]}),d.jsx("button",{className:"modal-close-btn",onClick:E,disabled:l,title:"Cerrar","aria-label":"Cerrar",children:""})]}),d.jsxs("div",{className:"formula-stats",children:[d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-number",children:N.totalIngredients}),d.jsx("span",{className:"stat-label",children:"Ingredientes"})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-number",children:N.totalQuantity.toFixed(2)}),d.jsx("span",{className:"stat-label",children:"Total Cantidad"})]}),d.jsxs("div",{className:`stat-card ${N.insufficientStock>0?"info":"success"}`,children:[d.jsx("span",{className:"stat-number",children:N.insufficientStock}),d.jsx("span",{className:"stat-label",children:"Stock Bajo"})]}),d.jsxs("div",{className:`stat-card ${N.canProduce?"success":"info"}`,children:[d.jsx("span",{className:"stat-number",children:N.maxProducible}),d.jsx("span",{className:"stat-label",children:"Lotes Posibles"})]})]}),d.jsx("div",{className:"formula-content",children:l?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando frmula..."})]}):d.jsxs(d.Fragment,{children:[f&&d.jsx("div",{className:"add-form-section",children:d.jsx(Vg,{availableRawMaterials:S,onSubmit:b,onCancel:()=>m(!1),title:"Agregar Ingrediente"})}),y&&d.jsx("div",{className:"edit-form-section",children:d.jsx(Vg,{availableRawMaterials:a,initialData:{raw_material_id:y.raw_material_id,quantity:y.quantity,percentage:y.percentage||0},onSubmit:k,onCancel:()=>p(null),title:`Editar: ${y.raw_material_name}`,isEditing:!0})}),d.jsxs("div",{className:"ingredients-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h3",{children:"Ingredientes de la Frmula"}),S.length>0&&!f&&!y&&d.jsxs("button",{className:"btn btn-primary btn-add",onClick:()=>m(!0),children:[d.jsx("span",{className:"btn-icon",children:"+"}),"Agregar Ingrediente"]})]}),i.length===0?d.jsx("div",{className:"no-ingredients",children:d.jsxs("div",{className:"empty-state",children:[d.jsx("span",{className:"empty-icon",children:""}),d.jsx("h4",{children:"Frmula vaca"}),d.jsx("p",{children:"Este producto an no tiene ingredientes definidos."}),S.length>0?d.jsx("button",{className:"btn btn-primary",onClick:()=>m(!0),children:"Agregar Primer Ingrediente"}):d.jsxs("p",{className:"no-materials-warning",children:["No hay materias primas activas disponibles.",d.jsx("br",{}),"Primero debes crear materias primas en el inventario."]})]})}):d.jsx("div",{className:"ingredients-list",children:i.map(D=>{const O=D.raw_material_current_stock||0,z=O>=D.quantity,q=D.quantity>0?Math.min(100,O/D.quantity*100):0;return d.jsx("div",{className:`ingredient-card ${z?"":"low-stock"}`,children:d.jsxs("div",{className:"ingredient-info",children:[d.jsxs("div",{className:"ingredient-header",children:[d.jsx("h4",{className:"ingredient-name",children:D.raw_material_name}),d.jsxs("div",{className:"ingredient-actions",children:[d.jsx("button",{className:`btn btn-icon btn-edit ${f||y?"disabled":""}`,onClick:()=>p(D),disabled:f||!!y,title:"Editar cantidad",style:{pointerEvents:f||y?"none":"auto",cursor:f||y?"not-allowed":"pointer"},children:""}),d.jsx("button",{className:`btn btn-icon btn-delete ${f||y?"disabled":""}`,onClick:()=>w(D.raw_material_id),disabled:f||!!y,title:"Eliminar ingrediente",style:{pointerEvents:f||y?"none":"auto",cursor:f||y?"not-allowed":"pointer"},children:""})]})]}),d.jsxs("div",{className:"ingredient-details",children:[d.jsxs("div",{className:"quantity-info",children:[d.jsxs("span",{className:"quantity",children:[D.quantity," ",D.raw_material_unit||"unidad"]}),d.jsx("span",{className:"quantity-label",children:"Requerido"})]}),d.jsxs("div",{className:"stock-info",children:[d.jsxs("span",{className:`stock ${z?"sufficient":"insufficient"}`,children:[O," ",D.raw_material_unit||"unidad"]}),d.jsx("span",{className:"stock-label",children:"Disponible"})]}),d.jsx("div",{className:"status-info",children:d.jsx("span",{className:`status ${z?"ok":"info"}`,children:z?" Stock OK":" Stock bajo"})})]}),d.jsx("div",{className:"stock-progress",children:d.jsx("div",{className:`progress-bar ${z?"sufficient":"low"}`,style:{width:`${Math.min(100,q)}%`}})})]})},D.raw_material_id)})})]})]})}),!l&&i.length>0&&d.jsx("div",{className:"formula-footer",children:d.jsxs("div",{className:"footer-info",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Produccin:"})," Esta frmula produce ",t.base_quantity," ",t.unit,N.canProduce&&` (mximo ${N.maxProducible} lotes con stock actual)`]}),N.insufficientStock>0&&d.jsxs("p",{className:"info-text",children:[" ",N.insufficientStock," ingrediente",N.insufficientStock!==1?"s":"",N.insufficientStock===1?" tiene":" tienen"," stock bajo para produccin"]})]})})]})}):null},Wk=({product:t,isOpen:e,onClose:r,onUpdate:n})=>{const[i,s]=ve.useState([]),[a,o]=ve.useState([]),[l,u]=ve.useState(!0),[f,m]=ve.useState(!1),[y,p]=ve.useState(!1),_=async()=>{try{u(!0),console.log(" Cargando detalles del producto:",t.name);const[S,E]=await Promise.all([vi.getFormula(t.id),$i.getAll(!0)]);console.log(" Datos cargados - Frmula:",S.length,"ingredientes"),console.log(" Materias primas disponibles:",E.length),s(S),o(E)}catch(S){console.error("Error loading product data:",S),alert("Error al cargar los datos de la frmula")}finally{u(!1)}};ve.useEffect(()=>{e&&_()},[e,t.id]);const b=()=>{n(),_(),m(!1)},k=()=>{_(),p(!1)},w=ve.useMemo(()=>{if(i.length===0)return{hasFormula:!1,canProduce:!1,maxProducible:0,totalIngredients:0,insufficientStock:0,limitingMaterial:null};let S=1/0,E=null,D=0;return i.forEach(O=>{const z=a.find(q=>q.id===O.raw_material_id);if(z&&O.quantity>0){const q=Math.floor(z.current_stock/O.quantity);q<S&&(S=q,E=z.name),z.current_stock<O.quantity&&D++}}),S===1/0&&(S=0),{hasFormula:!0,canProduce:S>0,maxProducible:S,totalIngredients:i.length,insufficientStock:D,limitingMaterial:E}},[i,a]),N=()=>{!l&&!f&&!y&&r()};return e?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"modal-overlay",onClick:N,children:d.jsxs("div",{className:"modal-content product-details-modal",onClick:S=>S.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("div",{className:"header-info",children:[d.jsxs("div",{className:"product-title-section",children:[d.jsx("h2",{children:t.name}),d.jsx("span",{className:`status-badge ${t.is_active?"active":"inactive"}`,children:t.is_active?"Activo":"Inactivo"})]}),t.description&&d.jsx("p",{className:"product-description",children:t.description})]}),d.jsxs("div",{className:"header-actions",children:[d.jsx("button",{className:"btn btn-secondary btn-edit",onClick:()=>m(!0),disabled:l,children:" Editar Frmula"}),d.jsx("button",{className:"modal-close-btn",onClick:N,disabled:l,title:"Cerrar","aria-label":"Cerrar",children:""})]})]}),d.jsx("div",{className:"product-basic-info",children:d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Cantidad Base"}),d.jsxs("span",{className:"value",children:[t.base_quantity," ",t.unit]})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Unidad"}),d.jsx("span",{className:"value",children:t.unit})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Creado"}),d.jsx("span",{className:"value",children:new Date(t.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"ltima Actualizacin"}),d.jsx("span",{className:"value",children:new Date(t.updated_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]})}),d.jsxs("div",{className:"production-stats",children:[d.jsx("h3",{children:"Estado de Produccin"}),d.jsxs("div",{className:"stats-grid compact",children:[d.jsxs("div",{className:`stat-card ${w.hasFormula?"success":"warning"}`,children:[d.jsx("span",{className:"stat-icon",children:w.hasFormula?"":""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("span",{className:"stat-number",children:w.totalIngredients}),d.jsx("span",{className:"stat-label",children:"Ingredientes"})]})]}),d.jsxs("div",{className:`stat-card ${w.canProduce?"success":"error"}`,children:[d.jsx("span",{className:"stat-icon",children:w.canProduce?"":""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("span",{className:"stat-number",children:w.maxProducible}),d.jsx("span",{className:"stat-label",children:"Lotes Posibles"})]})]}),d.jsxs("div",{className:`stat-card ${w.canProduce?"success":"info"}`,children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("span",{className:"stat-status",children:w.canProduce?"Listo":"No Disponible"}),d.jsx("span",{className:"stat-label",children:"Estado Produccin"})]})]})]}),w.limitingMaterial&&d.jsxs("div",{className:"limiting-factor",children:[d.jsx("span",{className:"limiting-icon",children:""}),d.jsxs("span",{className:"limiting-text",children:["Material limitante: ",d.jsx("strong",{children:w.limitingMaterial})]})]})]}),d.jsx("div",{className:"details-content",children:l?d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner"}),d.jsx("p",{children:"Cargando detalles de la frmula..."})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"formula-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h3",{children:"Frmula"}),d.jsx("button",{className:"btn btn-primary",onClick:()=>p(!0),children:i.length>0?" Gestionar Frmula":" Crear Frmula"})]}),i.length===0?d.jsx("div",{className:"no-formula",children:d.jsxs("div",{className:"empty-state",children:[d.jsx("span",{className:"empty-icon",children:""}),d.jsx("h4",{children:"Sin Frmula Definida"}),d.jsx("p",{children:"Esta frmula an no tiene ingredientes definidos."}),d.jsx("button",{className:"btn btn-primary",onClick:()=>p(!0),children:"Crear Primera Frmula"})]})}):d.jsxs("div",{className:"formula-preview",children:[d.jsxs("div",{className:"formula-summary",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Produce:"})," ",t.base_quantity," ",t.unit," usando ",i.length," ingrediente",i.length!==1?"s":""]}),w.canProduce?d.jsxs("p",{className:"production-ready",children:[" ",d.jsx("strong",{children:"Listo para producir"})," hasta ",w.maxProducible," lote",w.maxProducible!==1?"s":""]}):d.jsxs("p",{className:"production-blocked",children:[" ",d.jsx("strong",{children:"Produccin bloqueada"})," por falta de materias primas"]})]}),d.jsx("div",{className:"ingredients-preview",children:i.map(S=>{const E=a.find(O=>O.id===S.raw_material_id),D=E&&E.current_stock>=S.quantity;return d.jsxs("div",{className:`ingredient-preview ${D?"":"insufficient"}`,children:[d.jsxs("div",{className:"ingredient-info",children:[d.jsx("span",{className:"ingredient-name",children:S.raw_material_name}),d.jsxs("span",{className:"ingredient-quantity",children:[S.quantity," ",(E==null?void 0:E.unit)||"unidad"]})]}),d.jsxs("div",{className:"stock-status",children:[d.jsx("span",{className:`stock-indicator ${D?"ok":"warning"}`,children:D?"":""}),d.jsxs("span",{className:"stock-text",children:[(E==null?void 0:E.current_stock)||0," disponible"]})]})]},S.raw_material_id)})})]})]})})}),d.jsx("div",{className:"details-footer",children:d.jsxs("div",{className:"footer-actions",children:[d.jsx("button",{className:"btn btn-secondary",onClick:N,disabled:l,children:"Cerrar"}),i.length>0&&d.jsx("button",{className:"btn btn-primary",onClick:()=>p(!0),disabled:l,children:"Gestionar Frmula Completa"})]})})]})}),f&&d.jsx(bb,{product:t,isOpen:f,onClose:()=>m(!1),onSubmit:b}),y&&d.jsx(zk,{product:t,isOpen:y,onClose:()=>p(!1),onUpdate:k})]}):null};function Tt(t){"@babel/helpers - typeof";return Tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(t)}var _i=Uint8Array,Fn=Uint16Array,lm=Int32Array,cm=new _i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),um=new _i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Gg=new _i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_b=function(t,e){for(var r=new Fn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new lm(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},xb=_b(cm,2),Hk=xb.b,H1=xb.r;Hk[28]=258,H1[258]=28;var Vk=_b(um,0),Kg=Vk.r,V1=new Fn(32768);for(var Gt=0;Gt<32768;++Gt){var Us=(Gt&43690)>>1|(Gt&21845)<<1;Us=(Us&52428)>>2|(Us&13107)<<2,Us=(Us&61680)>>4|(Us&3855)<<4,V1[Gt]=((Us&65280)>>8|(Us&255)<<8)>>1}var Cc=function(t,e,r){for(var n=t.length,i=0,s=new Fn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new Fn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new Fn(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],f=e-t[i],m=a[t[i]-1]++<<f,y=m|(1<<f)-1;m<=y;++m)o[V1[m]>>l]=u}else for(o=new Fn(n),i=0;i<n;++i)t[i]&&(o[i]=V1[a[t[i]-1]++]>>15-t[i]);return o},to=new _i(288);for(var Gt=0;Gt<144;++Gt)to[Gt]=8;for(var Gt=144;Gt<256;++Gt)to[Gt]=9;for(var Gt=256;Gt<280;++Gt)to[Gt]=7;for(var Gt=280;Gt<288;++Gt)to[Gt]=8;var vh=new _i(32);for(var Gt=0;Gt<32;++Gt)vh[Gt]=5;var Gk=Cc(to,9,0),Kk=Cc(vh,5,0),Sb=function(t){return(t+7)/8|0},Jk=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new _i(t.subarray(e,r))},os=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},cc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},pp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:kb,l:0};if(i==1){var a=new _i(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(D,O){return D.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,f=1,m=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};f!=i-1;)o=r[r[u].f<r[m].f?u++:m++],l=r[u!=f&&r[u].f<r[m].f?u++:m++],r[f++]={s:-1,f:o.f+l.f,l:o,r:l};for(var y=s[0].s,n=1;n<i;++n)s[n].s>y&&(y=s[n].s);var p=new Fn(y+1),_=G1(r[f-1],p,0);if(_>e){var n=0,b=0,k=_-e,w=1<<k;for(s.sort(function(O,z){return p[z.s]-p[O.s]||O.f-z.f});n<i;++n){var N=s[n].s;if(p[N]>e)b+=w-(1<<_-p[N]),p[N]=e;else break}for(b>>=k;b>0;){var S=s[n].s;p[S]<e?b-=1<<e-p[S]++-1:++n}for(;n>=0&&b;--n){var E=s[n].s;p[E]==e&&(--p[E],++b)}_=e}return{t:new _i(p),l:_}},G1=function(t,e,r){return t.s==-1?Math.max(G1(t.l,e,r+1),G1(t.r,e,r+1)):e[t.s]=r},Jg=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Fn(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},uc=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Nb=function(t,e,r){var n=r.length,i=Sb(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},Yg=function(t,e,r,n,i,s,a,o,l,u,f){os(e,f++,r),++i[256];for(var m=pp(i,15),y=m.t,p=m.l,_=pp(s,15),b=_.t,k=_.l,w=Jg(y),N=w.c,S=w.n,E=Jg(b),D=E.c,O=E.n,z=new Fn(19),q=0;q<N.length;++q)++z[N[q]&31];for(var q=0;q<D.length;++q)++z[D[q]&31];for(var B=pp(z,7),W=B.t,j=B.l,A=19;A>4&&!W[Gg[A-1]];--A);var $=u+5<<3,R=uc(i,to)+uc(s,vh)+a,X=uc(i,y)+uc(s,b)+a+14+3*A+uc(z,W)+2*z[16]+3*z[17]+7*z[18];if(l>=0&&$<=R&&$<=X)return Nb(e,f,t.subarray(l,l+u));var Q,re,U,ee;if(os(e,f,1+(X<R)),f+=2,X<R){Q=Cc(y,p,0),re=y,U=Cc(b,k,0),ee=b;var pe=Cc(W,j,0);os(e,f,S-257),os(e,f+5,O-1),os(e,f+10,A-4),f+=14;for(var q=0;q<A;++q)os(e,f+3*q,W[Gg[q]]);f+=3*A;for(var ce=[N,D],P=0;P<2;++P)for(var H=ce[P],q=0;q<H.length;++q){var J=H[q]&31;os(e,f,pe[J]),f+=W[J],J>15&&(os(e,f,H[q]>>5&127),f+=H[q]>>12)}}else Q=Gk,re=to,U=Kk,ee=vh;for(var q=0;q<o;++q){var Z=n[q];if(Z>255){var J=Z>>18&31;cc(e,f,Q[J+257]),f+=re[J+257],J>7&&(os(e,f,Z>>23&31),f+=cm[J]);var ne=Z&31;cc(e,f,U[ne]),f+=ee[ne],ne>3&&(cc(e,f,Z>>5&8191),f+=um[ne])}else cc(e,f,Q[Z]),f+=re[Z]}return cc(e,f,Q[256]),f+re[256]},Yk=new lm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),kb=new _i(0),Xk=function(t,e,r,n,i,s){var a=s.z||t.length,o=new _i(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,f=(s.r||0)&7;if(e){f&&(l[0]=s.r>>3);for(var m=Yk[e-1],y=m>>13,p=m&8191,_=(1<<r)-1,b=s.p||new Fn(32768),k=s.h||new Fn(_+1),w=Math.ceil(r/3),N=2*w,S=function(fe){return(t[fe]^t[fe+1]<<w^t[fe+2]<<N)&_},E=new lm(25e3),D=new Fn(288),O=new Fn(32),z=0,q=0,B=s.i||0,W=0,j=s.w||0,A=0;B+2<a;++B){var $=S(B),R=B&32767,X=k[$];if(b[R]=X,k[$]=R,j<=B){var Q=a-B;if((z>7e3||W>24576)&&(Q>423||!u)){f=Yg(t,l,0,E,D,O,q,W,A,B-A,f),W=z=q=0,A=B;for(var re=0;re<286;++re)D[re]=0;for(var re=0;re<30;++re)O[re]=0}var U=2,ee=0,pe=p,ce=R-X&32767;if(Q>2&&$==S(B-ce))for(var P=Math.min(y,Q)-1,H=Math.min(32767,B),J=Math.min(258,Q);ce<=H&&--pe&&R!=X;){if(t[B+U]==t[B+U-ce]){for(var Z=0;Z<J&&t[B+Z]==t[B+Z-ce];++Z);if(Z>U){if(U=Z,ee=ce,Z>P)break;for(var ne=Math.min(ce,Z-2),oe=0,re=0;re<ne;++re){var ge=B-ce+re&32767,he=b[ge],xe=ge-he&32767;xe>oe&&(oe=xe,X=ge)}}}R=X,X=b[R],ce+=R-X&32767}if(ee){E[W++]=268435456|H1[U]<<18|Kg[ee];var Se=H1[U]&31,Ce=Kg[ee]&31;q+=cm[Se]+um[Ce],++D[257+Se],++O[Ce],j=B+U,++z}else E[W++]=t[B],++D[t[B]]}}for(B=Math.max(B,j);B<a;++B)E[W++]=t[B],++D[t[B]];f=Yg(t,l,u,E,D,O,q,W,A,B-A,f),u||(s.r=f&7|l[f/8|0]<<3,f-=7,s.h=k,s.p=b,s.i=B,s.w=j)}else{for(var B=s.w||0;B<a+u;B+=65535){var Le=B+65535;Le>=a&&(l[f/8|0]=u,Le=a),f=Nb(l,f+1,t.subarray(B,Le))}s.i=a}return Jk(o,0,n+Sb(f)+i)},jb=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Qk=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new _i(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return Xk(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Ab=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Zk=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=jb();i.p(e.dictionary),Ab(t,2,i.d())}};function K1(t,e){e||(e={});var r=jb();r.p(t);var n=Qk(t,e,e.dictionary?6:2,4);return Zk(n,e),Ab(n,n.length-4,r.d()),n}var e8=typeof TextDecoder<"u"&&new TextDecoder,t8=0;try{e8.decode(kb,{stream:!0}),t8=1}catch{}function r8(t){if(Array.isArray(t))return t}function n8(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(f){u=!0,i=f}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Xg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function i8(t,e){if(t){if(typeof t=="string")return Xg(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xg(t,e):void 0}}function s8(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qg(t,e){return r8(t)||n8(t,e)||i8(t,e)||s8()}function Zg(t,e="utf8"){return new TextDecoder(e).decode(t)}const a8=new TextEncoder;function o8(t){return a8.encode(t)}const l8=1024*8,c8=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),mp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class dm{constructor(e=l8,r={}){Pt(this,"buffer");Pt(this,"byteLength");Pt(this,"byteOffset");Pt(this,"length");Pt(this,"offset");Pt(this,"lastWrittenByte");Pt(this,"littleEndian");Pt(this,"_data");Pt(this,"_mark");Pt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof dm)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=mp[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===c8&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new mp[r](o.buffer);return this.offset+=n,l.reverse(),l}const a=new mp[r](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return Zg(this.readBytes(e))}decodeText(e=1,r="utf8"){return Zg(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(o8(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Nl(t){let e=t.length;for(;--e>=0;)t[e]=0}const u8=3,d8=258,Eb=29,h8=256,f8=h8+1+Eb,Lb=30,p8=512,m8=new Array((f8+2)*2);Nl(m8);const g8=new Array(Lb*2);Nl(g8);const v8=new Array(p8);Nl(v8);const y8=new Array(d8-u8+1);Nl(y8);const w8=new Array(Eb);Nl(w8);const b8=new Array(Lb);Nl(b8);const _8=(t,e,r,n)=>{let i=t&65535|0,s=t>>>16&65535|0,a=0;for(;r!==0;){a=r>2e3?2e3:r,r-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var J1=_8;const x8=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},S8=new Uint32Array(x8()),N8=(t,e,r,n)=>{const i=S8,s=n+r;t^=-1;for(let a=n;a<s;a++)t=t>>>8^i[(t^e[a])&255];return t^-1};var Di=N8,Y1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cb={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const k8=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var j8=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)k8(r,n)&&(t[n]=r[n])}}return t},A8=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,s=t.length;n<s;n++){let a=t[n];r.set(a,i),i+=a.length}return r},Pb={assign:j8,flattenChunks:A8};let Tb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Tb=!1}const Qc=new Uint8Array(256);for(let t=0;t<256;t++)Qc[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Qc[254]=Qc[254]=1;var E8=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,s,a=t.length,o=0;for(i=0;i<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<a&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const L8=(t,e)=>{if(e<65534&&t.subarray&&Tb)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var C8=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const s=new Array(r*2);for(i=0,n=0;n<r;){let a=t[n++];if(a<128){s[i++]=a;continue}let o=Qc[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<r;)a=a<<6|t[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return L8(s,i)},P8=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Qc[t[r]]>e?r:e},X1={string2buf:E8,buf2string:C8,utf8border:P8};function T8(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var O8=T8;const ld=16209,I8=16191;var F8=function(e,r){let n,i,s,a,o,l,u,f,m,y,p,_,b,k,w,N,S,E,D,O,z,q,B,W;const j=e.state;n=e.next_in,B=e.input,i=n+(e.avail_in-5),s=e.next_out,W=e.output,a=s-(r-e.avail_out),o=s+(e.avail_out-257),l=j.dmax,u=j.wsize,f=j.whave,m=j.wnext,y=j.window,p=j.hold,_=j.bits,b=j.lencode,k=j.distcode,w=(1<<j.lenbits)-1,N=(1<<j.distbits)-1;e:do{_<15&&(p+=B[n++]<<_,_+=8,p+=B[n++]<<_,_+=8),S=b[p&w];t:for(;;){if(E=S>>>24,p>>>=E,_-=E,E=S>>>16&255,E===0)W[s++]=S&65535;else if(E&16){D=S&65535,E&=15,E&&(_<E&&(p+=B[n++]<<_,_+=8),D+=p&(1<<E)-1,p>>>=E,_-=E),_<15&&(p+=B[n++]<<_,_+=8,p+=B[n++]<<_,_+=8),S=k[p&N];r:for(;;){if(E=S>>>24,p>>>=E,_-=E,E=S>>>16&255,E&16){if(O=S&65535,E&=15,_<E&&(p+=B[n++]<<_,_+=8,_<E&&(p+=B[n++]<<_,_+=8)),O+=p&(1<<E)-1,O>l){e.msg="invalid distance too far back",j.mode=ld;break e}if(p>>>=E,_-=E,E=s-a,O>E){if(E=O-E,E>f&&j.sane){e.msg="invalid distance too far back",j.mode=ld;break e}if(z=0,q=y,m===0){if(z+=u-E,E<D){D-=E;do W[s++]=y[z++];while(--E);z=s-O,q=W}}else if(m<E){if(z+=u+m-E,E-=m,E<D){D-=E;do W[s++]=y[z++];while(--E);if(z=0,m<D){E=m,D-=E;do W[s++]=y[z++];while(--E);z=s-O,q=W}}}else if(z+=m-E,E<D){D-=E;do W[s++]=y[z++];while(--E);z=s-O,q=W}for(;D>2;)W[s++]=q[z++],W[s++]=q[z++],W[s++]=q[z++],D-=3;D&&(W[s++]=q[z++],D>1&&(W[s++]=q[z++]))}else{z=s-O;do W[s++]=W[z++],W[s++]=W[z++],W[s++]=W[z++],D-=3;while(D>2);D&&(W[s++]=W[z++],D>1&&(W[s++]=W[z++]))}}else if(E&64){e.msg="invalid distance code",j.mode=ld;break e}else{S=k[(S&65535)+(p&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){j.mode=I8;break e}else{e.msg="invalid literal/length code",j.mode=ld;break e}else{S=b[(S&65535)+(p&(1<<E)-1)];continue t}break}}while(n<i&&s<o);D=_>>3,n-=D,_-=D<<3,p&=(1<<_)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),j.hold=p,j.bits=_};const Oo=15,e5=852,t5=592,r5=0,gp=1,n5=2,R8=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),D8=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),M8=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),B8=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),U8=(t,e,r,n,i,s,a,o)=>{const l=o.bits;let u=0,f=0,m=0,y=0,p=0,_=0,b=0,k=0,w=0,N=0,S,E,D,O,z,q=null,B;const W=new Uint16Array(Oo+1),j=new Uint16Array(Oo+1);let A=null,$,R,X;for(u=0;u<=Oo;u++)W[u]=0;for(f=0;f<n;f++)W[e[r+f]]++;for(p=l,y=Oo;y>=1&&W[y]===0;y--);if(p>y&&(p=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<y&&W[m]===0;m++);for(p<m&&(p=m),k=1,u=1;u<=Oo;u++)if(k<<=1,k-=W[u],k<0)return-1;if(k>0&&(t===r5||y!==1))return-1;for(j[1]=0,u=1;u<Oo;u++)j[u+1]=j[u]+W[u];for(f=0;f<n;f++)e[r+f]!==0&&(a[j[e[r+f]]++]=f);if(t===r5?(q=A=a,B=20):t===gp?(q=R8,A=D8,B=257):(q=M8,A=B8,B=0),N=0,f=0,u=m,z=s,_=p,b=0,D=-1,w=1<<p,O=w-1,t===gp&&w>e5||t===n5&&w>t5)return 1;for(;;){$=u-b,a[f]+1<B?(R=0,X=a[f]):a[f]>=B?(R=A[a[f]-B],X=q[a[f]-B]):(R=96,X=0),S=1<<u-b,E=1<<_,m=E;do E-=S,i[z+(N>>b)+E]=$<<24|R<<16|X|0;while(E!==0);for(S=1<<u-1;N&S;)S>>=1;if(S!==0?(N&=S-1,N+=S):N=0,f++,--W[u]===0){if(u===y)break;u=e[r+a[f]]}if(u>p&&(N&O)!==D){for(b===0&&(b=p),z+=m,_=u-b,k=1<<_;_+b<y&&(k-=W[_+b],!(k<=0));)_++,k<<=1;if(w+=1<<_,t===gp&&w>e5||t===n5&&w>t5)return 1;D=N&O,i[D]=p<<24|_<<16|z-s|0}}return N!==0&&(i[z+N]=u-b<<24|64<<16|0),o.bits=p,0};var Pc=U8;const q8=0,Ob=1,Ib=2,{Z_FINISH:i5,Z_BLOCK:$8,Z_TREES:cd,Z_OK:ro,Z_STREAM_END:z8,Z_NEED_DICT:W8,Z_STREAM_ERROR:ei,Z_DATA_ERROR:Fb,Z_MEM_ERROR:Rb,Z_BUF_ERROR:H8,Z_DEFLATED:s5}=Cb,Kh=16180,a5=16181,o5=16182,l5=16183,c5=16184,u5=16185,d5=16186,h5=16187,f5=16188,p5=16189,yh=16190,ls=16191,vp=16192,m5=16193,yp=16194,g5=16195,v5=16196,y5=16197,w5=16198,ud=16199,dd=16200,b5=16201,_5=16202,x5=16203,S5=16204,N5=16205,wp=16206,k5=16207,j5=16208,Jt=16209,Db=16210,Mb=16211,V8=852,G8=592,K8=15,J8=K8,A5=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Y8(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ao=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Kh||e.mode>Mb?1:0},Bb=t=>{if(ao(t))return ei;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Kh,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(V8),e.distcode=e.distdyn=new Int32Array(G8),e.sane=1,e.back=-1,ro},Ub=t=>{if(ao(t))return ei;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Bb(t)},qb=(t,e)=>{let r;if(ao(t))return ei;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ei:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Ub(t))},$b=(t,e)=>{if(!t)return ei;const r=new Y8;t.state=r,r.strm=t,r.window=null,r.mode=Kh;const n=qb(t,e);return n!==ro&&(t.state=null),n},X8=t=>$b(t,J8);let E5=!0,bp,_p;const Q8=t=>{if(E5){bp=new Int32Array(512),_p=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Pc(Ob,t.lens,0,288,bp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Pc(Ib,t.lens,0,32,_p,0,t.work,{bits:5}),E5=!1}t.lencode=bp,t.lenbits=9,t.distcode=_p,t.distbits=5},zb=(t,e,r,n)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(r-n,r-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},Z8=(t,e)=>{let r,n,i,s,a,o,l,u,f,m,y,p,_,b,k=0,w,N,S,E,D,O,z,q;const B=new Uint8Array(4);let W,j;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ao(t)||!t.output||!t.input&&t.avail_in!==0)return ei;r=t.state,r.mode===ls&&(r.mode=vp),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,f=r.bits,m=o,y=l,q=ro;e:for(;;)switch(r.mode){case Kh:if(r.wrap===0){r.mode=vp;break}for(;f<16;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=u&255,B[1]=u>>>8&255,r.check=Di(r.check,B,2,0),u=0,f=0,r.mode=a5;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Jt;break}if((u&15)!==s5){t.msg="unknown compression method",r.mode=Jt;break}if(u>>>=4,f-=4,z=(u&15)+8,r.wbits===0&&(r.wbits=z),z>15||z>r.wbits){t.msg="invalid window size",r.mode=Jt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?p5:ls,u=0,f=0;break;case a5:for(;f<16;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==s5){t.msg="unknown compression method",r.mode=Jt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Jt;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Di(r.check,B,2,0)),u=0,f=0,r.mode=o5;case o5:for(;f<32;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,B[2]=u>>>16&255,B[3]=u>>>24&255,r.check=Di(r.check,B,4,0)),u=0,f=0,r.mode=l5;case l5:for(;f<16;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Di(r.check,B,2,0)),u=0,f=0,r.mode=c5;case c5:if(r.flags&1024){for(;f<16;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(B[0]=u&255,B[1]=u>>>8&255,r.check=Di(r.check,B,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=u5;case u5:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(z=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),z)),r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,p,s)),o-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=d5;case d5:if(r.flags&2048){if(o===0)break e;p=0;do z=n[s+p++],r.head&&z&&r.length<65536&&(r.head.name+=String.fromCharCode(z));while(z&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,p,s)),o-=p,s+=p,z)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=h5;case h5:if(r.flags&4096){if(o===0)break e;p=0;do z=n[s+p++],r.head&&z&&r.length<65536&&(r.head.comment+=String.fromCharCode(z));while(z&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=Di(r.check,n,p,s)),o-=p,s+=p,z)break e}else r.head&&(r.head.comment=null);r.mode=f5;case f5:if(r.flags&512){for(;f<16;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Jt;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ls;break;case p5:for(;f<32;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}t.adler=r.check=A5(u),u=0,f=0,r.mode=yh;case yh:if(r.havedict===0)return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=f,W8;t.adler=r.check=1,r.mode=ls;case ls:if(e===$8||e===cd)break e;case vp:if(r.last){u>>>=f&7,f-=f&7,r.mode=wp;break}for(;f<3;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=m5;break;case 1:if(Q8(r),r.mode=ud,e===cd){u>>>=2,f-=2;break e}break;case 2:r.mode=v5;break;case 3:t.msg="invalid block type",r.mode=Jt}u>>>=2,f-=2;break;case m5:for(u>>>=f&7,f-=f&7;f<32;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Jt;break}if(r.length=u&65535,u=0,f=0,r.mode=yp,e===cd)break e;case yp:r.mode=g5;case g5:if(p=r.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;i.set(n.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,r.length-=p;break}r.mode=ls;break;case v5:for(;f<14;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Jt;break}r.have=0,r.mode=y5;case y5:for(;r.have<r.ncode;){for(;f<3;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}r.lens[A[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,W={bits:r.lenbits},q=Pc(q8,r.lens,0,19,r.lencode,0,r.work,W),r.lenbits=W.bits,q){t.msg="invalid code lengths set",r.mode=Jt;break}r.have=0,r.mode=w5;case w5:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[u&(1<<r.lenbits)-1],w=k>>>24,N=k>>>16&255,S=k&65535,!(w<=f);){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(S<16)u>>>=w,f-=w,r.lens[r.have++]=S;else{if(S===16){for(j=w+2;f<j;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(u>>>=w,f-=w,r.have===0){t.msg="invalid bit length repeat",r.mode=Jt;break}z=r.lens[r.have-1],p=3+(u&3),u>>>=2,f-=2}else if(S===17){for(j=w+3;f<j;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}u>>>=w,f-=w,z=0,p=3+(u&7),u>>>=3,f-=3}else{for(j=w+7;f<j;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}u>>>=w,f-=w,z=0,p=11+(u&127),u>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Jt;break}for(;p--;)r.lens[r.have++]=z}}if(r.mode===Jt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Jt;break}if(r.lenbits=9,W={bits:r.lenbits},q=Pc(Ob,r.lens,0,r.nlen,r.lencode,0,r.work,W),r.lenbits=W.bits,q){t.msg="invalid literal/lengths set",r.mode=Jt;break}if(r.distbits=6,r.distcode=r.distdyn,W={bits:r.distbits},q=Pc(Ib,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,W),r.distbits=W.bits,q){t.msg="invalid distances set",r.mode=Jt;break}if(r.mode=ud,e===cd)break e;case ud:r.mode=dd;case dd:if(o>=6&&l>=258){t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=f,F8(t,y),a=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,n=t.input,o=t.avail_in,u=r.hold,f=r.bits,r.mode===ls&&(r.back=-1);break}for(r.back=0;k=r.lencode[u&(1<<r.lenbits)-1],w=k>>>24,N=k>>>16&255,S=k&65535,!(w<=f);){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(N&&!(N&240)){for(E=w,D=N,O=S;k=r.lencode[O+((u&(1<<E+D)-1)>>E)],w=k>>>24,N=k>>>16&255,S=k&65535,!(E+w<=f);){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}u>>>=E,f-=E,r.back+=E}if(u>>>=w,f-=w,r.back+=w,r.length=S,N===0){r.mode=N5;break}if(N&32){r.back=-1,r.mode=ls;break}if(N&64){t.msg="invalid literal/length code",r.mode=Jt;break}r.extra=N&15,r.mode=b5;case b5:if(r.extra){for(j=r.extra;f<j;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=_5;case _5:for(;k=r.distcode[u&(1<<r.distbits)-1],w=k>>>24,N=k>>>16&255,S=k&65535,!(w<=f);){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(!(N&240)){for(E=w,D=N,O=S;k=r.distcode[O+((u&(1<<E+D)-1)>>E)],w=k>>>24,N=k>>>16&255,S=k&65535,!(E+w<=f);){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}u>>>=E,f-=E,r.back+=E}if(u>>>=w,f-=w,r.back+=w,N&64){t.msg="invalid distance code",r.mode=Jt;break}r.offset=S,r.extra=N&15,r.mode=x5;case x5:if(r.extra){for(j=r.extra;f<j;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Jt;break}r.mode=S5;case S5:if(l===0)break e;if(p=y-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Jt;break}p>r.wnext?(p-=r.wnext,_=r.wsize-p):_=r.wnext-p,p>r.length&&(p=r.length),b=r.window}else b=i,_=a-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do i[a++]=b[_++];while(--p);r.length===0&&(r.mode=dd);break;case N5:if(l===0)break e;i[a++]=r.length,l--,r.mode=dd;break;case wp:if(r.wrap){for(;f<32;){if(o===0)break e;o--,u|=n[s++]<<f,f+=8}if(y-=l,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Di(r.check,i,y,a-y):J1(r.check,i,y,a-y)),y=l,r.wrap&4&&(r.flags?u:A5(u))!==r.check){t.msg="incorrect data check",r.mode=Jt;break}u=0,f=0}r.mode=k5;case k5:if(r.wrap&&r.flags){for(;f<32;){if(o===0)break e;o--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Jt;break}u=0,f=0}r.mode=j5;case j5:q=z8;break e;case Jt:q=Fb;break e;case Db:return Rb;case Mb:default:return ei}return t.next_out=a,t.avail_out=l,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=f,(r.wsize||y!==t.avail_out&&r.mode<Jt&&(r.mode<wp||e!==i5))&&zb(t,t.output,t.next_out,y-t.avail_out),m-=t.avail_in,y-=t.avail_out,t.total_in+=m,t.total_out+=y,r.total+=y,r.wrap&4&&y&&(t.adler=r.check=r.flags?Di(r.check,i,y,t.next_out-y):J1(r.check,i,y,t.next_out-y)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ls?128:0)+(r.mode===ud||r.mode===yp?256:0),(m===0&&y===0||e===i5)&&q===ro&&(q=H8),q},ej=t=>{if(ao(t))return ei;let e=t.state;return e.window&&(e.window=null),t.state=null,ro},tj=(t,e)=>{if(ao(t))return ei;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,ro):ei},rj=(t,e)=>{const r=e.length;let n,i,s;return ao(t)||(n=t.state,n.wrap!==0&&n.mode!==yh)?ei:n.mode===yh&&(i=1,i=J1(i,e,r,0),i!==n.check)?Fb:(s=zb(t,e,r,r),s?(n.mode=Db,Rb):(n.havedict=1,ro))};var nj=Ub,ij=qb,sj=Bb,aj=X8,oj=$b,lj=Z8,cj=ej,uj=tj,dj=rj,hj="pako inflate (from Nodeca project)",fs={inflateReset:nj,inflateReset2:ij,inflateResetKeep:sj,inflateInit:aj,inflateInit2:oj,inflate:lj,inflateEnd:cj,inflateGetHeader:uj,inflateSetDictionary:dj,inflateInfo:hj};function fj(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var pj=fj;const Wb=Object.prototype.toString,{Z_NO_FLUSH:mj,Z_FINISH:gj,Z_OK:Zc,Z_STREAM_END:xp,Z_NEED_DICT:Sp,Z_STREAM_ERROR:vj,Z_DATA_ERROR:L5,Z_MEM_ERROR:yj}=Cb;function du(t){this.options=Pb.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O8,this.strm.avail_out=0;let r=fs.inflateInit2(this.strm,e.windowBits);if(r!==Zc)throw new Error(Y1[r]);if(this.header=new pj,fs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=X1.string2buf(e.dictionary):Wb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=fs.inflateSetDictionary(this.strm,e.dictionary),r!==Zc)))throw new Error(Y1[r])}du.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?gj:mj,Wb.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=fs.inflate(r,a),s===Sp&&i&&(s=fs.inflateSetDictionary(r,i),s===Zc?s=fs.inflate(r,a):s===L5&&(s=Sp));r.avail_in>0&&s===xp&&r.state.wrap>0&&t[r.next_in]!==0;)fs.inflateReset(r),s=fs.inflate(r,a);switch(s){case vj:case L5:case Sp:case yj:return this.onEnd(s),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||s===xp))if(this.options.to==="string"){let l=X1.utf8border(r.output,r.next_out),u=r.next_out-l,f=X1.buf2string(r.output,l);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(l,l+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===Zc&&o===0)){if(s===xp)return s=fs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};du.prototype.onData=function(t){this.chunks.push(t)};du.prototype.onEnd=function(t){t===Zc&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Pb.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function wj(t,e){const r=new du(e);if(r.push(t),r.err)throw r.msg||Y1[r.err];return r.result}var bj=du,_j=wj,xj={Inflate:bj,inflate:_j};const{Inflate:Sj,inflate:Nj}=xj;var C5=Sj,kj=Nj;const Hb=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Hb[t]=e}const P5=4294967295;function jj(t,e,r){let n=t;for(let i=0;i<r;i++)n=Hb[(n^e[i])&255]^n>>>8;return n}function Aj(t,e){return(jj(P5,t,e)^P5)>>>0}function T5(t,e,r){const n=t.readUint32(),i=Aj(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Vb(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Gb(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function Kb(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Jb(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-i]+r[s]>>1)&255}}function Yb(t,e,r,n,i){let s=0;if(r.length===0){for(;s<i;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+Ej(e[s-i],r[s],r[s-i])&255}}function Ej(t,e,r){const n=t+e-r,i=Math.abs(n-t),s=Math.abs(n-e),a=Math.abs(n-r);return i<=s&&i<=a?t:s<=a?e:r}function Lj(t,e,r,n,i,s){switch(t){case 0:Vb(e,r,i);break;case 1:Gb(e,r,i,s);break;case 2:Kb(e,r,n,i);break;case 3:Jb(e,r,n,i,s);break;case 4:Yb(e,r,n,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Cj=new Uint16Array([255]),Pj=new Uint8Array(Cj.buffer),Tj=Pj[0]===255;function Oj(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(n*r*o);let u=0;for(let f=0;f<7;f++){const m=a[f],y=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(y<=0||p<=0)continue;const _=y*o,b=new Uint8Array(_);for(let k=0;k<p;k++){const w=e[u++],N=e.subarray(u,u+_);u+=_;const S=new Uint8Array(_);Lj(w,N,S,b,_,o),b.set(S);for(let E=0;E<y;E++){const D=m.x+E*m.xStep,O=m.y+k*m.yStep;if(!(D>=r||O>=n))for(let z=0;z<o;z++)l[(O*r+D)*o+z]=S[E*o+z]}}}if(s===16){const f=new Uint16Array(l.buffer);if(Tj)for(let m=0;m<f.length;m++)f[m]=Ij(f[m]);return f}else return l}function Ij(t){return(t&255)<<8|t>>8&255}const Fj=new Uint16Array([255]),Rj=new Uint8Array(Fj.buffer),Dj=Rj[0]===255,Mj=new Uint8Array(0);function O5(t){const{data:e,width:r,height:n,channels:i,depth:s}=t,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*r),l=new Uint8Array(n*o);let u=Mj,f=0,m,y;for(let p=0;p<n;p++){switch(m=e.subarray(f+1,f+1+o),y=l.subarray(p*o,(p+1)*o),e[f]){case 0:Vb(m,y,o);break;case 1:Gb(m,y,o,a);break;case 2:Kb(m,y,u,o);break;case 3:Jb(m,y,u,o,a);break;case 4:Yb(m,y,u,o,a);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=y,f+=o+1}if(s===16){const p=new Uint16Array(l.buffer);if(Dj)for(let _=0;_<p.length;_++)p[_]=Bj(p[_]);return p}else return l}function Bj(t){return(t&255)<<8|t>>8&255}const Td=Uint8Array.of(137,80,78,71,13,10,26,10);function I5(t){if(!Uj(t.readBytes(Td.length)))throw new Error("wrong PNG signature")}function Uj(t){if(t.length<Td.length)return!1;for(let e=0;e<Td.length;e++)if(t[e]!==Td[e])return!1;return!0}const qj="tEXt",$j=0,Xb=new TextDecoder("latin1");function zj(t){if(Hj(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Wj=/^[\u0000-\u00FF]*$/;function Hj(t){if(!Wj.test(t))throw new Error("invalid latin1 text")}function Vj(t,e,r){const n=Qb(e);t[n]=Gj(e,r-n.length-1)}function Qb(t){for(t.mark();t.readByte()!==$j;);const e=t.offset;t.reset();const r=Xb.decode(t.readBytes(e-t.offset-1));return t.skip(1),zj(r),r}function Gj(t,e){return Xb.decode(t.readBytes(e))}const Tn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Np={UNKNOWN:-1,DEFLATE:0},F5={UNKNOWN:-1,ADAPTIVE:0},kp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},hd={NONE:0,BACKGROUND:1,PREVIOUS:2},jp={SOURCE:0,OVER:1};class Kj extends dm{constructor(r,n={}){super(r);Pt(this,"_checkCrc");Pt(this,"_inflator");Pt(this,"_png");Pt(this,"_apng");Pt(this,"_end");Pt(this,"_hasPalette");Pt(this,"_palette");Pt(this,"_hasTransparency");Pt(this,"_transparency");Pt(this,"_compressionMethod");Pt(this,"_filterMethod");Pt(this,"_interlaceMethod");Pt(this,"_colorType");Pt(this,"_isAnimated");Pt(this,"_numberOfFrames");Pt(this,"_numberOfPlays");Pt(this,"_frames");Pt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new C5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Np.UNKNOWN,this._filterMethod=F5.UNKNOWN,this._interlaceMethod=kp.UNKNOWN,this._colorType=Tn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(I5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(I5(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case qj:Vj(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?T5(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?T5(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Jj(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Tn.GREYSCALE:i=1;break;case Tn.TRUECOLOUR:i=3;break;case Tn.INDEXED_COLOUR:i=1;break;case Tn.GREYSCALE_ALPHA:i=2;break;case Tn.TRUECOLOUR_ALPHA:i=4;break;case Tn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==Np.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Tn.GREYSCALE:case Tn.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Tn.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Tn.UNKNOWN:case Tn.GREYSCALE_ALPHA:case Tn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Qb(this),i=this.readUint8();if(i!==Np.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:kj(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=O5({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case hd.NONE:break;case hd.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*r.width+a)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case hd.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,s=(a,o)=>{const l=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,u=(a*n.width+o)*this._png.channels;return{index:l,frameIndex:u}};switch(n.blendOp){case jp.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let f=0;f<this._png.channels;f++)r.data[l+f]=n.data[u+f]}break;case jp.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:u}=s(a,o);for(let f=0;f<this._png.channels;f++){const m=n.data[u+this._png.channels-1]/i,y=f%(this._png.channels-1)===0?1:n.data[u+f],p=Math.floor(m*y+(1-m)*r.data[l+f]);r.data[l+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==F5.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===kp.NO_INTERLACE)this._png.data=O5({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===kp.ADAM7)this._png.data=Oj({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:hd.NONE,blendOp:jp.SOURCE,data:r}),this._inflator=new C5,this._writingDataChunks=!1}}function Jj(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var R5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(R5||(R5={}));function Yj(t,e){return new Kj(t,e).decode()}var et=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Ap(){et.console&&typeof et.console.log=="function"&&et.console.log.apply(et.console,arguments)}var Mt={log:Ap,warn:function(t){et.console&&(typeof et.console.warn=="function"?et.console.warn.apply(et.console,arguments):Ap.call(null,arguments))},error:function(t){et.console&&(typeof et.console.error=="function"?et.console.error.apply(et.console,arguments):Ap(t))}};function Ep(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ma(n.response,e,r)},n.onerror=function(){Mt.error("could not download file")},n.send()}function D5(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function fd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ma=et.saveAs||((typeof window>"u"?"undefined":Tt(window))!=="object"||window!==et?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=et.URL||et.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?D5(i.href)?Ep(t,e,r):fd(i,i.target="_blank"):fd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){fd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(D5(t))Ep(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){fd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Tt(s)!=="object"&&(Mt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Ep(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(et.HTMLElement)||et.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Tt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=a?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(t)}else{var l=et.URL||et.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Zb(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}var Od=et.atob.bind(et),M5=et.btoa.bind(et);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Lp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Kr(r,n,i,s,e[0],7,-680876936),s=Kr(s,r,n,i,e[1],12,-389564586),i=Kr(i,s,r,n,e[2],17,606105819),n=Kr(n,i,s,r,e[3],22,-1044525330),r=Kr(r,n,i,s,e[4],7,-176418897),s=Kr(s,r,n,i,e[5],12,1200080426),i=Kr(i,s,r,n,e[6],17,-1473231341),n=Kr(n,i,s,r,e[7],22,-45705983),r=Kr(r,n,i,s,e[8],7,1770035416),s=Kr(s,r,n,i,e[9],12,-1958414417),i=Kr(i,s,r,n,e[10],17,-42063),n=Kr(n,i,s,r,e[11],22,-1990404162),r=Kr(r,n,i,s,e[12],7,1804603682),s=Kr(s,r,n,i,e[13],12,-40341101),i=Kr(i,s,r,n,e[14],17,-1502002290),r=Jr(r,n=Kr(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Jr(s,r,n,i,e[6],9,-1069501632),i=Jr(i,s,r,n,e[11],14,643717713),n=Jr(n,i,s,r,e[0],20,-373897302),r=Jr(r,n,i,s,e[5],5,-701558691),s=Jr(s,r,n,i,e[10],9,38016083),i=Jr(i,s,r,n,e[15],14,-660478335),n=Jr(n,i,s,r,e[4],20,-405537848),r=Jr(r,n,i,s,e[9],5,568446438),s=Jr(s,r,n,i,e[14],9,-1019803690),i=Jr(i,s,r,n,e[3],14,-187363961),n=Jr(n,i,s,r,e[8],20,1163531501),r=Jr(r,n,i,s,e[13],5,-1444681467),s=Jr(s,r,n,i,e[2],9,-51403784),i=Jr(i,s,r,n,e[7],14,1735328473),r=Yr(r,n=Jr(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Yr(s,r,n,i,e[8],11,-2022574463),i=Yr(i,s,r,n,e[11],16,1839030562),n=Yr(n,i,s,r,e[14],23,-35309556),r=Yr(r,n,i,s,e[1],4,-1530992060),s=Yr(s,r,n,i,e[4],11,1272893353),i=Yr(i,s,r,n,e[7],16,-155497632),n=Yr(n,i,s,r,e[10],23,-1094730640),r=Yr(r,n,i,s,e[13],4,681279174),s=Yr(s,r,n,i,e[0],11,-358537222),i=Yr(i,s,r,n,e[3],16,-722521979),n=Yr(n,i,s,r,e[6],23,76029189),r=Yr(r,n,i,s,e[9],4,-640364487),s=Yr(s,r,n,i,e[12],11,-421815835),i=Yr(i,s,r,n,e[15],16,530742520),r=Xr(r,n=Yr(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Xr(s,r,n,i,e[7],10,1126891415),i=Xr(i,s,r,n,e[14],15,-1416354905),n=Xr(n,i,s,r,e[5],21,-57434055),r=Xr(r,n,i,s,e[12],6,1700485571),s=Xr(s,r,n,i,e[3],10,-1894986606),i=Xr(i,s,r,n,e[10],15,-1051523),n=Xr(n,i,s,r,e[1],21,-2054922799),r=Xr(r,n,i,s,e[8],6,1873313359),s=Xr(s,r,n,i,e[15],10,-30611744),i=Xr(i,s,r,n,e[6],15,-1560198380),n=Xr(n,i,s,r,e[13],21,1309151649),r=Xr(r,n,i,s,e[4],6,-145523070),s=Xr(s,r,n,i,e[11],10,-1120210379),i=Xr(i,s,r,n,e[2],15,718787259),n=Xr(n,i,s,r,e[9],21,-343485551),t[0]=Ys(r,t[0]),t[1]=Ys(n,t[1]),t[2]=Ys(i,t[2]),t[3]=Ys(s,t[3])}function Jh(t,e,r,n,i,s){return e=Ys(Ys(e,t),Ys(n,s)),Ys(e<<i|e>>>32-i,r)}function Kr(t,e,r,n,i,s,a){return Jh(e&r|~e&n,t,e,i,s,a)}function Jr(t,e,r,n,i,s,a){return Jh(e&n|r&~n,t,e,i,s,a)}function Yr(t,e,r,n,i,s,a){return Jh(e^r^n,t,e,i,s,a)}function Xr(t,e,r,n,i,s,a){return Jh(r^(e|~n),t,e,i,s,a)}function e_(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Lp(n,Xj(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Lp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Lp(n,i),n}function Xj(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var B5="0123456789abcdef".split("");function Qj(t){for(var e="",r=0;r<4;r++)e+=B5[t>>8*r+4&15]+B5[t>>8*r&15];return e}function Zj(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Q1(t){return e_(t).map(Zj).join("")}var eA=function(t){for(var e=0;e<t.length;e++)t[e]=Qj(t[e]);return t.join("")}(e_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ys(t,e){if(eA){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Z1(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var f=o[l];u=(u+f+a.charCodeAt(l))%256,o[l]=o[u],o[u]=f}r=t,n=o}else o=n;var m=e.length,y=0,p=0,_="";for(l=0;l<m;l++)p=(p+(f=o[y=(y+1)%256]))%256,o[y]=o[p],o[p]=f,a=o[(o[y]+o[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var U5={print:4,modify:8,copy:16,"annot-forms":32};function Mo(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(U5.perm!==void 0)throw new Error("Invalid permission: "+o);i+=U5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Q1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Z1(this.encryptionKey,this.padding)}function Bo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function q5(t){if(Tt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){et.console&&Mt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function wh(t){if(!(this instanceof wh))return new wh(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function t_(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Ua(t,e,r,n,i){if(!(this instanceof Ua))return new Ua(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,t_.call(this,n,i)}function Qo(t,e,r,n,i){if(!(this instanceof Qo))return new Qo(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,t_.call(this,n,i)}function qe(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",f=null;Tt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=q5;var _="1.3",b=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(g){_=g};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return k};var w=p.__private__.getPageFormat=function(g){return k[g]};i=i||"a4";var N="compat",S="advanced",E=N;function D(){this.saveGraphicsState(),Y(new Ye(Qe,0,0,-Qe,0,Nn()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),u="n",E=S}function O(){this.restoreGraphicsState(),u="S",E=N}var z=p.__private__.combineFontStyleAndFontWeight=function(g,C){if(g=="bold"&&C=="normal"||g=="bold"&&C==400||g=="normal"&&C=="italic"||g=="bold"&&C=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return C&&(g=C==400||C==="normal"?g==="italic"?"italic":"normal":C!=700&&C!=="bold"||g!=="normal"?(C==700?"bold":C)+""+g:"bold"),g};p.advancedAPI=function(g){var C=E===N;return C&&D.call(this),typeof g!="function"||(g(this),C&&O.call(this)),this},p.compatAPI=function(g){var C=E===S;return C&&O.call(this),typeof g!="function"||(g(this),C&&D.call(this)),this},p.isAdvancedAPI=function(){return E===S};var q,B=function(g){if(E!==S)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},W=p.roundToPrecision=p.__private__.roundToPrecision=function(g,C){var K=e||C;if(isNaN(g)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(K).replace(/0+$/,"")};q=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return W(g,16)};var j=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return W(g,2)},A=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return W(g,3)},$=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return E===N?g*Qe:E===S?g:void 0},R=function(g){return $(function(C){return E===N?Nn()-C:E===S?C:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var X,Q="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return Q},U=p.__private__.setFileId=function(g){return Q=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(or=new Mo(f.userPermissions,f.userPassword,f.ownerPassword,Q)),Q};p.setFileId=function(g){return U(g),this},p.getFileId=function(){return re()};var ee=p.__private__.convertDateToPDFDate=function(g){var C=g.getTimezoneOffset(),K=C<0?"+":"-",te=Math.floor(Math.abs(C/60)),ae=Math.abs(C%60),be=[K,J(te),"'",J(ae),"'"].join("");return["D:",g.getFullYear(),J(g.getMonth()+1),J(g.getDate()),J(g.getHours()),J(g.getMinutes()),J(g.getSeconds()),be].join("")},pe=p.__private__.convertPDFDateToDate=function(g){var C=parseInt(g.substr(2,4),10),K=parseInt(g.substr(6,2),10)-1,te=parseInt(g.substr(8,2),10),ae=parseInt(g.substr(10,2),10),be=parseInt(g.substr(12,2),10),ke=parseInt(g.substr(14,2),10);return new Date(C,K,te,ae,be,ke,0)},ce=p.__private__.setCreationDate=function(g){var C;if(g===void 0&&(g=new Date),g instanceof Date)C=ee(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");C=g}return X=C},P=p.__private__.getCreationDate=function(g){var C=X;return g==="jsDate"&&(C=pe(X)),C};p.setCreationDate=function(g){return ce(g),this},p.getCreationDate=function(g){return P(g)};var H,J=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Z=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ne=0,oe=[],ge=[],he=0,xe=[],Se=[],Ce=!1,Le=ge;p.__private__.setCustomOutputDestination=function(g){Ce=!0,Le=g};var fe=function(g){Ce||(Le=g)};p.__private__.resetCustomOutputDestination=function(){Ce=!1,Le=ge};var Y=p.__private__.out=function(g){return g=g.toString(),he+=g.length+1,Le.push(g),Le},ft=p.__private__.write=function(g){return Y(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},tt=p.__private__.getArrayBuffer=function(g){for(var C=g.length,K=new ArrayBuffer(C),te=new Uint8Array(K);C--;)te[C]=g.charCodeAt(C);return K},Ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ke};var Ae=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Ae=E===S?g/Qe:g,this};var $e,Te=p.__private__.getFontSize=p.getFontSize=function(){return E===N?Ae:Ae*Qe},it=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return it=g,this},p.__private__.getR2L=p.getR2L=function(){return it};var He,xt=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))$e=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');$e=g}else $e=parseInt(g,10)};p.__private__.getZoomMode=function(){return $e};var Xe,Oe=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');He=g};p.__private__.getPageMode=function(){return He};var St=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Xe=g};p.__private__.getLayoutMode=function(){return Xe},p.__private__.setDisplayMode=p.setDisplayMode=function(g,C,K){return xt(g),St(C),Oe(K),this};var ct={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(ct).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ct[g]},p.__private__.getDocumentProperties=function(){return ct},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var C in ct)ct.hasOwnProperty(C)&&g[C]&&(ct[C]=g[C]);return this},p.__private__.setDocumentProperty=function(g,C){if(Object.keys(ct).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ct[g]=C};var Ve,Qe,Ge,Bt,jt,ze={},at={},Ft=[],Je={},yt={},ot={},ar={},_r=null,Rt=0,rt=[],Et=new q5(p),ga=t.hotfixes||[],Wr={},Gi={},ki=[],Ye=function g(C,K,te,ae,be,ke){if(!(this instanceof g))return new g(C,K,te,ae,be,ke);isNaN(C)&&(C=1),isNaN(K)&&(K=0),isNaN(te)&&(te=0),isNaN(ae)&&(ae=1),isNaN(be)&&(be=0),isNaN(ke)&&(ke=0),this._matrix=[C,K,te,ae,be,ke]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(g)},Ye.prototype.multiply=function(g){var C=g.sx*this.sx+g.shy*this.shx,K=g.sx*this.shy+g.shy*this.sy,te=g.shx*this.sx+g.sy*this.shx,ae=g.shx*this.shy+g.sy*this.sy,be=g.tx*this.sx+g.ty*this.shx+this.tx,ke=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ye(C,K,te,ae,be,ke)},Ye.prototype.decompose=function(){var g=this.sx,C=this.shy,K=this.shx,te=this.sy,ae=this.tx,be=this.ty,ke=Math.sqrt(g*g+C*C),De=(g/=ke)*K+(C/=ke)*te;K-=g*De,te-=C*De;var Ue=Math.sqrt(K*K+te*te);return De/=Ue,g*(te/=Ue)<C*(K/=Ue)&&(g=-g,C=-C,De=-De,ke=-ke),{scale:new Ye(ke,0,0,Ue,0,0),translate:new Ye(1,0,0,1,ae,be),rotate:new Ye(g,C,-C,g,0,0),skew:new Ye(1,0,De,1,0,0)}},Ye.prototype.toString=function(g){return this.join(" ")},Ye.prototype.inversed=function(){var g=this.sx,C=this.shy,K=this.shx,te=this.sy,ae=this.tx,be=this.ty,ke=1/(g*te-C*K),De=te*ke,Ue=-C*ke,Ze=-K*ke,ut=g*ke;return new Ye(De,Ue,Ze,ut,-De*ae-Ze*be,-Ue*ae-ut*be)},Ye.prototype.applyToPoint=function(g){var C=g.x*this.sx+g.y*this.shx+this.tx,K=g.x*this.shy+g.y*this.sy+this.ty;return new ja(C,K)},Ye.prototype.applyToRectangle=function(g){var C=this.applyToPoint(g),K=this.applyToPoint(new ja(g.x+g.w,g.y+g.h));return new Fl(C.x,C.y,K.x-C.x,K.y-C.y)},Ye.prototype.clone=function(){var g=this.sx,C=this.shy,K=this.shx,te=this.sy,ae=this.tx,be=this.ty;return new Ye(g,C,K,te,ae,be)},p.Matrix=Ye;var Ki=p.matrixMult=function(g,C){return C.multiply(g)},Ji=new Ye(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ji;var Un=function(g,C){if(!yt[g]){var K=(C instanceof Ua?"Sh":"P")+(Object.keys(Je).length+1).toString(10);C.id=K,yt[g]=K,Je[K]=C,Et.publish("addPattern",C)}};p.ShadingPattern=Ua,p.TilingPattern=Qo,p.addShadingPattern=function(g,C){return B("addShadingPattern()"),Un(g,C),this},p.beginTilingPattern=function(g){B("beginTilingPattern()"),Rl(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,C){B("endTilingPattern()"),C.stream=Se[H].join(`
`),Un(g,C),Et.publish("endTilingPattern",C),ki.pop().restore()};var qn,tr=p.__private__.newObject=function(){var g=Pr();return Rr(g,!0),g},Pr=p.__private__.newObjectDeferred=function(){return ne++,oe[ne]=function(){return he},ne},Rr=function(g,C){return C=typeof C=="boolean"&&C,oe[g]=he,C&&Y(g+" 0 obj"),g},va=p.__private__.newAdditionalObject=function(){var g={objId:Pr(),content:""};return xe.push(g),g},Ss=Pr(),ti=Pr(),ji=p.__private__.decodeColorString=function(g){var C=g.split(" ");if(C.length!==2||C[1]!=="g"&&C[1]!=="G")C.length!==5||C[4]!=="k"&&C[4]!=="K"||(C=[(1-C[0])*(1-C[3]),(1-C[1])*(1-C[3]),(1-C[2])*(1-C[3]),"r"]);else{var K=parseFloat(C[0]);C=[K,K,K,"r"]}for(var te="#",ae=0;ae<3;ae++)te+=("0"+Math.floor(255*parseFloat(C[ae])).toString(16)).slice(-2);return te},ri=p.__private__.encodeColorString=function(g){var C;typeof g=="string"&&(g={ch1:g});var K=g.ch1,te=g.ch2,ae=g.ch3,be=g.ch4,ke=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var De=new Zb(K);if(De.ok)K=De.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var Ue=parseInt(K.substr(1),16);K=Ue>>16&255,te=Ue>>8&255,ae=255&Ue}if(te===void 0||be===void 0&&K===te&&te===ae)C=typeof K=="string"?K+" "+ke[0]:g.precision===2?j(K/255)+" "+ke[0]:A(K/255)+" "+ke[0];else if(be===void 0||Tt(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return["1.","1.","1.",ke[1]].join(" ");C=typeof K=="string"?[K,te,ae,ke[1]].join(" "):g.precision===2?[j(K/255),j(te/255),j(ae/255),ke[1]].join(" "):[A(K/255),A(te/255),A(ae/255),ke[1]].join(" ")}else C=typeof K=="string"?[K,te,ae,be,ke[2]].join(" "):g.precision===2?[j(K),j(te),j(ae),j(be),ke[2]].join(" "):[A(K),A(te),A(ae),A(be),ke[2]].join(" ");return C},ni=p.__private__.getFilters=function(){return a},$n=p.__private__.putStream=function(g){var C=(g=g||{}).data||"",K=g.filters||ni(),te=g.alreadyAppliedFilters||[],ae=g.addLength1||!1,be=C.length,ke=g.objectId,De=function(xr){return xr};if(f!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(De=or.encryptor(ke,0));var Ue={};K===!0&&(K=["FlateEncode"]);var Ze=g.additionalKeyValues||[],ut=(Ue=qe.API.processDataByFilters!==void 0?qe.API.processDataByFilters(C,K):{data:C,reverseChain:[]}).reverseChain+(Array.isArray(te)?te.join(" "):te.toString());if(Ue.data.length!==0&&(Ze.push({key:"Length",value:Ue.data.length}),ae===!0&&Ze.push({key:"Length1",value:be})),ut.length!=0)if(ut.split("/").length-1==1)Ze.push({key:"Filter",value:ut});else{Ze.push({key:"Filter",value:"["+ut+"]"});for(var At=0;At<Ze.length;At+=1)if(Ze[At].key==="DecodeParms"){for(var Xt=[],yr=0;yr<Ue.reverseChain.split("/").length-1;yr+=1)Xt.push("null");Xt.push(Ze[At].value),Ze[At].value="["+Xt.join(" ")+"]"}}Y("<<");for(var It=0;It<Ze.length;It++)Y("/"+Ze[It].key+" "+Ze[It].value);Y(">>"),Ue.data.length!==0&&(Y("stream"),Y(De(Ue.data)),Y("endstream"))},ya=p.__private__.putPage=function(g){var C=g.number,K=g.data,te=g.objId,ae=g.contentsObjId;Rr(te,!0),Y("<</Type /Page"),Y("/Parent "+g.rootDictionaryObjId+" 0 R"),Y("/Resources "+g.resourceDictionaryObjId+" 0 R"),Y("/MediaBox ["+parseFloat(q(g.mediaBox.bottomLeftX))+" "+parseFloat(q(g.mediaBox.bottomLeftY))+" "+q(g.mediaBox.topRightX)+" "+q(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&Y("/CropBox ["+q(g.cropBox.bottomLeftX)+" "+q(g.cropBox.bottomLeftY)+" "+q(g.cropBox.topRightX)+" "+q(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&Y("/BleedBox ["+q(g.bleedBox.bottomLeftX)+" "+q(g.bleedBox.bottomLeftY)+" "+q(g.bleedBox.topRightX)+" "+q(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&Y("/TrimBox ["+q(g.trimBox.bottomLeftX)+" "+q(g.trimBox.bottomLeftY)+" "+q(g.trimBox.topRightX)+" "+q(g.trimBox.topRightY)+"]"),g.artBox!==null&&Y("/ArtBox ["+q(g.artBox.bottomLeftX)+" "+q(g.artBox.bottomLeftY)+" "+q(g.artBox.topRightX)+" "+q(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&Y("/UserUnit "+g.userUnit),Et.publish("putPage",{objId:te,pageContext:rt[C],pageNumber:C,page:K}),Y("/Contents "+ae+" 0 R"),Y(">>"),Y("endobj");var be=K.join(`
`);return E===S&&(be+=`
Q`),Rr(ae,!0),$n({data:be,filters:ni(),objectId:ae}),Y("endobj"),te},Ai=p.__private__.putPages=function(){var g,C,K=[];for(g=1;g<=Rt;g++)rt[g].objId=Pr(),rt[g].contentsObjId=Pr();for(g=1;g<=Rt;g++)K.push(ya({number:g,data:Se[g],objId:rt[g].objId,contentsObjId:rt[g].contentsObjId,mediaBox:rt[g].mediaBox,cropBox:rt[g].cropBox,bleedBox:rt[g].bleedBox,trimBox:rt[g].trimBox,artBox:rt[g].artBox,userUnit:rt[g].userUnit,rootDictionaryObjId:Ss,resourceDictionaryObjId:ti}));Rr(Ss,!0),Y("<</Type /Pages");var te="/Kids [";for(C=0;C<Rt;C++)te+=K[C]+" 0 R ";Y(te+"]"),Y("/Count "+Rt),Y(">>"),Y("endobj"),Et.publish("postPutPages")},wa=function(g){Et.publish("putFont",{font:g,out:Y,newObject:tr,putStream:$n}),g.isAlreadyPutted!==!0&&(g.objectNumber=tr(),Y("<<"),Y("/Type /Font"),Y("/BaseFont /"+Bo(g.postScriptName)),Y("/Subtype /Type1"),typeof g.encoding=="string"&&Y("/Encoding /"+g.encoding),Y("/FirstChar 32"),Y("/LastChar 255"),Y(">>"),Y("endobj"))},co=function(g){g.objectNumber=tr();var C=[];C.push({key:"Type",value:"/XObject"}),C.push({key:"Subtype",value:"/Form"}),C.push({key:"BBox",value:"["+[q(g.x),q(g.y),q(g.x+g.width),q(g.y+g.height)].join(" ")+"]"}),C.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var K=g.pages[1].join(`
`);$n({data:K,additionalKeyValues:C,objectId:g.objectNumber}),Y("endobj")},uo=function(g,C){C||(C=21);var K=tr(),te=function(ke,De){var Ue,Ze=[],ut=1/(De-1);for(Ue=0;Ue<1;Ue+=ut)Ze.push(Ue);if(Ze.push(1),ke[0].offset!=0){var At={offset:0,color:ke[0].color};ke.unshift(At)}if(ke[ke.length-1].offset!=1){var Xt={offset:1,color:ke[ke.length-1].color};ke.push(Xt)}for(var yr="",It=0,xr=0;xr<Ze.length;xr++){for(Ue=Ze[xr];Ue>ke[It+1].offset;)It++;var wr=ke[It].offset,Dr=(Ue-wr)/(ke[It+1].offset-wr),Zi=ke[It].color,js=ke[It+1].color;yr+=Z(Math.round((1-Dr)*Zi[0]+Dr*js[0]).toString(16))+Z(Math.round((1-Dr)*Zi[1]+Dr*js[1]).toString(16))+Z(Math.round((1-Dr)*Zi[2]+Dr*js[2]).toString(16))}return yr.trim()}(g.colors,C),ae=[];ae.push({key:"FunctionType",value:"0"}),ae.push({key:"Domain",value:"[0.0 1.0]"}),ae.push({key:"Size",value:"["+C+"]"}),ae.push({key:"BitsPerSample",value:"8"}),ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$n({data:te,additionalKeyValues:ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),Y("endobj"),g.objectNumber=tr(),Y("<< /ShadingType "+g.type),Y("/ColorSpace /DeviceRGB");var be="/Coords ["+q(parseFloat(g.coords[0]))+" "+q(parseFloat(g.coords[1]))+" ";g.type===2?be+=q(parseFloat(g.coords[2]))+" "+q(parseFloat(g.coords[3])):be+=q(parseFloat(g.coords[2]))+" "+q(parseFloat(g.coords[3]))+" "+q(parseFloat(g.coords[4]))+" "+q(parseFloat(g.coords[5])),Y(be+="]"),g.matrix&&Y("/Matrix ["+g.matrix.toString()+"]"),Y("/Function "+K+" 0 R"),Y("/Extend [true true]"),Y(">>"),Y("endobj")},ho=function(g,C){var K=Pr(),te=tr();C.push({resourcesOid:K,objectOid:te}),g.objectNumber=te;var ae=[];ae.push({key:"Type",value:"/Pattern"}),ae.push({key:"PatternType",value:"1"}),ae.push({key:"PaintType",value:"1"}),ae.push({key:"TilingType",value:"1"}),ae.push({key:"BBox",value:"["+g.boundingBox.map(q).join(" ")+"]"}),ae.push({key:"XStep",value:q(g.xStep)}),ae.push({key:"YStep",value:q(g.yStep)}),ae.push({key:"Resources",value:K+" 0 R"}),g.matrix&&ae.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),$n({data:g.stream,additionalKeyValues:ae,objectId:g.objectNumber}),Y("endobj")},Yh=function(g){for(var C in g.objectNumber=tr(),Y("<<"),g)switch(C){case"opacity":Y("/ca "+j(g[C]));break;case"stroke-opacity":Y("/CA "+j(g[C]))}Y(">>"),Y("endobj")},kl=function(g){Rr(g.resourcesOid,!0),Y("<<"),Y("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var C in Y("/Font <<"),ze)ze.hasOwnProperty(C)&&(m===!1||m===!0&&y.hasOwnProperty(C))&&Y("/"+C+" "+ze[C].objectNumber+" 0 R");Y(">>")}(),function(){if(Object.keys(Je).length>0){for(var C in Y("/Shading <<"),Je)Je.hasOwnProperty(C)&&Je[C]instanceof Ua&&Je[C].objectNumber>=0&&Y("/"+C+" "+Je[C].objectNumber+" 0 R");Et.publish("putShadingPatternDict"),Y(">>")}}(),function(C){if(Object.keys(Je).length>0){for(var K in Y("/Pattern <<"),Je)Je.hasOwnProperty(K)&&Je[K]instanceof p.TilingPattern&&Je[K].objectNumber>=0&&Je[K].objectNumber<C&&Y("/"+K+" "+Je[K].objectNumber+" 0 R");Et.publish("putTilingPatternDict"),Y(">>")}}(g.objectOid),function(){if(Object.keys(ot).length>0){var C;for(C in Y("/ExtGState <<"),ot)ot.hasOwnProperty(C)&&ot[C].objectNumber>=0&&Y("/"+C+" "+ot[C].objectNumber+" 0 R");Et.publish("putGStateDict"),Y(">>")}}(),function(){for(var C in Y("/XObject <<"),Wr)Wr.hasOwnProperty(C)&&Wr[C].objectNumber>=0&&Y("/"+C+" "+Wr[C].objectNumber+" 0 R");Et.publish("putXobjectDict"),Y(">>")}(),Y(">>"),Y("endobj")},hu=function(g){at[g.fontName]=at[g.fontName]||{},at[g.fontName][g.fontStyle]=g.id},fu=function(g,C,K,te,ae){var be={id:"F"+(Object.keys(ze).length+1).toString(10),postScriptName:g,fontName:C,fontStyle:K,encoding:te,isStandardFont:ae||!1,metadata:{}};return Et.publish("addFont",{font:be,instance:this}),ze[be.id]=be,hu(be),be.id},zn=p.__private__.pdfEscape=p.pdfEscape=function(g,C){return function(K,te){var ae,be,ke,De,Ue,Ze,ut,At,Xt;if(ke=(te=te||{}).sourceEncoding||"Unicode",Ue=te.outputEncoding,(te.autoencode||Ue)&&ze[Ve].metadata&&ze[Ve].metadata[ke]&&ze[Ve].metadata[ke].encoding&&(De=ze[Ve].metadata[ke].encoding,!Ue&&ze[Ve].encoding&&(Ue=ze[Ve].encoding),!Ue&&De.codePages&&(Ue=De.codePages[0]),typeof Ue=="string"&&(Ue=De[Ue]),Ue)){for(ut=!1,Ze=[],ae=0,be=K.length;ae<be;ae++)(At=Ue[K.charCodeAt(ae)])?Ze.push(String.fromCharCode(At)):Ze.push(K[ae]),Ze[ae].charCodeAt(0)>>8&&(ut=!0);K=Ze.join("")}for(ae=K.length;ut===void 0&&ae!==0;)K.charCodeAt(ae-1)>>8&&(ut=!0),ae--;if(!ut)return K;for(Ze=te.noBOM?[]:[254,255],ae=0,be=K.length;ae<be;ae++){if((Xt=(At=K.charCodeAt(ae))>>8)>>8)throw new Error("Character at position "+ae+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ze.push(Xt),Ze.push(At-(Xt<<8))}return String.fromCharCode.apply(void 0,Ze)}(g,C).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},jl=p.__private__.beginPage=function(g){Se[++Rt]=[],rt[Rt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},mu(Rt),fe(Se[H])},pu=function(g,C){var K,te,ae;switch(r=C||r,typeof g=="string"&&(K=w(g.toLowerCase()),Array.isArray(K)&&(te=K[0],ae=K[1])),Array.isArray(g)&&(te=g[0]*Qe,ae=g[1]*Qe),isNaN(te)&&(te=i[0],ae=i[1]),(te>14400||ae>14400)&&(Mt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),te=Math.min(14400,te),ae=Math.min(14400,ae)),i=[te,ae],r.substr(0,1)){case"l":ae>te&&(i=[ae,te]);break;case"p":te>ae&&(i=[ae,te])}jl(i),af(Pl),Y(po),Ol!==0&&Y(Ol+" J"),Il!==0&&Y(Il+" j"),Et.publish("addPage",{pageNumber:Rt})},Al=function(g){g>0&&g<=Rt&&(Se.splice(g,1),rt.splice(g,1),Rt--,H>Rt&&(H=Rt),this.setPage(H))},mu=function(g){g>0&&g<=Rt&&(H=g)},gu=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},vu=function(g,C,K){var te,ae=void 0;return K=K||{},g=g!==void 0?g:ze[Ve].fontName,C=C!==void 0?C:ze[Ve].fontStyle,te=g.toLowerCase(),at[te]!==void 0&&at[te][C]!==void 0?ae=at[te][C]:at[g]!==void 0&&at[g][C]!==void 0?ae=at[g][C]:K.disableWarning===!1&&Mt.warn("Unable to look up font label for font '"+g+"', '"+C+"'. Refer to getFontList() for available fonts."),ae||K.noFallback||(ae=at.times[C])==null&&(ae=at.times.normal),ae},fo=p.__private__.putInfo=function(){var g=tr(),C=function(te){return te};for(var K in f!==null&&(C=or.encryptor(g,0)),Y("<<"),Y("/Producer ("+zn(C("jsPDF "+qe.version))+")"),ct)ct.hasOwnProperty(K)&&ct[K]&&Y("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+zn(C(ct[K]))+")");Y("/CreationDate ("+zn(C(X))+")"),Y(">>"),Y("endobj")},Xh=p.__private__.putCatalog=function(g){var C=(g=g||{}).rootDictionaryObjId||Ss;switch(tr(),Y("<<"),Y("/Type /Catalog"),Y("/Pages "+C+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":Y("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Y("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Y("/OpenAction [3 0 R /Fit]");break;case"original":Y("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+$e;K.substr(K.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&Y("/OpenAction [3 0 R /XYZ null null "+j($e)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":Y("/PageLayout /OneColumn");break;case"single":Y("/PageLayout /SinglePage");break;case"two":case"twoleft":Y("/PageLayout /TwoColumnLeft");break;case"tworight":Y("/PageLayout /TwoColumnRight")}He&&Y("/PageMode /"+He),Et.publish("putCatalog"),Y(">>"),Y("endobj")},vr=p.__private__.putTrailer=function(){Y("trailer"),Y("<<"),Y("/Size "+(ne+1)),Y("/Root "+ne+" 0 R"),Y("/Info "+(ne-1)+" 0 R"),f!==null&&Y("/Encrypt "+or.oid+" 0 R"),Y("/ID [ <"+Q+"> <"+Q+"> ]"),Y(">>")},yu=p.__private__.putHeader=function(){Y("%PDF-"+_),Y("%")},wu=p.__private__.putXRef=function(){var g="0000000000";Y("xref"),Y("0 "+(ne+1)),Y("0000000000 65535 f ");for(var C=1;C<=ne;C++)typeof oe[C]=="function"?Y((g+oe[C]()).slice(-10)+" 00000 n "):oe[C]!==void 0?Y((g+oe[C]).slice(-10)+" 00000 n "):Y("0000000000 00000 n ")},Yi=p.__private__.buildDocument=function(){var g;ne=0,he=0,ge=[],oe=[],xe=[],Ss=Pr(),ti=Pr(),fe(ge),Et.publish("buildDocument"),yu(),Ai(),function(){Et.publish("putAdditionalObjects");for(var K=0;K<xe.length;K++){var te=xe[K];Rr(te.objId,!0),Y(te.content),Y("endobj")}Et.publish("postPutAdditionalObjects")}(),g=[],function(){for(var K in ze)ze.hasOwnProperty(K)&&(m===!1||m===!0&&y.hasOwnProperty(K))&&wa(ze[K])}(),function(){var K;for(K in ot)ot.hasOwnProperty(K)&&Yh(ot[K])}(),function(){for(var K in Wr)Wr.hasOwnProperty(K)&&co(Wr[K])}(),function(K){var te;for(te in Je)Je.hasOwnProperty(te)&&(Je[te]instanceof Ua?uo(Je[te]):Je[te]instanceof Qo&&ho(Je[te],K))}(g),Et.publish("putResources"),g.forEach(kl),kl({resourcesOid:ti,objectOid:Number.MAX_SAFE_INTEGER}),Et.publish("postPutResources"),f!==null&&(or.oid=tr(),Y("<<"),Y("/Filter /Standard"),Y("/V "+or.v),Y("/R "+or.r),Y("/U <"+or.toHexString(or.U)+">"),Y("/O <"+or.toHexString(or.O)+">"),Y("/P "+or.P),Y(">>"),Y("endobj")),fo(),Xh();var C=he;return wu(),vr(),Y("startxref"),Y(""+C),Y("%%EOF"),fe(Se[H]),ge.join(`
`)},ba=p.__private__.getBlob=function(g){return new Blob([tt(g)],{type:"application/pdf"})},ii=p.output=p.__private__.output=(qn=function(g,C){switch(typeof(C=C||{})=="string"?C={filename:C}:C.filename=C.filename||"generated.pdf",g){case void 0:return Yi();case"save":p.save(C.filename);break;case"arraybuffer":return tt(Yi());case"blob":return ba(Yi());case"bloburi":case"bloburl":if(et.URL!==void 0&&typeof et.URL.createObjectURL=="function")return et.URL&&et.URL.createObjectURL(ba(Yi()))||void 0;Mt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",te=Yi();try{K=M5(te)}catch{K=M5(unescape(encodeURIComponent(te)))}return"data:application/pdf;filename="+C.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';C.pdfObjectUrl&&(ae=C.pdfObjectUrl,be="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ae+'"'+be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(C)+");<\/script></body></html>",De=et.open();return De!==null&&De.document.write(ke),De}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(et)==="[object Window]"){var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(C.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+C.filename+'" width="500px" height="400px" /></body></html>',Ze=et.open();if(Ze!==null){Ze.document.write(Ue);var ut=this;Ze.document.documentElement.querySelector("#pdfViewer").onload=function(){Ze.document.title=C.filename,Ze.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ut.output("bloburl"))}}return Ze}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(et)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",C)+'"></iframe></body></html>',Xt=et.open();if(Xt!==null&&(Xt.document.write(At),Xt.document.title=C.filename),Xt||typeof safari>"u")return Xt;break;case"datauri":case"dataurl":return et.document.location.href=this.output("datauristring",C);default:return null}},qn.foo=function(){try{return qn.apply(this,arguments)}catch(K){var g=K.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var C="Error in function "+g.split(`
`)[0].split("<")[0]+": "+K.message;if(!et.console)throw new Error(C);et.console.error(C,K),et.alert&&alert(C)}},qn.foo.bar=qn,qn.foo),_a=function(g){return Array.isArray(ga)===!0&&ga.indexOf(g)>-1};switch(n){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=_a("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Qe=n}var or=null;ce(),U();var El=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[g].objId,pageNumber:g,pageContext:rt[g]}},Qh=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var C in rt)if(rt[C].objId===g)break;return El(C)},Zh=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:rt[H].objId,pageNumber:H,pageContext:rt[H]}};p.addPage=function(){return pu.apply(this,arguments),this},p.setPage=function(){return mu.apply(this,arguments),fe.call(this,Se[H]),this},p.insertPage=function(g){return this.addPage(),this.movePage(H,g),this},p.movePage=function(g,C){var K,te;if(g>C){K=Se[g],te=rt[g];for(var ae=g;ae>C;ae--)Se[ae]=Se[ae-1],rt[ae]=rt[ae-1];Se[C]=K,rt[C]=te,this.setPage(C)}else if(g<C){K=Se[g],te=rt[g];for(var be=g;be<C;be++)Se[be]=Se[be+1],rt[be]=rt[be+1];Se[C]=K,rt[C]=te,this.setPage(C)}return this},p.deletePage=function(){return Al.apply(this,arguments),this},p.__private__.text=p.text=function(g,C,K,te,ae){var be,ke,De,Ue,Ze,ut,At,Xt,yr,It=(te=te||{}).scope||this;if(typeof g=="number"&&typeof C=="number"&&(typeof K=="string"||Array.isArray(K))){var xr=K;K=C,C=g,g=xr}if(arguments[3]instanceof Ye==0?(De=arguments[4],Ue=arguments[5],Tt(At=arguments[3])==="object"&&At!==null||(typeof De=="string"&&(Ue=De,De=null),typeof At=="string"&&(Ue=At,At=null),typeof At=="number"&&(De=At,At=null),te={flags:At,angle:De,align:Ue})):(B("The transform parameter of text() with a Matrix value"),yr=ae),isNaN(C)||isNaN(K)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return It;var wr,Dr="",Zi=typeof te.lineHeightFactor=="number"?te.lineHeightFactor:Sa,js=It.internal.scaleFactor;function ff(Ut){return Ut=Ut.split("	").join(Array(te.TabLen||9).join(" ")),zn(Ut,At)}function xu(Ut){for(var qt,cr=Ut.concat(),ur=[],ns=cr.length;ns--;)typeof(qt=cr.shift())=="string"?ur.push(qt):Array.isArray(Ut)&&(qt.length===1||qt[1]===void 0&&qt[2]===void 0)?ur.push(qt[0]):ur.push([qt[0],qt[1],qt[2]]);return ur}function Ea(Ut,qt){var cr;if(typeof Ut=="string")cr=qt(Ut)[0];else if(Array.isArray(Ut)){for(var ur,ns,ko=Ut.concat(),Ii=[],Vl=ko.length;Vl--;)typeof(ur=ko.shift())=="string"?Ii.push(qt(ur)[0]):Array.isArray(ur)&&typeof ur[0]=="string"&&(ns=qt(ur[0],ur[1],ur[2]),Ii.push([ns[0],ns[1],ns[2]]));cr=Ii}return cr}var si=!1,Bl=!0;if(typeof g=="string")si=!0;else if(Array.isArray(g)){var yo=g.concat();ke=[];for(var As,Tr=yo.length;Tr--;)(typeof(As=yo.shift())!="string"||Array.isArray(As)&&typeof As[0]!="string")&&(Bl=!1);si=Bl}if(si===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var es=Ae/It.internal.scaleFactor,ts=es*(Zi-1);switch(te.baseline){case"bottom":K-=ts;break;case"top":K+=es-ts;break;case"hanging":K+=es-2*ts;break;case"middle":K+=es/2-ts}if((ut=te.maxWidth||0)>0&&(typeof g=="string"?g=It.splitTextToSize(g,ut):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Ut,qt){return Ut.concat(It.splitTextToSize(qt,ut))},[]))),be={text:g,x:C,y:K,options:te,mutex:{pdfEscape:zn,activeFontKey:Ve,fonts:ze,activeFontSize:Ae}},Et.publish("preProcessText",be),g=be.text,De=(te=be.options).angle,yr instanceof Ye==0&&De&&typeof De=="number"){De*=Math.PI/180,te.rotationDirection===0&&(De=-De),E===S&&(De=-De);var wo=Math.cos(De),Ul=Math.sin(De);yr=new Ye(wo,Ul,-Ul,wo,0,0)}else De&&De instanceof Ye&&(yr=De);E!==S||yr||(yr=Ji),(Ze=te.charSpace||go)!==void 0&&(Dr+=q($(Ze))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Xt=te.horizontalScale)!==void 0&&(Dr+=q(100*Xt)+` Tz
`),te.lang;var tn=-1,Su=te.renderingMode!==void 0?te.renderingMode:te.stroke,bo=It.internal.getCurrentPageInfo().pageContext;switch(Su){case 0:case!1:case"fill":tn=0;break;case 1:case!0:case"stroke":tn=1;break;case 2:case"fillThenStroke":tn=2;break;case 3:case"invisible":tn=3;break;case 4:case"fillAndAddForClipping":tn=4;break;case 5:case"strokeAndAddPathForClipping":tn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":tn=6;break;case 7:case"addToPathForClipping":tn=7}var Nu=bo.usedRenderingMode!==void 0?bo.usedRenderingMode:-1;tn!==-1?Dr+=tn+` Tr
`:Nu!==-1&&(Dr+=`0 Tr
`),tn!==-1&&(bo.usedRenderingMode=tn),Ue=te.align||"left";var Sr,Wn=Ae*Zi,ql=It.internal.pageSize.getWidth(),$l=ze[Ve];Ze=te.charSpace||go,ut=te.maxWidth||0,At=Object.assign({autoencode:!0,noBOM:!0},te.flags);var Es=[],_o=function(Ut){return It.getStringUnitWidth(Ut,{font:$l,charSpace:Ze,fontSize:Ae,doKerning:!1})*Ae/js};if(Object.prototype.toString.call(g)==="[object Array]"){var dn;ke=xu(g),Ue!=="left"&&(Sr=ke.map(_o));var hn,La=0;if(Ue==="right"){C-=Sr[0],g=[],Tr=ke.length;for(var Ci=0;Ci<Tr;Ci++)Ci===0?(hn=Xi(C),dn=Qi(K)):(hn=$(La-Sr[Ci]),dn=-Wn),g.push([ke[Ci],hn,dn]),La=Sr[Ci]}else if(Ue==="center"){C-=Sr[0]/2,g=[],Tr=ke.length;for(var Ls=0;Ls<Tr;Ls++)Ls===0?(hn=Xi(C),dn=Qi(K)):(hn=$((La-Sr[Ls])/2),dn=-Wn),g.push([ke[Ls],hn,dn]),La=Sr[Ls]}else if(Ue==="left"){g=[],Tr=ke.length;for(var zl=0;zl<Tr;zl++)g.push(ke[zl])}else if(Ue==="justify"&&$l.encoding==="Identity-H"){g=[],Tr=ke.length,ut=ut!==0?ut:ql;for(var Cs=0,lr=0;lr<Tr;lr++)if(dn=lr===0?Qi(K):-Wn,hn=lr===0?Xi(C):Cs,lr<Tr-1){var pf=$((ut-Sr[lr])/(ke[lr].split(" ").length-1)),Pi=ke[lr].split(" ");g.push([Pi[0]+" ",hn,dn]),Cs=0;for(var Ti=1;Ti<Pi.length;Ti++){var xo=(_o(Pi[Ti-1]+" "+Pi[Ti])-_o(Pi[Ti]))*js+pf;Ti==Pi.length-1?g.push([Pi[Ti],xo,0]):g.push([Pi[Ti]+" ",xo,0]),Cs-=xo}}else g.push([ke[lr],hn,dn]);g.push(["",Cs,0])}else{if(Ue!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Tr=ke.length,ut=ut!==0?ut:ql,lr=0;lr<Tr;lr++)dn=lr===0?Qi(K):-Wn,hn=lr===0?Xi(C):0,lr<Tr-1?Es.push(q($((ut-Sr[lr])/(ke[lr].split(" ").length-1)))):Es.push(0),g.push([ke[lr],hn,dn])}}(typeof te.R2L=="boolean"?te.R2L:it)===!0&&(g=Ea(g,function(Ut,qt,cr){return[Ut.split("").reverse().join(""),qt,cr]})),be={text:g,x:C,y:K,options:te,mutex:{pdfEscape:zn,activeFontKey:Ve,fonts:ze,activeFontSize:Ae}},Et.publish("postProcessText",be),g=be.text,wr=be.mutex.isHex||!1;var Wl=ze[Ve].encoding;Wl!=="WinAnsiEncoding"&&Wl!=="StandardEncoding"||(g=Ea(g,function(Ut,qt,cr){return[ff(Ut),qt,cr]})),ke=xu(g),g=[];for(var So,No,Ca,Pa=Array.isArray(ke[0])?1:0,rs="",Hl=function(Ut,qt,cr){var ur="";return cr instanceof Ye?(cr=typeof te.angle=="number"?Ki(cr,new Ye(1,0,0,1,Ut,qt)):Ki(new Ye(1,0,0,1,Ut,qt),cr),E===S&&(cr=Ki(new Ye(1,0,0,-1,0,0),cr)),ur=cr.join(" ")+` Tm
`):ur=q(Ut)+" "+q(qt)+` Td
`,ur},kn=0;kn<ke.length;kn++){switch(rs="",Pa){case 1:Ca=(wr?"<":"(")+ke[kn][0]+(wr?">":")"),So=parseFloat(ke[kn][1]),No=parseFloat(ke[kn][2]);break;case 0:Ca=(wr?"<":"(")+ke[kn]+(wr?">":")"),So=Xi(C),No=Qi(K)}Es!==void 0&&Es[kn]!==void 0&&(rs=Es[kn]+` Tw
`),kn===0?g.push(rs+Hl(So,No,yr)+Ca):Pa===0?g.push(rs+Ca):Pa===1&&g.push(rs+Hl(So,No,yr)+Ca)}g=Pa===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Oi=`BT
/`;return Oi+=Ve+" "+Ae+` Tf
`,Oi+=q(Ae*Zi)+` TL
`,Oi+=Na+`
`,Oi+=Dr,Oi+=g,Y(Oi+="ET"),y[Ve]=!0,It};var ef=p.__private__.clip=p.clip=function(g){return Y(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return ef("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Y("n"),this};var Ei=p.__private__.isValidStyle=function(g){var C=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(C=!0),C};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Ei(g)&&(u=g),this};var bu=p.__private__.getStyle=p.getStyle=function(g){var C=u;switch(g){case"D":case"S":C="S";break;case"F":C="f";break;case"FD":case"DF":C="B";break;case"f":case"f*":case"B":case"B*":C=g}return C},_u=p.close=function(){return Y("h"),this};p.stroke=function(){return Y("S"),this},p.fill=function(g){return Ns("f",g),this},p.fillEvenOdd=function(g){return Ns("f*",g),this},p.fillStroke=function(g){return Ns("B",g),this},p.fillStrokeEvenOdd=function(g){return Ns("B*",g),this};var Ns=function(g,C){Tt(C)==="object"?rf(C,g):Y(g)},Ll=function(g){g===null||E===S&&g===void 0||(g=bu(g),Y(g))};function tf(g,C,K,te,ae){var be=new Qo(C||this.boundingBox,K||this.xStep,te||this.yStep,this.gState,ae||this.matrix);be.stream=this.stream;var ke=g+"$$"+this.cloneIndex+++"$$";return Un(ke,be),be}var rf=function(g,C){var K=yt[g.key],te=Je[K];if(te instanceof Ua)Y("q"),Y(nf(C)),te.gState&&p.setGState(te.gState),Y(g.matrix.toString()+" cm"),Y("/"+K+" sh"),Y("Q");else if(te instanceof Qo){var ae=new Ye(1,0,0,-1,0,Nn());g.matrix&&(ae=ae.multiply(g.matrix||Ji),K=tf.call(te,g.key,g.boundingBox,g.xStep,g.yStep,ae).id),Y("q"),Y("/Pattern cs"),Y("/"+K+" scn"),te.gState&&p.setGState(te.gState),Y(C),Y("Q")}},nf=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Cl=p.moveTo=function(g,C){return Y(q($(g))+" "+q(R(C))+" m"),this},xa=p.lineTo=function(g,C){return Y(q($(g))+" "+q(R(C))+" l"),this},ks=p.curveTo=function(g,C,K,te,ae,be){return Y([q($(g)),q(R(C)),q($(K)),q(R(te)),q($(ae)),q(R(be)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,C,K,te,ae){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(te)||!Ei(ae))throw new Error("Invalid arguments passed to jsPDF.line");return E===N?this.lines([[K-g,te-C]],g,C,[1,1],ae||"S"):this.lines([[K-g,te-C]],g,C,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,C,K,te,ae,be){var ke,De,Ue,Ze,ut,At,Xt,yr,It,xr,wr,Dr;if(typeof g=="number"&&(Dr=K,K=C,C=g,g=Dr),te=te||[1,1],be=be||!1,isNaN(C)||isNaN(K)||!Array.isArray(g)||!Array.isArray(te)||!Ei(ae)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Cl(C,K),ke=te[0],De=te[1],Ze=g.length,xr=C,wr=K,Ue=0;Ue<Ze;Ue++)(ut=g[Ue]).length===2?(xr=ut[0]*ke+xr,wr=ut[1]*De+wr,xa(xr,wr)):(At=ut[0]*ke+xr,Xt=ut[1]*De+wr,yr=ut[2]*ke+xr,It=ut[3]*De+wr,xr=ut[4]*ke+xr,wr=ut[5]*De+wr,ks(At,Xt,yr,It,xr,wr));return be&&_u(),Ll(ae),this},p.path=function(g){for(var C=0;C<g.length;C++){var K=g[C],te=K.c;switch(K.op){case"m":Cl(te[0],te[1]);break;case"l":xa(te[0],te[1]);break;case"c":ks.apply(this,te);break;case"h":_u()}}return this},p.__private__.rect=p.rect=function(g,C,K,te,ae){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(te)||!Ei(ae))throw new Error("Invalid arguments passed to jsPDF.rect");return E===N&&(te=-te),Y([q($(g)),q(R(C)),q($(K)),q($(te)),"re"].join(" ")),Ll(ae),this},p.__private__.triangle=p.triangle=function(g,C,K,te,ae,be,ke){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(te)||isNaN(ae)||isNaN(be)||!Ei(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-g,te-C],[ae-K,be-te],[g-ae,C-be]],g,C,[1,1],ke,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,C,K,te,ae,be,ke){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(te)||isNaN(ae)||isNaN(be)||!Ei(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var De=4/3*(Math.SQRT2-1);return ae=Math.min(ae,.5*K),be=Math.min(be,.5*te),this.lines([[K-2*ae,0],[ae*De,0,ae,be-be*De,ae,be],[0,te-2*be],[0,be*De,-ae*De,be,-ae,be],[2*ae-K,0],[-ae*De,0,-ae,-be*De,-ae,-be],[0,2*be-te],[0,-be*De,ae*De,-be,ae,-be]],g+ae,C,[1,1],ke,!0),this},p.__private__.ellipse=p.ellipse=function(g,C,K,te,ae){if(isNaN(g)||isNaN(C)||isNaN(K)||isNaN(te)||!Ei(ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*K,ke=4/3*(Math.SQRT2-1)*te;return Cl(g+K,C),ks(g+K,C-ke,g+be,C-te,g,C-te),ks(g-be,C-te,g-K,C-ke,g-K,C),ks(g-K,C+ke,g-be,C+te,g,C+te),ks(g+be,C+te,g+K,C+ke,g+K,C),Ll(ae),this},p.__private__.circle=p.circle=function(g,C,K,te){if(isNaN(g)||isNaN(C)||isNaN(K)||!Ei(te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,C,K,K,te)},p.setFont=function(g,C,K){return K&&(C=z(C,K)),Ve=vu(g,C,{disableWarning:!1}),this};var sf=p.__private__.getFont=p.getFont=function(){return ze[vu.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,C,K={};for(g in at)if(at.hasOwnProperty(g))for(C in K[g]=[],at[g])at[g].hasOwnProperty(C)&&K[g].push(C);return K},p.addFont=function(g,C,K,te,ae){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?ae=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(K=z(K,te)),fu.call(this,g,C,K,ae=ae||"Identity-H")};var Sa,Pl=t.lineWidth||.200025,nt=p.__private__.getLineWidth=p.getLineWidth=function(){return Pl},af=p.__private__.setLineWidth=p.setLineWidth=function(g){return Pl=g,Y(q($(g))+" w"),this};p.__private__.setLineDash=qe.API.setLineDash=qe.API.setLineDashPattern=function(g,C){if(g=g||[],C=C||0,isNaN(C)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(K){return q($(K))}).join(" "),C=q($(C)),Y("["+g+"] "+C+" d"),this};var of=p.__private__.getLineHeight=p.getLineHeight=function(){return Ae*Sa};p.__private__.getLineHeight=p.getLineHeight=function(){return Ae*Sa};var lf=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Sa=g),this},cf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Sa};lf(t.lineHeight);var Xi=p.__private__.getHorizontalCoordinate=function(g){return $(g)},Qi=p.__private__.getVerticalCoordinate=function(g){return E===S?g:rt[H].mediaBox.topRightY-rt[H].mediaBox.bottomLeftY-$(g)},uf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return q(Xi(g))},df=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return q(Qi(g))},po=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ji(po)},p.__private__.setStrokeColor=p.setDrawColor=function(g,C,K,te){return po=ri({ch1:g,ch2:C,ch3:K,ch4:te,pdfColorType:"draw",precision:2}),Y(po),this};var Tl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ji(Tl)},p.__private__.setFillColor=p.setFillColor=function(g,C,K,te){return Tl=ri({ch1:g,ch2:C,ch3:K,ch4:te,pdfColorType:"fill",precision:2}),Y(Tl),this};var Na=t.textColor||"0 g",mo=p.__private__.getTextColor=p.getTextColor=function(){return ji(Na)};p.__private__.setTextColor=p.setTextColor=function(g,C,K,te){return Na=ri({ch1:g,ch2:C,ch3:K,ch4:te,pdfColorType:"text",precision:3}),this};var go=t.charSpace,hf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(go||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return go=g,this};var Ol=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var C=p.CapJoinStyles[g];if(C===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ol=C,Y(C+" J"),this};var Il=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var C=p.CapJoinStyles[g];if(C===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=C,Y(C+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Y(q($(g))+" M"),this},p.GState=wh,p.setGState=function(g){(g=typeof g=="string"?ot[ar[g]]:ka(null,g)).equals(_r)||(Y("/"+g.id+" gs"),_r=g)};var ka=function(g,C){if(!g||!ar[g]){var K=!1;for(var te in ot)if(ot.hasOwnProperty(te)&&ot[te].equals(C)){K=!0;break}if(K)C=ot[te];else{var ae="GS"+(Object.keys(ot).length+1).toString(10);ot[ae]=C,C.id=ae}return g&&(ar[g]=C.id),Et.publish("addGState",C),C}};p.addGState=function(g,C){return ka(g,C),this},p.saveGraphicsState=function(){return Y("q"),Ft.push({key:Ve,size:Ae,color:Na}),this},p.restoreGraphicsState=function(){Y("Q");var g=Ft.pop();return Ve=g.key,Ae=g.size,Na=g.color,_r=null,this},p.setCurrentTransformationMatrix=function(g){return Y(g.toString()+" cm"),this},p.comment=function(g){return Y("#"+g),this};var ja=function(g,C){var K=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(be){isNaN(be)||(K=parseFloat(be))}});var te=C||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return te},set:function(be){isNaN(be)||(te=parseFloat(be))}});var ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ae},set:function(be){ae=be.toString()}}),this},Fl=function(g,C,K,te){ja.call(this,g,C),this.type="rect";var ae=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ae},set:function(ke){isNaN(ke)||(ae=parseFloat(ke))}});var be=te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return be},set:function(ke){isNaN(ke)||(be=parseFloat(ke))}}),this},vo=function(){this.page=Rt,this.currentPage=H,this.pages=Se.slice(0),this.pagesContext=rt.slice(0),this.x=Ge,this.y=Bt,this.matrix=jt,this.width=Dl(H),this.height=Nn(H),this.outputDestination=Le,this.id="",this.objectNumber=-1};vo.prototype.restore=function(){Rt=this.page,H=this.currentPage,rt=this.pagesContext,Se=this.pages,Ge=this.x,Bt=this.y,jt=this.matrix,Ml(H,this.width),Li(H,this.height),Le=this.outputDestination};var Rl=function(g,C,K,te,ae){ki.push(new vo),Rt=H=0,Se=[],Ge=g,Bt=C,jt=ae,jl([K,te])};for(var Aa in p.beginFormObject=function(g,C,K,te,ae){return Rl(g,C,K,te,ae),this},p.endFormObject=function(g){return function(C){if(Gi[C])ki.pop().restore();else{var K=new vo,te="Xo"+(Object.keys(Wr).length+1).toString(10);K.id=te,Gi[C]=te,Wr[te]=K,Et.publish("addFormObject",K),ki.pop().restore()}}(g),this},p.doFormObject=function(g,C){var K=Wr[Gi[g]];return Y("q"),Y(C.toString()+" cm"),Y("/"+K.id+" Do"),Y("Q"),this},p.getFormObject=function(g){var C=Wr[Gi[g]];return{x:C.x,y:C.y,width:C.width,height:C.height,matrix:C.matrix}},p.save=function(g,C){return g=g||"generated.pdf",(C=C||{}).returnPromise=C.returnPromise||!1,C.returnPromise===!1?(Ma(ba(Yi()),g),typeof Ma.unload=="function"&&et.setTimeout&&setTimeout(Ma.unload,911),this):new Promise(function(K,te){try{var ae=Ma(ba(Yi()),g);typeof Ma.unload=="function"&&et.setTimeout&&setTimeout(Ma.unload,911),K(ae)}catch(be){te(be.message)}})},qe.API)qe.API.hasOwnProperty(Aa)&&(Aa==="events"&&qe.API.events.length?function(g,C){var K,te,ae;for(ae=C.length-1;ae!==-1;ae--)K=C[ae][0],te=C[ae][1],g.subscribe.apply(g,[K].concat(typeof te=="function"?[te]:te))}(Et,qe.API.events):p[Aa]=qe.API[Aa]);var Dl=p.getPageWidth=function(g){return(rt[g=g||H].mediaBox.topRightX-rt[g].mediaBox.bottomLeftX)/Qe},Ml=p.setPageWidth=function(g,C){rt[g].mediaBox.topRightX=C*Qe+rt[g].mediaBox.bottomLeftX},Nn=p.getPageHeight=function(g){return(rt[g=g||H].mediaBox.topRightY-rt[g].mediaBox.bottomLeftY)/Qe},Li=p.setPageHeight=function(g,C){rt[g].mediaBox.topRightY=C*Qe+rt[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:zn,getStyle:bu,getFont:sf,getFontSize:Te,getCharSpace:hf,getTextColor:mo,getLineHeight:of,getLineHeightFactor:cf,getLineWidth:nt,write:ft,getHorizontalCoordinate:Xi,getVerticalCoordinate:Qi,getCoordinateString:uf,getVerticalCoordinateString:df,collections:{},newObject:tr,newAdditionalObject:va,newObjectDeferred:Pr,newObjectDeferredBegin:Rr,getFilters:ni,putStream:$n,events:Et,scaleFactor:Qe,pageSize:{getWidth:function(){return Dl(H)},setWidth:function(g){Ml(H,g)},getHeight:function(){return Nn(H)},setHeight:function(g){Li(H,g)}},encryptionOptions:f,encryption:or,getEncryptor:function(g){return f!==null?or.encryptor(g,0):function(C){return C}},output:ii,getNumberOfPages:gu,pages:Se,out:Y,f2:j,f3:A,getPageInfo:El,getPageInfoByObjId:Qh,getCurrentPageInfo:Zh,getPDFVersion:b,Point:ja,Rectangle:Fl,Matrix:Ye,hasHotfix:_a},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Dl(H)},set:function(g){Ml(H,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Nn(H)},set:function(g){Li(H,g)},enumerable:!0,configurable:!0}),(function(g){for(var C=0,K=Ke.length;C<K;C++){var te=fu.call(this,g[C][0],g[C][1],g[C][2],Ke[C][3],!0);m===!1&&(y[te]=!0);var ae=g[C][0].split("-");hu({id:te,fontName:ae[0],fontStyle:ae[1]||""})}Et.publish("addFonts",{fonts:ze,dictionary:at})}).call(p,Ke),Ve="F1",pu(i,r),Et.publish("initialized"),p}Mo.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Mo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Mo.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Mo.prototype.processOwnerPassword=function(t,e){return Z1(Q1(e).substr(0,5),t)},Mo.prototype.encryptor=function(t,e){var r=Q1(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Z1(r,n)}},wh.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Tt(t)!==Tt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},qe.API={events:[]},qe.version="3.0.2";var ir=qe.API,hm=1,oo=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Io=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},st=function(t){return t.toFixed(2)},qs=function(t){return t.toFixed(5)};ir.__acroform__={};var Sn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},$5=function(t){return t*hm},Mi=function(t){var e=new n_,r=Re.internal.getHeight(t)||0,n=Re.internal.getWidth(t)||0;return e.BBox=[0,0,Number(st(n)),Number(st(r))],e},tA=ir.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},rA=ir.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},nA=ir.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},pr=ir.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nA(t,e-1)},mr=ir.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tA(t,e-1)},gr=ir.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rA(t,e-1)},iA=ir.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(st(l.lowerLeft_X)),Number(st(l.lowerLeft_Y)),Number(st(l.upperRight_X)),Number(st(l.upperRight_Y))]},sA=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=e0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+st(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Mi(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},e0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(j){return j.split(`
`)}):i.map(function(j){return[j]});var s=r,a=Re.internal.getHeight(t)||0;a=a<0?-a:a;var o=Re.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(j,A,$){if(j+1<i.length){var R=A+" "+i[j+1][0];return pd(R,t,$).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,m=pd("3",t,s).height,y=t.multiline?a-s:(a-m)/2,p=y+=2,_=0,b=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+pd(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",N=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var E=!1;if(i[S].length!==1&&k!==i[S].length-1){if((m+2)*(N+2)+2>a)continue e;w+=i[S][k],E=!0,b=S,S--}else{w=(w+=i[S][k]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var D=parseInt(S),O=l(D,w,s),z=S>=i.length-1;if(O&&!z){w+=" ",k=0;continue}if(O||z){if(z)b=D;else if(t.multiline&&(m+2)*(N+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(N+2)+2>a)continue e;b=D}}for(var q="",B=_;B<=b;B++){var W=i[B];if(t.multiline){if(B===b){q+=W[k]+" ",k=(k+1)%W.length;continue}if(B===_){q+=W[W.length-1]+" ";continue}}q+=W[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,f=pd(q,t,s).width,t.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;default:u=2}e+=st(u)+" "+st(p)+` Td
`,e+="("+oo(q)+`) Tj
`,e+=-st(u)+` 0 Td
`,p=-(s+2),f=0,_=E?b:b+1,N++,w=""}break}return n.text=e,n.fontSize=s,n},pd=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},aA={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},oA=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},lA=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Si.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(aA)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new i_,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&oA(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=iA(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Re.createDefaultAppearanceStream(o),Tt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=sA(o);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var m="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var p=o.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var _=p[a];typeof _=="function"&&(_=_.call(i,o)),m+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,o)),m+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(b,k){for(var w in b)if(b.hasOwnProperty(w)){var N=w,S=b[w];k.internal.newObjectDeferredBegin(S.objId,!0),Tt(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete b[N]}}(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},r_=ir.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Tt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+oo(n(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cp=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+oo(n(t))+")"},zi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zi.prototype.toString=function(){return this.objId+" 0 R"},zi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},zi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:r_(i,this.objId,this.scope)}):i instanceof zi?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var n_=function(){zi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Sn(n_,zi);var i_=function(){zi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+oo(r(t))+")"}},set:function(r){t=r}})};Sn(i_,zi);var Si=function t(){zi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!pr(e,3)},set:function(w){w?this.F=mr(e,3):this.F=gr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof bh)return;s="FieldObject"+t.FieldNum++}var w=function(N){return N};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+oo(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/hm:u},set:function(w){u=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof bh||this instanceof Ka))return Cp(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ir==0?Cp(y,this.objId,this.scope):y},set:function(w){w=w.toString(),y=this instanceof Ir==0?w.substr(0,1)==="("?Io(w.substr(1,w.length-2)):Io(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir==1?Io(y.substr(1,y.length-1)):y},set:function(w){w=w.toString(),y=this instanceof Ir==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ir==0?Cp(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof Ir==0?w.substr(0,1)==="("?Io(w.substr(1,w.length-2)):Io(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ir==1?Io(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof Ir==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,1)},set:function(w){w?this.Ff=mr(this.Ff,1):this.Ff=gr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,2)},set:function(w){w?this.Ff=mr(this.Ff,2):this.Ff=gr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,3)},set:function(w){w?this.Ff=mr(this.Ff,3):this.Ff=gr(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');k=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(k){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:k=2;break;case"center":case 1:k=1;break;default:k=0}}})};Sn(Si,zi);var sl=function(){Si.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return r_(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,18)},set:function(r){r?this.Ff=mr(this.Ff,18):this.Ff=gr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=mr(this.Ff,19):this.Ff=gr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,20)},set:function(r){r?(this.Ff=mr(this.Ff,20),e.sort()):this.Ff=gr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,22)},set:function(r){r?this.Ff=mr(this.Ff,22):this.Ff=gr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,23)},set:function(r){r?this.Ff=mr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,27)},set:function(r){r?this.Ff=mr(this.Ff,27):this.Ff=gr(this.Ff,27)}}),this.hasAppearanceStream=!1};Sn(sl,Si);var al=function(){sl.call(this),this.fontName="helvetica",this.combo=!1};Sn(al,sl);var ol=function(){al.call(this),this.combo=!0};Sn(ol,al);var Id=function(){ol.call(this),this.edit=!0};Sn(Id,ol);var Ir=function(){Si.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,15)},set:function(r){r?this.Ff=mr(this.Ff,15):this.Ff=gr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,16)},set:function(r){r?this.Ff=mr(this.Ff,16):this.Ff=gr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,17)},set:function(r){r?this.Ff=mr(this.Ff,17):this.Ff=gr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,26)},set:function(r){r?this.Ff=mr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+oo(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Tt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Sn(Ir,Si);var Fd=function(){Ir.call(this),this.pushButton=!0};Sn(Fd,Ir);var ll=function(){Ir.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Sn(ll,Ir);var bh=function(){var t,e;Si.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+oo(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Tt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Re.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Sn(bh,Si),ll.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ll.prototype.createOption=function(t){var e=new bh;return e.Parent=this,e.optionName=t,this.Kids.push(e),cA.call(this.scope,e),e};var Rd=function(){Ir.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Re.CheckBox.createAppearanceStream()};Sn(Rd,Ir);var Ka=function(){Si.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,13)},set:function(e){e?this.Ff=mr(this.Ff,13):this.Ff=gr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,21)},set:function(e){e?this.Ff=mr(this.Ff,21):this.Ff=gr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,23)},set:function(e){e?this.Ff=mr(this.Ff,23):this.Ff=gr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,24)},set:function(e){e?this.Ff=mr(this.Ff,24):this.Ff=gr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,25)},set:function(e){e?this.Ff=mr(this.Ff,25):this.Ff=gr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,26)},set:function(e){e?this.Ff=mr(this.Ff,26):this.Ff=gr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Sn(Ka,Si);var Dd=function(){Ka.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!pr(this.Ff,14)},set:function(t){t?this.Ff=mr(this.Ff,14):this.Ff=gr(this.Ff,14)}}),this.password=!0};Sn(Dd,Ka);var Re={CheckBox:{createAppearanceStream:function(){return{N:{On:Re.CheckBox.YesNormal},D:{On:Re.CheckBox.YesPushDown,Off:Re.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=e0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+st(Re.internal.getWidth(t))+" "+st(Re.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+st(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Mi(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Re.internal.getHeight(t),a=Re.internal.getWidth(t),o=e0(t,t.caption);return i.push("1 g"),i.push("0 0 "+st(a)+" "+st(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+st(a-1)+" "+st(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+st(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+st(Re.internal.getWidth(t))+" "+st(Re.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Re.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Re.RadioButton.Circle.YesNormal,e.D[t]=Re.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Re.internal.getWidth(t)<=Re.internal.getHeight(t)?Re.internal.getWidth(t)/4:Re.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Re.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qs(Re.internal.getWidth(t)/2)+" "+qs(Re.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Re.internal.getWidth(t)<=Re.internal.getHeight(t)?Re.internal.getWidth(t)/4:Re.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Re.internal.Bezier_C).toFixed(5)),a=Number((n*Re.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qs(Re.internal.getWidth(t)/2)+" "+qs(Re.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qs(Re.internal.getWidth(t)/2)+" "+qs(Re.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Re.internal.getWidth(t)<=Re.internal.getHeight(t)?Re.internal.getWidth(t)/4:Re.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Re.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qs(Re.internal.getWidth(t)/2)+" "+qs(Re.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Re.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Re.RadioButton.Cross.YesNormal,e.D[t]=Re.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Mi(t);e.scope=t.scope;var r=[],n=Re.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+st(Re.internal.getWidth(t)-2)+" "+st(Re.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(st(n.x1.x)+" "+st(n.x1.y)+" m"),r.push(st(n.x2.x)+" "+st(n.x2.y)+" l"),r.push(st(n.x4.x)+" "+st(n.x4.y)+" m"),r.push(st(n.x3.x)+" "+st(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=Re.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+st(Re.internal.getWidth(t))+" "+st(Re.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+st(Re.internal.getWidth(t)-2)+" "+st(Re.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(st(r.x1.x)+" "+st(r.x1.y)+" m"),n.push(st(r.x2.x)+" "+st(r.x2.y)+" l"),n.push(st(r.x4.x)+" "+st(r.x4.y)+" m"),n.push(st(r.x3.x)+" "+st(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Mi(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+st(Re.internal.getWidth(t))+" "+st(Re.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Re.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Re.internal.getWidth(t),r=Re.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Re.internal.getWidth=function(t){var e=0;return Tt(t)==="object"&&(e=$5(t.Rect[2])),e},Re.internal.getHeight=function(t){var e=0;return Tt(t)==="object"&&(e=$5(t.Rect[3])),e};var cA=ir.addField=function(t){if(lA(this,t),!(t instanceof Si))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ir.AcroFormChoiceField=sl,ir.AcroFormListBox=al,ir.AcroFormComboBox=ol,ir.AcroFormEditBox=Id,ir.AcroFormButton=Ir,ir.AcroFormPushButton=Fd,ir.AcroFormRadioButton=ll,ir.AcroFormCheckBox=Rd,ir.AcroFormTextField=Ka,ir.AcroFormPasswordField=Dd,ir.AcroFormAppearance=Re,ir.AcroForm={ChoiceField:sl,ListBox:al,ComboBox:ol,EditBox:Id,Button:Ir,PushButton:Fd,RadioButton:ll,CheckBox:Rd,TextField:Ka,PasswordField:Dd,Appearance:Re},qe.AcroForm={ChoiceField:sl,ListBox:al,ComboBox:ol,EditBox:Id,Button:Ir,PushButton:Fd,RadioButton:ll,CheckBox:Rd,TextField:Ka,PasswordField:Dd,Appearance:Re};qe.AcroForm;function s_(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(j,A){var $,R,X,Q,re,U=r;if((A=A||r)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(O(j))for(re in n)for(X=n[re],$=0;$<X.length;$+=1){for(Q=!0,R=0;R<X[$].length;R+=1)if(X[$][R]!==void 0&&X[$][R]!==j[R]){Q=!1;break}if(Q===!0){U=re;break}}else for(re in n)for(X=n[re],$=0;$<X.length;$+=1){for(Q=!0,R=0;R<X[$].length;R+=1)if(X[$][R]!==void 0&&X[$][R]!==j.charCodeAt(R)){Q=!1;break}if(Q===!0){U=re;break}}return U===r&&A!==r&&(U=A),U},s=function j(A){for(var $=this.internal.write,R=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:A.width}),Q.push({key:"Height",value:A.height}),A.colorSpace===w.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===w.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)){for(var re="",U=0,ee=A.transparency.length;U<ee;U++)re+=A.transparency[U]+" "+A.transparency[U]+" ";Q.push({key:"Mask",value:"["+re+"]"})}A.sMask!==void 0&&Q.push({key:"SMask",value:A.objectId+1+" 0 R"});var pe=A.filter!==void 0?["/"+A.filter]:void 0;if(R({data:A.data,additionalKeyValues:Q,alreadyAppliedFilters:pe,objectId:A.objectId}),$("endobj"),"sMask"in A&&A.sMask!==void 0){var ce=(A.predictor!=null?"/Predictor "+A.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+A.width,P={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:A.bitsPerComponent,decodeParameters:ce,data:A.sMask};"filter"in A&&(P.filter=A.filter),j.call(this,P)}if(A.colorSpace===w.INDEXED){var H=this.internal.newObject();R({data:q(new Uint8Array(A.palette)),objectId:H}),$("endobj")}},a=function(){var j=this.internal.collections[e+"images"];for(var A in j)s.call(this,j[A])},o=function(){var j,A=this.internal.collections[e+"images"],$=this.internal.write;for(var R in A)$("/I"+(j=A[R]).index,j.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var j=this.internal.collections[e+"images"];return l.call(this),j},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(j){return typeof t["process"+j.toUpperCase()]=="function"},y=function(j){return Tt(j)==="object"&&j.nodeType===1},p=function(j,A){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var $=""+j.getAttribute("src");if($.indexOf("data:image/")===0)return Od(unescape($).split("base64,").pop());var R=t.loadFile($,!0);if(R!==void 0)return R}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var X;switch(A){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;default:X="image/jpeg"}return Od(j.toDataURL(X,1).split("base64,").pop())}},_=function(j){var A=this.internal.collections[e+"images"];if(A){for(var $ in A)if(j===A[$].alias)return A[$]}},b=function(j,A,$){return j||A||(j=-96,A=-96),j<0&&(j=-1*$.width*72/j/this.internal.scaleFactor),A<0&&(A=-1*$.height*72/A/this.internal.scaleFactor),j===0&&(j=A*$.width/$.height),A===0&&(A=j*$.height/$.width),[j,A]},k=function(j,A,$,R,X,Q){var re=b.call(this,$,R,X),U=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,pe=u.call(this);if($=re[0],R=re[1],pe[X.index]=X,Q){Q*=Math.PI/180;var ce=Math.cos(Q),P=Math.sin(Q),H=function(Z){return Z.toFixed(4)},J=[H(ce),H(P),H(-1*P),H(ce),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,U(j),ee(A+R),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([U($),"0","0",U(R),"0","0","cm"].join(" "))):this.internal.write([U($),"0","0",U(R),U(j),ee(A+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(j){var A,$,R=0;if(typeof j=="string")for($=j.length,A=0;A<$;A++)R=(R<<5)-R+j.charCodeAt(A),R|=0;else if(O(j))for($=j.byteLength/2,A=0;A<$;A++)R=(R<<5)-R+j[A],R|=0;return R},E=t.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var A=!0;return j.length===0&&(A=!1),j.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(A=!1),A},D=t.__addimage__.extractImageFromDataUrl=function(j){if(j==null||!(j=j.trim()).startsWith("data:"))return null;var A=j.indexOf(",");return A<0?null:j.substring(0,A).trim().endsWith("base64")?j.substring(A+1):null};t.__addimage__.isArrayBuffer=function(j){return j instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(j){return j instanceof Int8Array||j instanceof Uint8Array||j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array},z=t.__addimage__.binaryStringToUint8Array=function(j){for(var A=j.length,$=new Uint8Array(A),R=0;R<A;R++)$[R]=j.charCodeAt(R);return $},q=t.__addimage__.arrayBufferToBinaryString=function(j){for(var A="",$=O(j)?j:new Uint8Array(j),R=0;R<$.length;R+=8192)A+=String.fromCharCode.apply(null,$.subarray(R,R+8192));return A};t.addImage=function(){var j,A,$,R,X,Q,re,U,ee;if(typeof arguments[1]=="number"?(A=r,$=arguments[1],R=arguments[2],X=arguments[3],Q=arguments[4],re=arguments[5],U=arguments[6],ee=arguments[7]):(A=arguments[1],$=arguments[2],R=arguments[3],X=arguments[4],Q=arguments[5],re=arguments[6],U=arguments[7],ee=arguments[8]),Tt(j=arguments[0])==="object"&&!y(j)&&"imageData"in j){var pe=j;j=pe.imageData,A=pe.format||A||r,$=pe.x||$||0,R=pe.y||R||0,X=pe.w||pe.width||X,Q=pe.h||pe.height||Q,re=pe.alias||re,U=pe.compression||U,ee=pe.rotation||pe.angle||ee}var ce=this.internal.getFilters();if(U===void 0&&ce.indexOf("FlateEncode")!==-1&&(U="SLOW"),isNaN($)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=B.call(this,j,A,re,U);return k.call(this,$,R,X,Q,P,ee),this};var B=function(j,A,$,R){var X,Q,re;if(typeof j=="string"&&i(j)===r){j=unescape(j);var U=W(j,!1);(U!==""||(U=t.loadFile(j,!0))!==void 0)&&(j=U)}if(y(j)&&(j=p(j,A)),A=i(j,A),!m(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((re=$)==null||re.length===0)&&($=function(ee){return typeof ee=="string"||O(ee)?S(ee):O(ee.data)?S(ee.data):null}(j)),(X=_.call(this,$))||(j instanceof Uint8Array||A==="RGBA"||(Q=j,j=z(j)),X=this["process"+A.toUpperCase()](j,f.call(this),$,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:N.NONE}(R),Q)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},W=t.__addimage__.convertBase64ToBinaryString=function(j,A){A=typeof A!="boolean"||A;var $,R="";if(typeof j=="string"){var X;$=(X=D(j))!==null&&X!==void 0?X:j;try{R=Od($)}catch(Q){if(A)throw E($)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};t.getImageProperties=function(j){var A,$,R="";if(y(j)&&(j=p(j)),typeof j=="string"&&i(j)===r&&((R=W(j,!1))===""&&(R=t.loadFile(j)||""),j=R),$=i(j),!m($))throw new Error("addImage does not support files of type '"+$+"', please ensure that a plugin for '"+$+"' support is added.");if(j instanceof Uint8Array||(j=z(j)),!(A=this["process"+$.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=$,A}})(qe.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};qe.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var y=0;y<u.length;y++){n=u[y];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),N=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(w(n.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(N))+") >>",b.content=s;var S=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(b.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var D=this.annotations._nameMap[n.options.name];n.options.pageNumber=D.page,n.options.top=D.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var f=this.splitTextToSize(r,o).length;a=Math.ceil(u*f)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(qe.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},o=t.__arabicParser__.isArabicEndLetter=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return a(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return a(b)&&s(b)&&e[b.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(b){var k=0,w=r,N="",S=0;for(k=0;k<b.length;k+=1)w[b.charCodeAt(k)]!==void 0?(S++,typeof(w=w[b.charCodeAt(k)])=="number"&&(N+=String.fromCharCode(w),w=r,S=0),k===b.length-1&&(w=r,N+=b.charAt(k-(S-1)),k-=S-1,S=0)):(w=r,N+=b.charAt(k-S),k-=S,S=0);return N};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(b,k,w){return a(b)?s(b)===!1?-1:!u(b)||!a(k)&&!a(w)||!a(w)&&o(k)||o(b)&&!a(k)||o(b)&&l(k)||o(b)&&o(k)?0:f(b)&&a(k)&&!o(k)&&a(w)&&u(w)?3:o(b)||!a(w)?1:2:-1},p=function(b){var k=0,w=0,N=0,S="",E="",D="",O=(b=b||"").split("\\s+"),z=[];for(k=0;k<O.length;k+=1){for(z.push(""),w=0;w<O[k].length;w+=1)S=O[k][w],E=O[k][w-1],D=O[k][w+1],a(S)?(N=y(S,E,D),z[k]+=N!==-1?String.fromCharCode(e[S.charCodeAt(0)][N]):S):z[k]+=S;z[k]=m(z[k])}return z.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var b,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(k)){var N=0;for(w=[],N=0;N<k.length;N+=1)Array.isArray(k[N])?w.push([p(k[N][0]),k[N][1],k[N][2]]):w.push([p(k[N])]);b=w}else b=p(k);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",_])}(qe.API),qe.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(qe.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(b){u=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(b){y=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(b){_=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),y=u.scaleFactor||this.internal.scaleFactor,p=0,_=0,b=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,E){return S.concat(k.splitTextToSize(E,w))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)p<(b=this.getStringUnitWidth(l[N],{font:m})*f)&&(p=b);return p!==0&&(_=l.length),{w:p/=y,h:Math.max((_*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,f,m,y){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,_,b,k,w=[],N=[],S=[],E={},D={},O=[],z=[],q=(y=y||{}).autoSize||!1,B=y.printHeaders!==!1,W=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,j=y.margins||Object.assign({width:this.getPageWidth()},e),A=typeof y.padding=="number"?y.padding:3,$=y.headerBackgroundColor||"#c8c8c8",R=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=W,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=$,this.internal.__cell__.headerTextColor=R,this.setFontSize(W),m==null)N=w=Object.keys(f[0]),S=w.map(function(){return"left"});else if(Array.isArray(m)&&Tt(m[0])==="object")for(w=m.map(function(pe){return pe.name}),N=m.map(function(pe){return pe.prompt||pe.name||""}),S=m.map(function(pe){return pe.align||"left"}),p=0;p<m.length;p+=1)D[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=w=m,S=w.map(function(){return"left"}));if(q||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<w.length;p+=1){for(E[k=w[p]]=f.map(function(pe){return pe[k]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=E[k],this.setFont(void 0,"normal"),b=0;b<_.length;b+=1)O.push(this.getTextDimensions(_[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[k]=Math.max.apply(null,O)+A+A,O=[]}if(B){var X={};for(p=0;p<w.length;p+=1)X[w[p]]={},X[w[p]].text=N[p],X[w[p]].align=S[p];var Q=o.call(this,X,D);z=w.map(function(pe){return new s(l,u,D[pe],Q,X[pe].text,void 0,X[pe].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var re=m.reduce(function(pe,ce){return pe[ce.name]=ce.align,pe},{});for(p=0;p<f.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:f[p]},this);var U=o.call(this,f[p],D);for(b=0;b<w.length;b+=1){var ee=f[p][w[b]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:b,data:ee},this),a.call(this,new s(l,u,D[w[b]],U,ee,p+2,re[w[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/y+f+f},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,y.push(f)),f.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,f),this.setTextColor(_)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(qe.API);var a_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},o_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],t0=s_(o_),l_=[100,200,300,400,500,600,700,800,900],uA=s_(l_);function Pp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return a_[s=s||"normal"]?s:"normal"}(t.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof t0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function z5(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var dA={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},W5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function H5(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function V5(t){return t.trimLeft()}function hA(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function fA(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var md,G5,K5,Fo,gd,J5,Y5,X5,Tp=["times"];function Q5(t,e,r,n){var i=4,s=ev;switch(n){case qe.API.image_compression.FAST:i=1,s=Z5;break;case qe.API.image_compression.MEDIUM:i=6,s=tv;break;case qe.API.image_compression.SLOW:i=9,s=rv}t=function(o,l,u,f){for(var m,y=o.length/l,p=new Uint8Array(o.length+y),_=[pA,Z5,ev,tv,rv],b=0;b<y;b+=1){var k=b*l,w=o.subarray(k,k+l);if(f)p.set(f(w,u,m),k+b);else{for(var N=_.length,S=[],E=0;E<N;E+=1)S[E]=_[E](w,u,m);var D=gA(S.concat());p.set(S[D],k+b)}m=w}return p}(t,e,r,s);var a=K1(t,{level:i});return qe.API.__addimage__.arrayBufferToBinaryString(a)}function pA(t){var e=Array.apply([],t);return e.unshift(0),e}function Z5(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var s=t[i-e]||0;n[i+1]=t[i]-s+256&255}return n}function ev(t,e,r){var n=t.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=r&&r[s]||0;i[s+1]=t[s]-a+256&255}return i}function tv(t,e,r){var n=t.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=t[s-e]||0,o=r&&r[s]||0;i[s+1]=t[s]+256-(a+o>>>1)&255}return i}function rv(t,e,r){var n=t.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=mA(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);i[s+1]=t[s]-a+256&255}return i}function mA(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=i&&n<=s?t:i<=s?e:r}function gA(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Op(t,e,r){var n=e*r,i=Math.floor(n/8),s=16-(n-8*i+r),a=(1<<r)-1;return c_(t,i)>>s&a}function nv(t,e,r,n){var i=r*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,l=(e&o)<<a;(function(u,f,m){if(f+1<u.byteLength)u.setUint16(f,m,!1);else{var y=m>>8&255;u.setUint8(f,y)}})(t,s,c_(t,s)&~(o<<a)&65535|l)}function c_(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function vA(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<1+(7&i);t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,f=[],m=0,y=null,p=0,_=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],1&b||(y=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,E=t[e++],D=E>>6&1,O=1<<1+(7&E),z=o,q=l,B=!1;E>>7&&(B=!0,z=e,q=O,e+=3*O);var W=e;for(e++;;){var j;if(!((j=t[e++])>=0))throw Error("Invalid block size");if(j===0)break;e+=j}f.push({x:k,y:w,width:N,height:S,has_local_palette:B,palette_offset:z,palette_size:q,data_offset:W,data_length:e-W,transparent_index:y,interlaced:!!D,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return _},this.frameInfo=function(A){if(A<0||A>=f.length)throw new Error("Frame index out of range.");return f[A]},this.decodeAndBlitFrameBGRA=function(A,$){var R=this.frameInfo(A),X=R.width*R.height,Q=new Uint8Array(X);iv(t,R.data_offset,Q,X);var re=R.palette_offset,U=R.transparent_index;U===null&&(U=256);var ee=R.width,pe=r-ee,ce=ee,P=4*(R.y*r+R.x),H=4*((R.y+R.height)*r+R.x),J=P,Z=4*pe;R.interlaced===!0&&(Z+=4*r*7);for(var ne=8,oe=0,ge=Q.length;oe<ge;++oe){var he=Q[oe];if(ce===0&&(ce=ee,(J+=Z)>=H&&(Z=4*pe+4*r*(ne-1),J=P+(ee+pe)*(ne<<1),ne>>=1)),he===U)J+=4;else{var xe=t[re+3*he],Se=t[re+3*he+1],Ce=t[re+3*he+2];$[J++]=Ce,$[J++]=Se,$[J++]=xe,$[J++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(A,$){var R=this.frameInfo(A),X=R.width*R.height,Q=new Uint8Array(X);iv(t,R.data_offset,Q,X);var re=R.palette_offset,U=R.transparent_index;U===null&&(U=256);var ee=R.width,pe=r-ee,ce=ee,P=4*(R.y*r+R.x),H=4*((R.y+R.height)*r+R.x),J=P,Z=4*pe;R.interlaced===!0&&(Z+=4*r*7);for(var ne=8,oe=0,ge=Q.length;oe<ge;++oe){var he=Q[oe];if(ce===0&&(ce=ee,(J+=Z)>=H&&(Z=4*pe+4*r*(ne-1),J=P+(ee+pe)*(ne<<1),ne>>=1)),he===U)J+=4;else{var xe=t[re+3*he],Se=t[re+3*he+1],Ce=t[re+3*he+2];$[J++]=xe,$[J++]=Se,$[J++]=Ce,$[J++]=255}--ce}}}function iv(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,f=0,m=0,y=0,p=t[e++],_=new Int32Array(4096),b=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var k=m&u;if(m>>=l,f-=l,k!==s){if(k===a)break;for(var w=k<o?k:b,N=0,S=w;S>s;)S=_[S]>>8,++N;var E=S;if(y+N+(w!==k?1:0)>n)return void Mt.log("Warning, gif stream longer than expected.");r[y++]=E;var D=y+=N;for(w!==k&&(r[y++]=E),S=w;N--;)S=_[S],r[--D]=255&S,S>>=8;b!==null&&o<4096&&(_[o++]=b<<8|E,o>=u+1&&l<12&&(++l,u=u<<1|1)),b=k}else o=a+1,u=(1<<(l=i+1))-1,b=null}return y!==n&&Mt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ip(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),y=new Array(65535),p=new Array(64),_=new Array(64),b=[],k=0,w=7,N=new Array(64),S=new Array(64),E=new Array(64),D=new Array(256),O=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(P,H){for(var J=0,Z=0,ne=new Array,oe=1;oe<=16;oe++){for(var ge=1;ge<=P[oe];ge++)ne[H[Z]]=[],ne[H[Z]][0]=J,ne[H[Z]][1]=oe,Z++,J++;J*=2}return ne}function re(P){for(var H=P[0],J=P[1]-1;J>=0;)H&1<<J&&(k|=1<<w),J--,--w<0&&(k==255?(U(255),U(0)):U(k),w=7,k=0)}function U(P){b.push(P)}function ee(P){U(P>>8&255),U(255&P)}function pe(P,H,J,Z,ne){for(var oe,ge=ne[0],he=ne[240],xe=function(Ae,$e){var Te,it,He,xt,Xe,Oe,St,ct,Ve,Qe,Ge=0;for(Ve=0;Ve<8;++Ve){Te=Ae[Ge],it=Ae[Ge+1],He=Ae[Ge+2],xt=Ae[Ge+3],Xe=Ae[Ge+4],Oe=Ae[Ge+5],St=Ae[Ge+6];var Bt=Te+(ct=Ae[Ge+7]),jt=Te-ct,ze=it+St,at=it-St,Ft=He+Oe,Je=He-Oe,yt=xt+Xe,ot=xt-Xe,ar=Bt+yt,_r=Bt-yt,Rt=ze+Ft,rt=ze-Ft;Ae[Ge]=ar+Rt,Ae[Ge+4]=ar-Rt;var Et=.707106781*(rt+_r);Ae[Ge+2]=_r+Et,Ae[Ge+6]=_r-Et;var ga=.382683433*((ar=ot+Je)-(rt=at+jt)),Wr=.5411961*ar+ga,Gi=1.306562965*rt+ga,ki=.707106781*(Rt=Je+at),Ye=jt+ki,Ki=jt-ki;Ae[Ge+5]=Ki+Wr,Ae[Ge+3]=Ki-Wr,Ae[Ge+1]=Ye+Gi,Ae[Ge+7]=Ye-Gi,Ge+=8}for(Ge=0,Ve=0;Ve<8;++Ve){Te=Ae[Ge],it=Ae[Ge+8],He=Ae[Ge+16],xt=Ae[Ge+24],Xe=Ae[Ge+32],Oe=Ae[Ge+40],St=Ae[Ge+48];var Ji=Te+(ct=Ae[Ge+56]),Un=Te-ct,qn=it+St,tr=it-St,Pr=He+Oe,Rr=He-Oe,va=xt+Xe,Ss=xt-Xe,ti=Ji+va,ji=Ji-va,ri=qn+Pr,ni=qn-Pr;Ae[Ge]=ti+ri,Ae[Ge+32]=ti-ri;var $n=.707106781*(ni+ji);Ae[Ge+16]=ji+$n,Ae[Ge+48]=ji-$n;var ya=.382683433*((ti=Ss+Rr)-(ni=tr+Un)),Ai=.5411961*ti+ya,wa=1.306562965*ni+ya,co=.707106781*(ri=Rr+tr),uo=Un+co,ho=Un-co;Ae[Ge+40]=ho+Ai,Ae[Ge+24]=ho-Ai,Ae[Ge+8]=uo+wa,Ae[Ge+56]=uo-wa,Ge++}for(Ve=0;Ve<64;++Ve)Qe=Ae[Ve]*$e[Ve],p[Ve]=Qe>0?Qe+.5|0:Qe-.5|0;return p}(P,H),Se=0;Se<64;++Se)_[z[Se]]=xe[Se];var Ce=_[0]-J;J=_[0],Ce==0?re(Z[0]):(re(Z[y[oe=32767+Ce]]),re(m[oe]));for(var Le=63;Le>0&&_[Le]==0;)Le--;if(Le==0)return re(ge),J;for(var fe,Y=1;Y<=Le;){for(var ft=Y;_[Y]==0&&Y<=Le;)++Y;var tt=Y-ft;if(tt>=16){fe=tt>>4;for(var Ke=1;Ke<=fe;++Ke)re(he);tt&=15}oe=32767+_[Y],re(ne[(tt<<4)+y[oe]]),re(m[oe]),Y++}return Le!=63&&re(ge),J}function ce(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(H){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ne=a((J[Z]*H+50)/100);ne=Math.min(Math.max(ne,1),255),o[z[Z]]=ne}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var he=a((oe[ge]*H+50)/100);he=Math.min(Math.max(he,1),255),l[z[ge]]=he}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,Ce=0;Ce<8;Ce++)for(var Le=0;Le<8;Le++)u[Se]=1/(o[z[Se]]*xe[Ce]*xe[Le]*8),f[Se]=1/(l[z[Se]]*xe[Ce]*xe[Le]*8),Se++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,H){H&&ce(H),b=new Array,k=0,w=7,ee(65496),ee(65504),ee(16),U(74),U(70),U(73),U(70),U(0),U(1),U(1),U(0),ee(1),ee(1),U(0),U(0),function(){ee(65499),ee(132),U(0);for(var it=0;it<64;it++)U(o[it]);U(1);for(var He=0;He<64;He++)U(l[He])}(),function(it,He){ee(65472),ee(17),U(8),ee(He),ee(it),U(3),U(1),U(17),U(0),U(2),U(17),U(1),U(3),U(17),U(1)}(P.width,P.height),function(){ee(65476),ee(418),U(0);for(var it=0;it<16;it++)U(q[it+1]);for(var He=0;He<=11;He++)U(B[He]);U(16);for(var xt=0;xt<16;xt++)U(W[xt+1]);for(var Xe=0;Xe<=161;Xe++)U(j[Xe]);U(1);for(var Oe=0;Oe<16;Oe++)U(A[Oe+1]);for(var St=0;St<=11;St++)U($[St]);U(17);for(var ct=0;ct<16;ct++)U(R[ct+1]);for(var Ve=0;Ve<=161;Ve++)U(X[Ve])}(),ee(65498),ee(12),U(3),U(1),U(0),U(2),U(17),U(3),U(17),U(0),U(63),U(0);var J=0,Z=0,ne=0;k=0,w=7,this.encode.displayName="_encode_";for(var oe,ge,he,xe,Se,Ce,Le,fe,Y,ft=P.data,tt=P.width,Ke=P.height,Ae=4*tt,$e=0;$e<Ke;){for(oe=0;oe<Ae;){for(Se=Ae*$e+oe,Le=-1,fe=0,Y=0;Y<64;Y++)Ce=Se+(fe=Y>>3)*Ae+(Le=4*(7&Y)),$e+fe>=Ke&&(Ce-=Ae*($e+1+fe-Ke)),oe+Le>=Ae&&(Ce-=oe+Le-Ae+4),ge=ft[Ce++],he=ft[Ce++],xe=ft[Ce++],N[Y]=(O[ge]+O[he+256|0]+O[xe+512|0]>>16)-128,S[Y]=(O[ge+768|0]+O[he+1024|0]+O[xe+1280|0]>>16)-128,E[Y]=(O[ge+1280|0]+O[he+1536|0]+O[xe+1792|0]>>16)-128;J=pe(N,u,J,e,n),Z=pe(S,f,Z,r,i),ne=pe(E,f,ne,r,i),oe+=32}$e+=8}if(w>=0){var Te=[];Te[1]=w+1,Te[0]=(1<<w+1)-1,re(Te)}return ee(65497),new Uint8Array(b)},t=t||50,function(){for(var P=String.fromCharCode,H=0;H<256;H++)D[H]=P(H)}(),e=Q(q,B),r=Q(A,$),n=Q(W,j),i=Q(R,X),function(){for(var P=1,H=2,J=1;J<=15;J++){for(var Z=P;Z<H;Z++)y[32767+Z]=J,m[32767+Z]=[],m[32767+Z][1]=J,m[32767+Z][0]=Z;for(var ne=-(H-1);ne<=-P;ne++)y[32767+ne]=J,m[32767+ne]=[],m[32767+ne][1]=J,m[32767+ne][0]=H-1+ne;P<<=1,H<<=1}}(),function(){for(var P=0;P<256;P++)O[P]=19595*P,O[P+256|0]=38470*P,O[P+512|0]=7471*P+32768,O[P+768|0]=-11059*P,O[P+1024|0]=-21709*P,O[P+1280|0]=32768*P+8421375,O[P+1536|0]=-27439*P,O[P+1792|0]=-5329*P}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function di(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sv(t){function e(B){if(!B)throw Error("assert :P")}function r(B,W,j){for(var A=0;4>A;A++)if(B[W+A]!=j.charCodeAt(A))return!0;return!1}function n(B,W,j,A,$){for(var R=0;R<$;R++)B[W+R]=j[A+R]}function i(B,W,j,A){for(var $=0;$<A;$++)B[W+$]=j}function s(B){return new Int32Array(B)}function a(B,W){for(var j=[],A=0;A<B;A++)j.push(new W);return j}function o(B,W){var j=[];return function A($,R,X){for(var Q=X[R],re=0;re<Q&&($.push(X.length>R+1?[]:new W),!(X.length<R+1));re++)A($[re],R+1,X)}(j,0,B),j}var l=function(){var B=this;function W(c,h){for(var v=1<<h-1>>>0;c&v;)v>>>=1;return v?(c&v-1)+v:c}function j(c,h,v,x,L){e(!(x%v));do c[h+(x-=v)]=L;while(0<x)}function A(c,h,v,x,L){if(e(2328>=L),512>=L)var T=s(512);else if((T=s(L))==null)return 0;return function(I,F,M,V,ie,de){var G,se,le=F,ye=1<<M,ue=s(16),we=s(16);for(e(ie!=0),e(V!=null),e(I!=null),e(0<M),se=0;se<ie;++se){if(15<V[se])return 0;++ue[V[se]]}if(ue[0]==ie)return 0;for(we[1]=0,G=1;15>G;++G){if(ue[G]>1<<G)return 0;we[G+1]=we[G]+ue[G]}for(se=0;se<ie;++se)G=V[se],0<V[se]&&(de[we[G]++]=se);if(we[15]==1)return(V=new $).g=0,V.value=de[0],j(I,le,1,ye,V),ye;var _e,je=-1,Ne=ye-1,We=0,Fe=1,pt=1,Me=1<<M;for(se=0,G=1,ie=2;G<=M;++G,ie<<=1){if(Fe+=pt<<=1,0>(pt-=ue[G]))return 0;for(;0<ue[G];--ue[G])(V=new $).g=G,V.value=de[se++],j(I,le+We,ie,Me,V),We=W(We,G)}for(G=M+1,ie=2;15>=G;++G,ie<<=1){if(Fe+=pt<<=1,0>(pt-=ue[G]))return 0;for(;0<ue[G];--ue[G]){if(V=new $,(We&Ne)!=je){for(le+=Me,_e=1<<(je=G)-M;15>je&&!(0>=(_e-=ue[je]));)++je,_e<<=1;ye+=Me=1<<(_e=je-M),I[F+(je=We&Ne)].g=_e+M,I[F+je].value=le-F-je}V.g=G-M,V.value=de[se++],j(I,le+(We>>M),ie,Me,V),We=W(We,G)}}return Fe!=2*we[15]-1?0:ye}(c,h,v,x,L,T)}function $(){this.value=this.g=0}function R(){this.value=this.g=0}function X(){this.G=a(5,$),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ci,R)}function Q(c,h,v,x){e(c!=null),e(h!=null),e(2147483648>x),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=h,c.pa=v,c.Jd=h,c.Yc=v+x,c.Zc=4<=x?v+x-4+1:v,ge(c)}function re(c,h){for(var v=0;0<h--;)v|=xe(c,128)<<h;return v}function U(c,h){var v=re(c,h);return he(c)?-v:v}function ee(c,h,v,x){var L,T=0;for(e(c!=null),e(h!=null),e(4294967288>x),c.Sb=x,c.Ra=0,c.u=0,c.h=0,4<x&&(x=4),L=0;L<x;++L)T+=h[v+L]<<8*L;c.Ra=T,c.bb=x,c.oa=h,c.pa=v}function pe(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Cs-8>>>0,++c.bb,c.u-=8;Z(c)&&(c.h=1,c.u=0)}function ce(c,h){if(e(0<=h),!c.h&&h<=zl){var v=J(c)&Ls[h];return c.u+=h,pe(c),v}return c.h=1,c.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(c){return c.Ra>>>(c.u&Cs-1)>>>0}function Z(c){return e(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Cs}function ne(c,h){c.u=h,c.h=Z(c)}function oe(c){c.u>=lr&&(e(c.u>=lr),pe(c))}function ge(c){e(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(e(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function he(c){return re(c,1)}function xe(c,h){var v=c.Ca;0>c.b&&ge(c);var x=c.b,L=v*h>>>8,T=(c.I>>>x>L)+0;for(T?(v-=L,c.I-=L+1<<x>>>0):v=L+1,x=v,L=0;256<=x;)L+=8,x>>=8;return x=7^L+pf[x],c.b-=x,c.Ca=(v<<x)-1,T}function Se(c,h,v){c[h+0]=v>>24&255,c[h+1]=v>>16&255,c[h+2]=v>>8&255,c[h+3]=255&v}function Ce(c,h){return c[h+0]|c[h+1]<<8}function Le(c,h){return Ce(c,h)|c[h+2]<<16}function fe(c,h){return Ce(c,h)|Ce(c,h+2)<<16}function Y(c,h){var v=1<<h;return e(c!=null),e(0<h),c.X=s(v),c.X==null?0:(c.Mb=32-h,c.Xa=h,1)}function ft(c,h){e(c!=null),e(h!=null),e(c.Xa==h.Xa),n(h.X,0,c.X,0,1<<h.Xa)}function tt(){this.X=[],this.Xa=this.Mb=0}function Ke(c,h,v,x){e(v!=null),e(x!=null);var L=v[0],T=x[0];return L==0&&(L=(c*T+h/2)/h),T==0&&(T=(h*L+c/2)/c),0>=L||0>=T?0:(v[0]=L,x[0]=T,1)}function Ae(c,h){return c+(1<<h)-1>>>h}function $e(c,h){return((4278255360&c)+(4278255360&h)>>>0&4278255360)+((16711935&c)+(16711935&h)>>>0&16711935)>>>0}function Te(c,h){B[h]=function(v,x,L,T,I,F,M){var V;for(V=0;V<I;++V){var ie=B[c](F[M+V-1],L,T+V);F[M+V]=$e(v[x+V],ie)}}}function it(){this.ud=this.hd=this.jd=0}function He(c,h){return((4278124286&(c^h))>>>1)+(c&h)>>>0}function xt(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Xe(c,h){return xt(c+(c-h+.5>>1))}function Oe(c,h,v){return Math.abs(h-v)-Math.abs(c-v)}function St(c,h,v,x,L,T,I){for(x=T[I-1],v=0;v<L;++v)T[I+v]=x=$e(c[h+v],x)}function ct(c,h,v,x,L){var T;for(T=0;T<v;++T){var I=c[h+T],F=I>>8&255,M=16711935&(M=(M=16711935&I)+((F<<16)+F));x[L+T]=(4278255360&I)+M>>>0}}function Ve(c,h){h.jd=255&c,h.hd=c>>8&255,h.ud=c>>16&255}function Qe(c,h,v,x,L,T){var I;for(I=0;I<x;++I){var F=h[v+I],M=F>>>8,V=F,ie=255&(ie=(ie=F>>>16)+((c.jd<<24>>24)*(M<<24>>24)>>>5));V=255&(V=(V+=(c.hd<<24>>24)*(M<<24>>24)>>>5)+((c.ud<<24>>24)*(ie<<24>>24)>>>5)),L[T+I]=(4278255360&F)+(ie<<16)+V}}function Ge(c,h,v,x,L){B[h]=function(T,I,F,M,V,ie,de,G,se){for(M=de;M<G;++M)for(de=0;de<se;++de)V[ie++]=L(F[x(T[I++])])},B[c]=function(T,I,F,M,V,ie,de){var G=8>>T.b,se=T.Ea,le=T.K[0],ye=T.w;if(8>G)for(T=(1<<T.b)-1,ye=(1<<G)-1;I<F;++I){var ue,we=0;for(ue=0;ue<se;++ue)ue&T||(we=x(M[V++])),ie[de++]=L(le[we&ye]),we>>=G}else B["VP8LMapColor"+v](M,V,le,ye,ie,de,I,F,se)}}function Bt(c,h,v,x,L){for(v=h+v;h<v;){var T=c[h++];x[L++]=T>>16&255,x[L++]=T>>8&255,x[L++]=255&T}}function jt(c,h,v,x,L){for(v=h+v;h<v;){var T=c[h++];x[L++]=T>>16&255,x[L++]=T>>8&255,x[L++]=255&T,x[L++]=T>>24&255}}function ze(c,h,v,x,L){for(v=h+v;h<v;){var T=(I=c[h++])>>16&240|I>>12&15,I=240&I|I>>28&15;x[L++]=T,x[L++]=I}}function at(c,h,v,x,L){for(v=h+v;h<v;){var T=(I=c[h++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;x[L++]=T,x[L++]=I}}function Ft(c,h,v,x,L){for(v=h+v;h<v;){var T=c[h++];x[L++]=255&T,x[L++]=T>>8&255,x[L++]=T>>16&255}}function Je(c,h,v,x,L,T){if(T==0)for(v=h+v;h<v;)Se(x,((T=c[h++])[0]>>24|T[1]>>8&65280|T[2]<<8&16711680|T[3]<<24)>>>0),L+=32;else n(x,L,c,h,v)}function yt(c,h){B[h][0]=B[c+"0"],B[h][1]=B[c+"1"],B[h][2]=B[c+"2"],B[h][3]=B[c+"3"],B[h][4]=B[c+"4"],B[h][5]=B[c+"5"],B[h][6]=B[c+"6"],B[h][7]=B[c+"7"],B[h][8]=B[c+"8"],B[h][9]=B[c+"9"],B[h][10]=B[c+"10"],B[h][11]=B[c+"11"],B[h][12]=B[c+"12"],B[h][13]=B[c+"13"],B[h][14]=B[c+"0"],B[h][15]=B[c+"0"]}function ot(c){return c==vf||c==yf||c==Cu||c==wf}function ar(){this.eb=[],this.size=this.A=this.fb=0}function _r(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ar,this.f.kb=new _r,this.sd=null}function rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ga(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function Wr(c,h){var v=c.T,x=h.ba.f.RGBA,L=x.eb,T=x.fb+c.ka*x.A,I=Vn[h.ba.S],F=c.y,M=c.O,V=c.f,ie=c.N,de=c.ea,G=c.W,se=h.cc,le=h.dc,ye=h.Mc,ue=h.Nc,we=c.ka,_e=c.ka+c.T,je=c.U,Ne=je+1>>1;for(we==0?I(F,M,null,null,V,ie,de,G,V,ie,de,G,L,T,null,null,je):(I(h.ec,h.fc,F,M,se,le,ye,ue,V,ie,de,G,L,T-x.A,L,T,je),++v);we+2<_e;we+=2)se=V,le=ie,ye=de,ue=G,ie+=c.Rc,G+=c.Rc,T+=2*x.A,I(F,(M+=2*c.fa)-c.fa,F,M,se,le,ye,ue,V,ie,de,G,L,T-x.A,L,T,je);return M+=c.fa,c.j+_e<c.o?(n(h.ec,h.fc,F,M,je),n(h.cc,h.dc,V,ie,Ne),n(h.Mc,h.Nc,de,G,Ne),v--):1&_e||I(F,M,null,null,V,ie,de,G,V,ie,de,G,L,T+x.A,null,null,je),v}function Gi(c,h,v){var x=c.F,L=[c.J];if(x!=null){var T=c.U,I=h.ba.S,F=I==Lu||I==Cu;h=h.ba.f.RGBA;var M=[0],V=c.ka;M[0]=c.T,c.Kb&&(V==0?--M[0]:(--V,L[0]-=c.width),c.j+c.ka+c.T==c.o&&(M[0]=c.o-c.j-V));var ie=h.eb;V=h.fb+V*h.A,c=Lm(x,L[0],c.width,T,M,ie,V+(F?0:3),h.A),e(v==M),c&&ot(I)&&Gl(ie,V,F,T,M,h.A)}return 0}function ki(c){var h=c.ma,v=h.ba.S,x=11>v,L=v==Au||v==Eu||v==Lu||v==gf||v==12||ot(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!dn(h.Oa,c,L?11:12))return 0;if(L&&ot(v)&&Bl(),c.da)alert("todo:use_scaling");else{if(x){if(h.Ib=ga,c.Kb){if(v=c.U+1>>1,h.memory=s(c.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+c.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=Wr,Bl()}}else alert("todo:EmitYUV");L&&(h.Jb=Gi,x&&Ea())}if(x&&!Hm){for(c=0;256>c;++c)T_[c]=89858*(c-128)+Tu>>Pu,F_[c]=-22014*(c-128)+Tu,I_[c]=-45773*(c-128),O_[c]=113618*(c-128)+Tu>>Pu;for(c=Jl;c<xf;++c)h=76283*(c-16)+Tu>>Pu,R_[c-Jl]=Sr(h,255),D_[c-Jl]=Sr(h+8>>4,15);Hm=1}return 1}function Ye(c){var h=c.ma,v=c.U,x=c.T;return e(!(1&c.ka)),0>=v||0>=x?0:(v=h.Ib(c,h),h.Jb!=null&&h.Jb(c,h,v),h.Dc+=v,1)}function Ki(c){c.ma.memory=null}function Ji(c,h,v,x){return ce(c,8)!=47?0:(h[0]=ce(c,14)+1,v[0]=ce(c,14)+1,x[0]=ce(c,1),ce(c,3)!=0?0:!c.h)}function Un(c,h){if(4>c)return c+1;var v=c-2>>1;return(2+(1&c)<<v)+ce(h,v)+1}function qn(c,h){return 120<h?h-120:1<=(v=((v=y_[h-1])>>4)*c+(8-(15&v)))?v:1;var v}function tr(c,h,v){var x=J(v),L=c[h+=255&x].g-8;return 0<L&&(ne(v,v.u+8),x=J(v),h+=c[h].value,h+=x&(1<<L)-1),ne(v,v.u+c[h].g),c[h].value}function Pr(c,h,v){return v.g+=c.g,v.value+=c.value<<h>>>0,e(8>=v.g),c.g}function Rr(c,h,v){var x=c.xc;return e((h=x==0?0:c.vc[c.md*(v>>x)+(h>>x)])<c.Wb),c.Ya[h]}function va(c,h,v,x){var L=c.ab,T=c.c*h,I=c.C;h=I+h;var F=v,M=x;for(x=c.Ta,v=c.Ua;0<L--;){var V=c.gc[L],ie=I,de=h,G=F,se=M,le=(M=x,F=v,V.Ea);switch(e(ie<de),e(de<=V.nc),V.hc){case 2:xo(G,se,(de-ie)*le,M,F);break;case 0:var ye=ie,ue=de,we=M,_e=F,je=(Me=V).Ea;ye==0&&(Pi(G,se,null,null,1,we,_e),St(G,se+1,0,0,je-1,we,_e+1),se+=je,_e+=je,++ye);for(var Ne=1<<Me.b,We=Ne-1,Fe=Ae(je,Me.b),pt=Me.K,Me=Me.w+(ye>>Me.b)*Fe;ye<ue;){var wt=pt,Nr=Me,mt=1;for(Ti(G,se,we,_e-je,1,we,_e);mt<je;){var Be=(mt&~We)+Ne;Be>je&&(Be=je),(0,Pa[wt[Nr++]>>8&15])(G,se+ +mt,we,_e+mt-je,Be-mt,we,_e+mt),mt=Be}se+=je,_e+=je,++ye&We||(Me+=Fe)}de!=V.nc&&n(M,F-le,M,F+(de-ie-1)*le,le);break;case 1:for(le=G,ue=se,je=(G=V.Ea)-(_e=G&~(we=(se=1<<V.b)-1)),ye=Ae(G,V.b),Ne=V.K,V=V.w+(ie>>V.b)*ye;ie<de;){for(We=Ne,Fe=V,pt=new it,Me=ue+_e,wt=ue+G;ue<Me;)Ve(We[Fe++],pt),rs(pt,le,ue,se,M,F),ue+=se,F+=se;ue<wt&&(Ve(We[Fe++],pt),rs(pt,le,ue,je,M,F),ue+=je,F+=je),++ie&we||(V+=ye)}break;case 3:if(G==M&&se==F&&0<V.b){for(ue=M,G=le=F+(de-ie)*le-(_e=(de-ie)*Ae(V.Ea,V.b)),se=M,we=F,ye=[],_e=(je=_e)-1;0<=_e;--_e)ye[_e]=se[we+_e];for(_e=je-1;0<=_e;--_e)ue[G+_e]=ye[_e];Wl(V,ie,de,M,le,M,F)}else Wl(V,ie,de,G,se,M,F)}F=x,M=v}M!=v&&n(x,v,F,M,T)}function Ss(c,h){var v=c.V,x=c.Ba+c.c*c.C,L=h-c.C;if(e(h<=c.l.o),e(16>=L),0<L){var T=c.l,I=c.Ta,F=c.Ua,M=T.width;if(va(c,L,v,x),L=F=[F],e((v=c.C)<(x=h)),e(T.v<T.va),x>T.o&&(x=T.o),v<T.j){var V=T.j-v;v=T.j,L[0]+=V*M}if(v>=x?v=0:(L[0]+=4*T.v,T.ka=v-T.j,T.U=T.va-T.v,T.T=x-v,v=1),v){if(F=F[0],11>(v=c.ca).S){var ie=v.f.RGBA,de=(x=v.S,L=T.U,T=T.T,V=ie.eb,ie.A),G=T;for(ie=ie.fb+c.Ma*ie.A;0<G--;){var se=I,le=F,ye=L,ue=V,we=ie;switch(x){case ju:Hl(se,le,ye,ue,we);break;case Au:kn(se,le,ye,ue,we);break;case vf:kn(se,le,ye,ue,we),Gl(ue,we,0,ye,1,0);break;case Rm:qt(se,le,ye,ue,we);break;case Eu:Je(se,le,ye,ue,we,1);break;case yf:Je(se,le,ye,ue,we,1),Gl(ue,we,0,ye,1,0);break;case Lu:Je(se,le,ye,ue,we,0);break;case Cu:Je(se,le,ye,ue,we,0),Gl(ue,we,1,ye,1,0);break;case gf:Oi(se,le,ye,ue,we);break;case wf:Oi(se,le,ye,ue,we),Em(ue,we,ye,1,0);break;case Dm:Ut(se,le,ye,ue,we);break;default:e(0)}F+=M,ie+=de}c.Ma+=T}else alert("todo:EmitRescaledRowsYUVA");e(c.Ma<=v.height)}}c.C=h,e(c.C<=c.i)}function ti(c){var h;if(0<c.ua)return 0;for(h=0;h<c.Wb;++h){var v=c.Ya[h].G,x=c.Ya[h].H;if(0<v[1][x[1]+0].g||0<v[2][x[2]+0].g||0<v[3][x[3]+0].g)return 0}return 1}function ji(c,h,v,x,L,T){if(c.Z!=0){var I=c.qd,F=c.rd;for(e(Ts[c.Z]!=null);h<v;++h)Ts[c.Z](I,F,x,L,x,L,T),I=x,F=L,L+=T;c.qd=I,c.rd=F}}function ri(c,h){var v=c.l.ma,x=v.Z==0||v.Z==1?c.l.j:c.C;if(x=c.C<x?x:c.C,e(h<=c.l.o),h>x){var L=c.l.width,T=v.ca,I=v.tb+L*x,F=c.V,M=c.Ba+c.c*x,V=c.gc;e(c.ab==1),e(V[0].hc==3),No(V[0],x,h,F,M,T,I),ji(v,x,h,T,I,L)}c.C=c.Ma=h}function ni(c,h,v,x,L,T,I){var F=c.$/x,M=c.$%x,V=c.m,ie=c.s,de=v+c.$,G=de;L=v+x*L;var se=v+x*T,le=280+ie.ua,ye=c.Pb?F:16777216,ue=0<ie.ua?ie.Wa:null,we=ie.wc,_e=de<se?Rr(ie,M,F):null;e(c.C<T),e(se<=L);var je=!1;e:for(;;){for(;je||de<se;){var Ne=0;if(F>=ye){var We=de-v;e((ye=c).Pb),ye.wd=ye.m,ye.xd=We,0<ye.s.ua&&ft(ye.s.Wa,ye.s.vb),ye=F+b_}if(M&we||(_e=Rr(ie,M,F)),e(_e!=null),_e.Qb&&(h[de]=_e.qb,je=!0),!je)if(oe(V),_e.jc){Ne=V,We=h;var Fe=de,pt=_e.pd[J(Ne)&Ci-1];e(_e.jc),256>pt.g?(ne(Ne,Ne.u+pt.g),We[Fe]=pt.value,Ne=0):(ne(Ne,Ne.u+pt.g-256),e(256<=pt.value),Ne=pt.value),Ne==0&&(je=!0)}else Ne=tr(_e.G[0],_e.H[0],V);if(V.h)break;if(je||256>Ne){if(!je)if(_e.nd)h[de]=(_e.qb|Ne<<8)>>>0;else{if(oe(V),je=tr(_e.G[1],_e.H[1],V),oe(V),We=tr(_e.G[2],_e.H[2],V),Fe=tr(_e.G[3],_e.H[3],V),V.h)break;h[de]=(Fe<<24|je<<16|Ne<<8|We)>>>0}if(je=!1,++de,++M>=x&&(M=0,++F,I!=null&&F<=T&&!(F%16)&&I(c,F),ue!=null))for(;G<de;)Ne=h[G++],ue.X[(506832829*Ne&4294967295)>>>ue.Mb]=Ne}else if(280>Ne){if(Ne=Un(Ne-256,V),We=tr(_e.G[4],_e.H[4],V),oe(V),We=qn(x,We=Un(We,V)),V.h)break;if(de-v<We||L-de<Ne)break e;for(Fe=0;Fe<Ne;++Fe)h[de+Fe]=h[de+Fe-We];for(de+=Ne,M+=Ne;M>=x;)M-=x,++F,I!=null&&F<=T&&!(F%16)&&I(c,F);if(e(de<=L),M&we&&(_e=Rr(ie,M,F)),ue!=null)for(;G<de;)Ne=h[G++],ue.X[(506832829*Ne&4294967295)>>>ue.Mb]=Ne}else{if(!(Ne<le))break e;for(je=Ne-280,e(ue!=null);G<de;)Ne=h[G++],ue.X[(506832829*Ne&4294967295)>>>ue.Mb]=Ne;Ne=de,e(!(je>>>(We=ue).Xa)),h[Ne]=We.X[je],je=!0}je||e(V.h==Z(V))}if(c.Pb&&V.h&&de<L)e(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&ft(c.s.vb,c.s.Wa);else{if(V.h)break e;I!=null&&I(c,F>T?T:F),c.a=0,c.$=de-v}return 1}return c.a=3,0}function $n(c){e(c!=null),c.vc=null,c.yc=null,c.Ya=null;var h=c.Wa;h!=null&&(h.X=null),c.vb=null,e(c!=null)}function ya(){var c=new Xt;return c==null?null:(c.a=0,c.xb=Um,yt("Predictor","VP8LPredictors"),yt("Predictor","VP8LPredictors_C"),yt("PredictorAdd","VP8LPredictorsAdd"),yt("PredictorAdd","VP8LPredictorsAdd_C"),xo=ct,rs=Qe,Hl=Bt,kn=jt,Oi=ze,Ut=at,qt=Ft,B.VP8LMapColor32b=So,B.VP8LMapColor8b=Ca,c)}function Ai(c,h,v,x,L){var T=1,I=[c],F=[h],M=x.m,V=x.s,ie=null,de=0;e:for(;;){if(v)for(;T&&ce(M,1);){var G=I,se=F,le=x,ye=1,ue=le.m,we=le.gc[le.ab],_e=ce(ue,2);if(le.Oc&1<<_e)T=0;else{switch(le.Oc|=1<<_e,we.hc=_e,we.Ea=G[0],we.nc=se[0],we.K=[null],++le.ab,e(4>=le.ab),_e){case 0:case 1:we.b=ce(ue,3)+2,ye=Ai(Ae(we.Ea,we.b),Ae(we.nc,we.b),0,le,we.K),we.K=we.K[0];break;case 3:var je,Ne=ce(ue,8)+1,We=16<Ne?0:4<Ne?1:2<Ne?2:3;if(G[0]=Ae(we.Ea,We),we.b=We,je=ye=Ai(Ne,1,0,le,we.K)){var Fe,pt=Ne,Me=we,wt=1<<(8>>Me.b),Nr=s(wt);if(Nr==null)je=0;else{var mt=Me.K[0],Be=Me.w;for(Nr[0]=Me.K[0][0],Fe=1;Fe<1*pt;++Fe)Nr[Fe]=$e(mt[Be+Fe],Nr[Fe-1]);for(;Fe<4*wt;++Fe)Nr[Fe]=0;Me.K[0]=null,Me.K[0]=Nr,je=1}}ye=je;break;case 2:break;default:e(0)}T=ye}}if(I=I[0],F=F[0],T&&ce(M,1)&&!(T=1<=(de=ce(M,4))&&11>=de)){x.a=3;break e}var Pe;if(Pe=T)t:{var dr,lt,_t,Ht=x,Mr=I,rn=F,rr=de,Hr=v,nn=Ht.m,kr=Ht.s,Nt=[null],Lt=1,nr=0,Ct=w_[rr];r:for(;;){if(Hr&&ce(nn,1)){var Br=ce(nn,3)+2,oi=Ae(Mr,Br),hr=Ae(rn,Br),fn=oi*hr;if(!Ai(oi,hr,0,Ht,Nt))break r;for(Nt=Nt[0],kr.xc=Br,dr=0;dr<fn;++dr){var Dt=Nt[dr]>>8&65535;Nt[dr]=Dt,Dt>=Lt&&(Lt=Dt+1)}}if(nn.h)break r;for(lt=0;5>lt;++lt){var jr=Mm[lt];!lt&&0<rr&&(jr+=1<<rr),nr<jr&&(nr=jr)}var An=a(Lt*Ct,$),sn=Lt,En=a(sn,X);if(En==null)var Ln=null;else e(65536>=sn),Ln=En;var pn=s(nr);if(Ln==null||pn==null||An==null){Ht.a=1;break r}var Cn=An;for(dr=_t=0;dr<Lt;++dr){var $t=Ln[dr],Pn=$t.G,li=$t.H,Ta=0,ss=1,Ur=0;for(lt=0;5>lt;++lt){jr=Mm[lt],Pn[lt]=Cn,li[lt]=_t,!lt&&0<rr&&(jr+=1<<rr);i:{var Iu,Sf=jr,Fu=Ht,Yl=pn,U_=Cn,q_=_t,Nf=0,Os=Fu.m,$_=ce(Os,1);if(i(Yl,0,0,Sf),$_){var z_=ce(Os,1)+1,W_=ce(Os,1),Km=ce(Os,W_==0?1:8);Yl[Km]=1,z_==2&&(Yl[Km=ce(Os,8)]=1);var Ru=1}else{var Jm=s(19),Ym=ce(Os,4)+4;if(19<Ym){Fu.a=3;var Du=0;break i}for(Iu=0;Iu<Ym;++Iu)Jm[v_[Iu]]=ce(Os,3);var kf=void 0,Xl=void 0,Xm=Fu,H_=Jm,Mu=Sf,Qm=Yl,jf=0,Is=Xm.m,Zm=8,e2=a(128,$);n:for(;A(e2,0,7,H_,19);){if(ce(Is,1)){var V_=2+2*ce(Is,3);if((kf=2+ce(Is,V_))>Mu)break n}else kf=Mu;for(Xl=0;Xl<Mu&&kf--;){oe(Is);var t2=e2[0+(127&J(Is))];ne(Is,Is.u+t2.g);var jo=t2.value;if(16>jo)Qm[Xl++]=jo,jo!=0&&(Zm=jo);else{var G_=jo==16,r2=jo-16,K_=m_[r2],n2=ce(Is,p_[r2])+K_;if(Xl+n2>Mu)break n;for(var J_=G_?Zm:0;0<n2--;)Qm[Xl++]=J_}}jf=1;break n}jf||(Xm.a=3),Ru=jf}(Ru=Ru&&!Os.h)&&(Nf=A(U_,q_,8,Yl,Sf)),Ru&&Nf!=0?Du=Nf:(Fu.a=3,Du=0)}if(Du==0)break r;if(ss&&g_[lt]==1&&(ss=Cn[_t].g==0),Ta+=Cn[_t].g,_t+=Du,3>=lt){var Ql,Af=pn[0];for(Ql=1;Ql<jr;++Ql)pn[Ql]>Af&&(Af=pn[Ql]);Ur+=Af}}if($t.nd=ss,$t.Qb=0,ss&&($t.qb=(Pn[3][li[3]+0].value<<24|Pn[1][li[1]+0].value<<16|Pn[2][li[2]+0].value)>>>0,Ta==0&&256>Pn[0][li[0]+0].value&&($t.Qb=1,$t.qb+=Pn[0][li[0]+0].value<<8)),$t.jc=!$t.Qb&&6>Ur,$t.jc){var Bu,as=$t;for(Bu=0;Bu<Ci;++Bu){var Fs=Bu,Rs=as.pd[Fs],Uu=as.G[0][as.H[0]+Fs];256<=Uu.value?(Rs.g=Uu.g+256,Rs.value=Uu.value):(Rs.g=0,Rs.value=0,Fs>>=Pr(Uu,8,Rs),Fs>>=Pr(as.G[1][as.H[1]+Fs],16,Rs),Fs>>=Pr(as.G[2][as.H[2]+Fs],0,Rs),Pr(as.G[3][as.H[3]+Fs],24,Rs))}}}kr.vc=Nt,kr.Wb=Lt,kr.Ya=Ln,kr.yc=An,Pe=1;break t}Pe=0}if(!(T=Pe)){x.a=3;break e}if(0<de){if(V.ua=1<<de,!Y(V.Wa,de)){x.a=1,T=0;break e}}else V.ua=0;var Ef=x,i2=I,Y_=F,Lf=Ef.s,Cf=Lf.xc;if(Ef.c=i2,Ef.i=Y_,Lf.md=Ae(i2,Cf),Lf.wc=Cf==0?-1:(1<<Cf)-1,v){x.xb=A_;break e}if((ie=s(I*F))==null){x.a=1,T=0;break e}T=(T=ni(x,ie,0,I,F,F,null))&&!M.h;break e}return T?(L!=null?L[0]=ie:(e(ie==null),e(v)),x.$=0,v||$n(V)):$n(V),T}function wa(c,h){var v=c.c*c.i,x=v+h+16*h;return e(c.c<=h),c.V=s(x),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+v+h,1)}function co(c,h){var v=c.C,x=h-v,L=c.V,T=c.Ba+c.c*v;for(e(h<=c.l.o);0<x;){var I=16<x?16:x,F=c.l.ma,M=c.l.width,V=M*I,ie=F.ca,de=F.tb+M*v,G=c.Ta,se=c.Ua;va(c,I,L,T),Cm(G,se,ie,de,V),ji(F,v,v+I,ie,de,M),x-=I,L+=I*c.c,v+=I}e(v==h),c.C=c.Ma=h}function uo(){this.ub=this.yd=this.td=this.Rb=0}function ho(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Yh(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function kl(){this.Yb=function(){var c=[];return function h(v,x,L){for(var T=L[x],I=0;I<T&&(v.push(L.length>x+1?[]:0),!(L.length<x+1));I++)h(v[I],x+1,L)}(c,0,[3,11]),c}()}function hu(){this.jb=s(3),this.Wc=o([4,8],kl),this.Xc=o([4,17],kl)}function fu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function zn(){this.ld=this.La=this.dd=this.tc=0}function jl(){this.Na=this.la=0}function pu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Al(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function mu(){this.uc=this.M=this.Nb=0,this.wa=Array(new zn),this.Y=0,this.ya=Array(new Al),this.aa=0,this.l=new fo}function gu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function vu(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new uo,this.Kc=new ho,this.ed=new fu,this.Qa=new Yh,this.Ic=this.$c=this.Aa=0,this.D=new mu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,P),this.ia=0,this.pb=a(4,pu),this.Pa=new hu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gu),this.Hd=0,this.rb=Array(new jl),this.sb=0,this.wa=Array(new zn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Al),this.L=this.aa=0,this.gd=o([4,2],zn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xh(){var c=new vu;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Kl||(Kl=Yi)),c}function vr(c,h,v){return c.a==0&&(c.a=h,c.sc=v,c.cb=0),0}function yu(c,h,v){return 3<=v&&c[h+0]==157&&c[h+1]==1&&c[h+2]==42}function wu(c,h){if(c==null)return 0;if(c.a=0,c.sc="OK",h==null)return vr(c,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,x=h.w,L=h.ha;if(4>L)return vr(c,7,"Truncated header.");var T=v[x+0]|v[x+1]<<8|v[x+2]<<16,I=c.Od;if(I.Rb=!(1&T),I.td=T>>1&7,I.yd=T>>4&1,I.ub=T>>5,3<I.td)return vr(c,3,"Incorrect keyframe parameters.");if(!I.yd)return vr(c,4,"Frame not displayable.");x+=3,L-=3;var F=c.Kc;if(I.Rb){if(7>L)return vr(c,7,"cannot parse picture header");if(!yu(v,x,L))return vr(c,3,"Bad code word");F.c=16383&(v[x+4]<<8|v[x+3]),F.Td=v[x+4]>>6,F.i=16383&(v[x+6]<<8|v[x+5]),F.Ud=v[x+6]>>6,x+=7,L-=7,c.za=F.c+15>>4,c.Ub=F.i+15>>4,h.width=F.c,h.height=F.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((T=c.Pa).jb,0,255,T.jb.length),e((T=c.Qa)!=null),T.Cb=0,T.Bb=0,T.Fb=1,i(T.Zb,0,0,T.Zb.length),i(T.Lb,0,0,T.Lb)}if(I.ub>L)return vr(c,7,"bad partition length");Q(T=c.m,v,x,I.ub),x+=I.ub,L-=I.ub,I.Rb&&(F.Ld=he(T),F.Kd=he(T)),F=c.Qa;var M,V=c.Pa;if(e(T!=null),e(F!=null),F.Cb=he(T),F.Cb){if(F.Bb=he(T),he(T)){for(F.Fb=he(T),M=0;4>M;++M)F.Zb[M]=he(T)?U(T,7):0;for(M=0;4>M;++M)F.Lb[M]=he(T)?U(T,6):0}if(F.Bb)for(M=0;3>M;++M)V.jb[M]=he(T)?re(T,8):255}else F.Bb=0;if(T.Ka)return vr(c,3,"cannot parse segment header");if((F=c.ed).zd=he(T),F.Tb=re(T,6),F.wb=re(T,3),F.Pc=he(T),F.Pc&&he(T)){for(V=0;4>V;++V)he(T)&&(F.vd[V]=U(T,6));for(V=0;4>V;++V)he(T)&&(F.od[V]=U(T,6))}if(c.L=F.Tb==0?0:F.zd?1:2,T.Ka)return vr(c,3,"cannot parse filter header");var ie=L;if(L=M=x,x=M+ie,F=ie,c.Xb=(1<<re(c.m,2))-1,ie<3*(V=c.Xb))v=7;else{for(M+=3*V,F-=3*V,ie=0;ie<V;++ie){var de=v[L+0]|v[L+1]<<8|v[L+2]<<16;de>F&&(de=F),Q(c.Jc[+ie],v,M,de),M+=de,F-=de,L+=3}Q(c.Jc[+V],v,M,F),v=M<x?0:5}if(v!=0)return vr(c,v,"cannot parse partitions");for(v=re(M=c.m,7),L=he(M)?U(M,4):0,x=he(M)?U(M,4):0,F=he(M)?U(M,4):0,V=he(M)?U(M,4):0,M=he(M)?U(M,4):0,ie=c.Qa,de=0;4>de;++de){if(ie.Cb){var G=ie.Zb[de];ie.Fb||(G+=v)}else{if(0<de){c.pb[de]=c.pb[0];continue}G=v}var se=c.pb[de];se.Sc[0]=bf[Sr(G+L,127)],se.Sc[1]=_f[Sr(G+0,127)],se.Eb[0]=2*bf[Sr(G+x,127)],se.Eb[1]=101581*_f[Sr(G+F,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=bf[Sr(G+V,117)],se.Qc[1]=_f[Sr(G+M,127)],se.lc=G+M}if(!I.Rb)return vr(c,4,"Not a key frame.");for(he(T),I=c.Pa,v=0;4>v;++v){for(L=0;8>L;++L)for(x=0;3>x;++x)for(F=0;11>F;++F)V=xe(T,k_[v][L][x][F])?re(T,8):S_[v][L][x][F],I.Wc[v][L].Yb[x][F]=V;for(L=0;17>L;++L)I.Xc[v][L]=I.Wc[v][j_[L]]}return c.kc=he(T),c.kc&&(c.Bd=re(T,8)),c.cb=1}function Yi(c,h,v,x,L,T,I){var F=h[L].Yb[v];for(v=0;16>L;++L){if(!xe(c,F[v+0]))return L;for(;!xe(c,F[v+1]);)if(F=h[++L].Yb[0],v=0,L==16)return 16;var M=h[L+1].Yb;if(xe(c,F[v+2])){var V=c,ie=0;if(xe(V,(G=F)[(de=v)+3]))if(xe(V,G[de+6])){for(F=0,de=2*(ie=xe(V,G[de+8]))+(G=xe(V,G[de+9+ie])),ie=0,G=__[de];G[F];++F)ie+=ie+xe(V,G[F]);ie+=3+(8<<de)}else xe(V,G[de+7])?(ie=7+2*xe(V,165),ie+=xe(V,145)):ie=5+xe(V,159);else ie=xe(V,G[de+4])?3+xe(V,G[de+5]):2;F=M[2]}else ie=1,F=M[1];M=I+x_[L],0>(V=c).b&&ge(V);var de,G=V.b,se=(de=V.Ca>>1)-(V.I>>G)>>31;--V.b,V.Ca+=se,V.Ca|=1,V.I-=(de+1&se)<<G,T[M]=((ie^se)-se)*x[(0<L)+0]}return 16}function ba(c){var h=c.rb[c.sb-1];h.la=0,h.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function ii(c,h,v,x,L){L=c[h+v+32*x]+(L>>3),c[h+v+32*x]=-256&L?0>L?0:255:L}function _a(c,h,v,x,L,T){ii(c,h,0,v,x+L),ii(c,h,1,v,x+T),ii(c,h,2,v,x-T),ii(c,h,3,v,x-L)}function or(c){return(20091*c>>16)+c}function El(c,h,v,x){var L,T=0,I=s(16);for(L=0;4>L;++L){var F=c[h+0]+c[h+8],M=c[h+0]-c[h+8],V=(35468*c[h+4]>>16)-or(c[h+12]),ie=or(c[h+4])+(35468*c[h+12]>>16);I[T+0]=F+ie,I[T+1]=M+V,I[T+2]=M-V,I[T+3]=F-ie,T+=4,h++}for(L=T=0;4>L;++L)F=(c=I[T+0]+4)+I[T+8],M=c-I[T+8],V=(35468*I[T+4]>>16)-or(I[T+12]),ii(v,x,0,0,F+(ie=or(I[T+4])+(35468*I[T+12]>>16))),ii(v,x,1,0,M+V),ii(v,x,2,0,M-V),ii(v,x,3,0,F-ie),T++,x+=32}function Qh(c,h,v,x){var L=c[h+0]+4,T=35468*c[h+4]>>16,I=or(c[h+4]),F=35468*c[h+1]>>16;_a(v,x,0,L+I,c=or(c[h+1]),F),_a(v,x,1,L+T,c,F),_a(v,x,2,L-T,c,F),_a(v,x,3,L-I,c,F)}function Zh(c,h,v,x,L){El(c,h,v,x),L&&El(c,h+16,v,x+4)}function ef(c,h,v,x){ur(c,h+0,v,x,1),ur(c,h+32,v,x+128,1)}function Ei(c,h,v,x){var L;for(c=c[h+0]+4,L=0;4>L;++L)for(h=0;4>h;++h)ii(v,x,h,L,c)}function bu(c,h,v,x){c[h+0]&&Ii(c,h+0,v,x),c[h+16]&&Ii(c,h+16,v,x+4),c[h+32]&&Ii(c,h+32,v,x+128),c[h+48]&&Ii(c,h+48,v,x+128+4)}function _u(c,h,v,x){var L,T=s(16);for(L=0;4>L;++L){var I=c[h+0+L]+c[h+12+L],F=c[h+4+L]+c[h+8+L],M=c[h+4+L]-c[h+8+L],V=c[h+0+L]-c[h+12+L];T[0+L]=I+F,T[8+L]=I-F,T[4+L]=V+M,T[12+L]=V-M}for(L=0;4>L;++L)I=(c=T[0+4*L]+3)+T[3+4*L],F=T[1+4*L]+T[2+4*L],M=T[1+4*L]-T[2+4*L],V=c-T[3+4*L],v[x+0]=I+F>>3,v[x+16]=V+M>>3,v[x+32]=I-F>>3,v[x+48]=V-M>>3,x+=64}function Ns(c,h,v){var x,L=h-32,T=jn,I=255-c[L-1];for(x=0;x<v;++x){var F,M=T,V=I+c[h-1];for(F=0;F<v;++F)c[h+F]=M[V+c[L+F]];h+=32}}function Ll(c,h){Ns(c,h,4)}function tf(c,h){Ns(c,h,8)}function rf(c,h){Ns(c,h,16)}function nf(c,h){var v;for(v=0;16>v;++v)n(c,h+32*v,c,h-32,16)}function Cl(c,h){var v;for(v=16;0<v;--v)i(c,h,c[h-1],16),h+=32}function xa(c,h,v){var x;for(x=0;16>x;++x)i(h,v+32*x,c,16)}function ks(c,h){var v,x=16;for(v=0;16>v;++v)x+=c[h-1+32*v]+c[h+v-32];xa(x>>5,c,h)}function sf(c,h){var v,x=8;for(v=0;16>v;++v)x+=c[h-1+32*v];xa(x>>4,c,h)}function Sa(c,h){var v,x=8;for(v=0;16>v;++v)x+=c[h+v-32];xa(x>>4,c,h)}function Pl(c,h){xa(128,c,h)}function nt(c,h,v){return c+2*h+v+2>>2}function af(c,h){var v,x=h-32;for(x=new Uint8Array([nt(c[x-1],c[x+0],c[x+1]),nt(c[x+0],c[x+1],c[x+2]),nt(c[x+1],c[x+2],c[x+3]),nt(c[x+2],c[x+3],c[x+4])]),v=0;4>v;++v)n(c,h+32*v,x,0,x.length)}function of(c,h){var v=c[h-1],x=c[h-1+32],L=c[h-1+64],T=c[h-1+96];Se(c,h+0,16843009*nt(c[h-1-32],v,x)),Se(c,h+32,16843009*nt(v,x,L)),Se(c,h+64,16843009*nt(x,L,T)),Se(c,h+96,16843009*nt(L,T,T))}function lf(c,h){var v,x=4;for(v=0;4>v;++v)x+=c[h+v-32]+c[h-1+32*v];for(x>>=3,v=0;4>v;++v)i(c,h+32*v,x,4)}function cf(c,h){var v=c[h-1+0],x=c[h-1+32],L=c[h-1+64],T=c[h-1-32],I=c[h+0-32],F=c[h+1-32],M=c[h+2-32],V=c[h+3-32];c[h+0+96]=nt(x,L,c[h-1+96]),c[h+1+96]=c[h+0+64]=nt(v,x,L),c[h+2+96]=c[h+1+64]=c[h+0+32]=nt(T,v,x),c[h+3+96]=c[h+2+64]=c[h+1+32]=c[h+0+0]=nt(I,T,v),c[h+3+64]=c[h+2+32]=c[h+1+0]=nt(F,I,T),c[h+3+32]=c[h+2+0]=nt(M,F,I),c[h+3+0]=nt(V,M,F)}function Xi(c,h){var v=c[h+1-32],x=c[h+2-32],L=c[h+3-32],T=c[h+4-32],I=c[h+5-32],F=c[h+6-32],M=c[h+7-32];c[h+0+0]=nt(c[h+0-32],v,x),c[h+1+0]=c[h+0+32]=nt(v,x,L),c[h+2+0]=c[h+1+32]=c[h+0+64]=nt(x,L,T),c[h+3+0]=c[h+2+32]=c[h+1+64]=c[h+0+96]=nt(L,T,I),c[h+3+32]=c[h+2+64]=c[h+1+96]=nt(T,I,F),c[h+3+64]=c[h+2+96]=nt(I,F,M),c[h+3+96]=nt(F,M,M)}function Qi(c,h){var v=c[h-1+0],x=c[h-1+32],L=c[h-1+64],T=c[h-1-32],I=c[h+0-32],F=c[h+1-32],M=c[h+2-32],V=c[h+3-32];c[h+0+0]=c[h+1+64]=T+I+1>>1,c[h+1+0]=c[h+2+64]=I+F+1>>1,c[h+2+0]=c[h+3+64]=F+M+1>>1,c[h+3+0]=M+V+1>>1,c[h+0+96]=nt(L,x,v),c[h+0+64]=nt(x,v,T),c[h+0+32]=c[h+1+96]=nt(v,T,I),c[h+1+32]=c[h+2+96]=nt(T,I,F),c[h+2+32]=c[h+3+96]=nt(I,F,M),c[h+3+32]=nt(F,M,V)}function uf(c,h){var v=c[h+0-32],x=c[h+1-32],L=c[h+2-32],T=c[h+3-32],I=c[h+4-32],F=c[h+5-32],M=c[h+6-32],V=c[h+7-32];c[h+0+0]=v+x+1>>1,c[h+1+0]=c[h+0+64]=x+L+1>>1,c[h+2+0]=c[h+1+64]=L+T+1>>1,c[h+3+0]=c[h+2+64]=T+I+1>>1,c[h+0+32]=nt(v,x,L),c[h+1+32]=c[h+0+96]=nt(x,L,T),c[h+2+32]=c[h+1+96]=nt(L,T,I),c[h+3+32]=c[h+2+96]=nt(T,I,F),c[h+3+64]=nt(I,F,M),c[h+3+96]=nt(F,M,V)}function df(c,h){var v=c[h-1+0],x=c[h-1+32],L=c[h-1+64],T=c[h-1+96];c[h+0+0]=v+x+1>>1,c[h+2+0]=c[h+0+32]=x+L+1>>1,c[h+2+32]=c[h+0+64]=L+T+1>>1,c[h+1+0]=nt(v,x,L),c[h+3+0]=c[h+1+32]=nt(x,L,T),c[h+3+32]=c[h+1+64]=nt(L,T,T),c[h+3+64]=c[h+2+64]=c[h+0+96]=c[h+1+96]=c[h+2+96]=c[h+3+96]=T}function po(c,h){var v=c[h-1+0],x=c[h-1+32],L=c[h-1+64],T=c[h-1+96],I=c[h-1-32],F=c[h+0-32],M=c[h+1-32],V=c[h+2-32];c[h+0+0]=c[h+2+32]=v+I+1>>1,c[h+0+32]=c[h+2+64]=x+v+1>>1,c[h+0+64]=c[h+2+96]=L+x+1>>1,c[h+0+96]=T+L+1>>1,c[h+3+0]=nt(F,M,V),c[h+2+0]=nt(I,F,M),c[h+1+0]=c[h+3+32]=nt(v,I,F),c[h+1+32]=c[h+3+64]=nt(x,v,I),c[h+1+64]=c[h+3+96]=nt(L,x,v),c[h+1+96]=nt(T,L,x)}function Tl(c,h){var v;for(v=0;8>v;++v)n(c,h+32*v,c,h-32,8)}function Na(c,h){var v;for(v=0;8>v;++v)i(c,h,c[h-1],8),h+=32}function mo(c,h,v){var x;for(x=0;8>x;++x)i(h,v+32*x,c,8)}function go(c,h){var v,x=8;for(v=0;8>v;++v)x+=c[h+v-32]+c[h-1+32*v];mo(x>>4,c,h)}function hf(c,h){var v,x=4;for(v=0;8>v;++v)x+=c[h+v-32];mo(x>>3,c,h)}function Ol(c,h){var v,x=4;for(v=0;8>v;++v)x+=c[h-1+32*v];mo(x>>3,c,h)}function Il(c,h){mo(128,c,h)}function ka(c,h,v){var x=c[h-v],L=c[h+0],T=3*(L-x)+mf[1020+c[h-2*v]-c[h+v]],I=ku[112+(T+4>>3)];c[h-v]=jn[255+x+ku[112+(T+3>>3)]],c[h+0]=jn[255+L-I]}function ja(c,h,v,x){var L=c[h+0],T=c[h+v];return Hn[255+c[h-2*v]-c[h-v]]>x||Hn[255+T-L]>x}function Fl(c,h,v,x){return 4*Hn[255+c[h-v]-c[h+0]]+Hn[255+c[h-2*v]-c[h+v]]<=x}function vo(c,h,v,x,L){var T=c[h-3*v],I=c[h-2*v],F=c[h-v],M=c[h+0],V=c[h+v],ie=c[h+2*v],de=c[h+3*v];return 4*Hn[255+F-M]+Hn[255+I-V]>x?0:Hn[255+c[h-4*v]-T]<=L&&Hn[255+T-I]<=L&&Hn[255+I-F]<=L&&Hn[255+de-ie]<=L&&Hn[255+ie-V]<=L&&Hn[255+V-M]<=L}function Rl(c,h,v,x){var L=2*x+1;for(x=0;16>x;++x)Fl(c,h+x,v,L)&&ka(c,h+x,v)}function Aa(c,h,v,x){var L=2*x+1;for(x=0;16>x;++x)Fl(c,h+x*v,1,L)&&ka(c,h+x*v,1)}function Dl(c,h,v,x){var L;for(L=3;0<L;--L)Rl(c,h+=4*v,v,x)}function Ml(c,h,v,x){var L;for(L=3;0<L;--L)Aa(c,h+=4,v,x)}function Nn(c,h,v,x,L,T,I,F){for(T=2*T+1;0<L--;){if(vo(c,h,v,T,I))if(ja(c,h,v,F))ka(c,h,v);else{var M=c,V=h,ie=v,de=M[V-2*ie],G=M[V-ie],se=M[V+0],le=M[V+ie],ye=M[V+2*ie],ue=27*(_e=mf[1020+3*(se-G)+mf[1020+de-le]])+63>>7,we=18*_e+63>>7,_e=9*_e+63>>7;M[V-3*ie]=jn[255+M[V-3*ie]+_e],M[V-2*ie]=jn[255+de+we],M[V-ie]=jn[255+G+ue],M[V+0]=jn[255+se-ue],M[V+ie]=jn[255+le-we],M[V+2*ie]=jn[255+ye-_e]}h+=x}}function Li(c,h,v,x,L,T,I,F){for(T=2*T+1;0<L--;){if(vo(c,h,v,T,I))if(ja(c,h,v,F))ka(c,h,v);else{var M=c,V=h,ie=v,de=M[V-ie],G=M[V+0],se=M[V+ie],le=ku[112+(4+(ye=3*(G-de))>>3)],ye=ku[112+(ye+3>>3)],ue=le+1>>1;M[V-2*ie]=jn[255+M[V-2*ie]+ue],M[V-ie]=jn[255+de+ye],M[V+0]=jn[255+G-le],M[V+ie]=jn[255+se-ue]}h+=x}}function g(c,h,v,x,L,T){Nn(c,h,v,1,16,x,L,T)}function C(c,h,v,x,L,T){Nn(c,h,1,v,16,x,L,T)}function K(c,h,v,x,L,T){var I;for(I=3;0<I;--I)Li(c,h+=4*v,v,1,16,x,L,T)}function te(c,h,v,x,L,T){var I;for(I=3;0<I;--I)Li(c,h+=4,1,v,16,x,L,T)}function ae(c,h,v,x,L,T,I,F){Nn(c,h,L,1,8,T,I,F),Nn(v,x,L,1,8,T,I,F)}function be(c,h,v,x,L,T,I,F){Nn(c,h,1,L,8,T,I,F),Nn(v,x,1,L,8,T,I,F)}function ke(c,h,v,x,L,T,I,F){Li(c,h+4*L,L,1,8,T,I,F),Li(v,x+4*L,L,1,8,T,I,F)}function De(c,h,v,x,L,T,I,F){Li(c,h+4,1,L,8,T,I,F),Li(v,x+4,1,L,8,T,I,F)}function Ue(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ze(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new tt,this.vb=new tt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new $}function Xt(){this.xb=this.a=0,this.l=new fo,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=a(4,ut),this.Oc=0}function yr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function It(c,h,v,x,L,T,I){for(c=c==null?0:c[h+0],h=0;h<I;++h)L[T+h]=c+v[x+h]&255,c=L[T+h]}function xr(c,h,v,x,L,T,I){var F;if(c==null)It(null,null,v,x,L,T,I);else for(F=0;F<I;++F)L[T+F]=c[h+F]+v[x+F]&255}function wr(c,h,v,x,L,T,I){if(c==null)It(null,null,v,x,L,T,I);else{var F,M=c[h+0],V=M,ie=M;for(F=0;F<I;++F)V=ie+(M=c[h+F])-V,ie=v[x+F]+(-256&V?0>V?0:255:V)&255,V=M,L[T+F]=ie}}function Dr(c,h,v,x){var L=h.width,T=h.o;if(e(c!=null&&h!=null),0>v||0>=x||v+x>T)return null;if(!c.Cc){if(c.ga==null){var I;if(c.ga=new yr,(I=c.ga==null)||(I=h.width*h.o,e(c.Gb.length==0),c.Gb=s(I),c.Uc=0,c.Gb==null?I=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,I=1),I=!I),!I){I=c.ga;var F=c.Fa,M=c.P,V=c.qc,ie=c.mb,de=c.nb,G=M+1,se=V-1,le=I.l;if(e(F!=null&&ie!=null&&h!=null),Ts[0]=null,Ts[1]=It,Ts[2]=xr,Ts[3]=wr,I.ca=ie,I.tb=de,I.c=h.width,I.i=h.height,e(0<I.c&&0<I.i),1>=V)h=0;else if(I.$a=3&F[M+0],I.Z=F[M+0]>>2&3,I.Lc=F[M+0]>>4&3,M=F[M+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||M)h=0;else if(le.put=Ye,le.ac=ki,le.bc=Ki,le.ma=I,le.width=h.width,le.height=h.height,le.Da=h.Da,le.v=h.v,le.va=h.va,le.j=h.j,le.o=h.o,I.$a)e:{e(I.$a==1),h=ya();t:for(;;){if(h==null){h=0;break e}if(e(I!=null),I.mc=h,h.c=I.c,h.i=I.i,h.l=I.l,h.l.ma=I,h.l.width=I.c,h.l.height=I.i,h.a=0,ee(h.m,F,G,se),!Ai(I.c,I.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&ti(h.s)?(I.ic=1,F=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(F),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(I.ic=0,h=wa(h,I.c)),!h))break t;h=1;break e}I.mc=null,h=0}else h=se>=I.c*I.i;I=!h}if(I)return null;c.ga.Lc!=1?c.Ga=0:x=T-v}e(c.ga!=null),e(v+x<=T);e:{if(h=(F=c.ga).c,T=F.l.o,F.$a==0){if(G=c.rc,se=c.Vc,le=c.Fa,M=c.P+1+v*h,V=c.mb,ie=c.nb+v*h,e(M<=c.P+c.qc),F.Z!=0)for(e(Ts[F.Z]!=null),I=0;I<x;++I)Ts[F.Z](G,se,le,M,V,ie,h),G=V,se=ie,ie+=h,M+=h;else for(I=0;I<x;++I)n(V,ie,le,M,h),G=V,se=ie,ie+=h,M+=h;c.rc=G,c.Vc=se}else{if(e(F.mc!=null),h=v+x,e((I=F.mc)!=null),e(h<=I.i),I.C>=h)h=1;else if(F.ic||Ea(),F.ic){F=I.V,G=I.Ba,se=I.c;var ye=I.i,ue=(le=1,M=I.$/se,V=I.$%se,ie=I.m,de=I.s,I.$),we=se*ye,_e=se*h,je=de.wc,Ne=ue<_e?Rr(de,V,M):null;e(ue<=we),e(h<=ye),e(ti(de));t:for(;;){for(;!ie.h&&ue<_e;){if(V&je||(Ne=Rr(de,V,M)),e(Ne!=null),oe(ie),256>(ye=tr(Ne.G[0],Ne.H[0],ie)))F[G+ue]=ye,++ue,++V>=se&&(V=0,++M<=h&&!(M%16)&&ri(I,M));else{if(!(280>ye)){le=0;break t}ye=Un(ye-256,ie);var We,Fe=tr(Ne.G[4],Ne.H[4],ie);if(oe(ie),!(ue>=(Fe=qn(se,Fe=Un(Fe,ie)))&&we-ue>=ye)){le=0;break t}for(We=0;We<ye;++We)F[G+ue+We]=F[G+ue+We-Fe];for(ue+=ye,V+=ye;V>=se;)V-=se,++M<=h&&!(M%16)&&ri(I,M);ue<_e&&V&je&&(Ne=Rr(de,V,M))}e(ie.h==Z(ie))}ri(I,M>h?h:M);break t}!le||ie.h&&ue<we?(le=0,I.a=ie.h?5:3):I.$=ue,h=le}else h=ni(I,I.V,I.Ba,I.c,I.i,h,co);if(!h){x=0;break e}}v+x>=T&&(c.Cc=1),x=1}if(!x)return null;if(c.Cc&&((x=c.ga)!=null&&(x.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+v*L}function Zi(c,h,v,x,L,T){for(;0<L--;){var I,F=c,M=h+(v?1:0),V=c,ie=h+(v?0:3);for(I=0;I<x;++I){var de=V[ie+4*I];de!=255&&(de*=32897,F[M+4*I+0]=F[M+4*I+0]*de>>23,F[M+4*I+1]=F[M+4*I+1]*de>>23,F[M+4*I+2]=F[M+4*I+2]*de>>23)}h+=T}}function js(c,h,v,x,L){for(;0<x--;){var T;for(T=0;T<v;++T){var I=c[h+2*T+0],F=15&(V=c[h+2*T+1]),M=4369*F,V=(240&V|V>>4)*M>>16;c[h+2*T+0]=(240&I|I>>4)*M>>16&240|(15&I|I<<4)*M>>16>>4&15,c[h+2*T+1]=240&V|F}h+=L}}function ff(c,h,v,x,L,T,I,F){var M,V,ie=255;for(V=0;V<L;++V){for(M=0;M<x;++M){var de=c[h+M];T[I+4*M]=de,ie&=de}h+=v,I+=F}return ie!=255}function xu(c,h,v,x,L){var T;for(T=0;T<L;++T)v[x+T]=c[h+T]>>8}function Ea(){Gl=Zi,Em=js,Lm=ff,Cm=xu}function si(c,h,v){B[c]=function(x,L,T,I,F,M,V,ie,de,G,se,le,ye,ue,we,_e,je){var Ne,We=je-1>>1,Fe=F[M+0]|V[ie+0]<<16,pt=de[G+0]|se[le+0]<<16;e(x!=null);var Me=3*Fe+pt+131074>>2;for(h(x[L+0],255&Me,Me>>16,ye,ue),T!=null&&(Me=3*pt+Fe+131074>>2,h(T[I+0],255&Me,Me>>16,we,_e)),Ne=1;Ne<=We;++Ne){var wt=F[M+Ne]|V[ie+Ne]<<16,Nr=de[G+Ne]|se[le+Ne]<<16,mt=Fe+wt+pt+Nr+524296,Be=mt+2*(wt+pt)>>3;Me=Be+Fe>>1,Fe=(mt=mt+2*(Fe+Nr)>>3)+wt>>1,h(x[L+2*Ne-1],255&Me,Me>>16,ye,ue+(2*Ne-1)*v),h(x[L+2*Ne-0],255&Fe,Fe>>16,ye,ue+(2*Ne-0)*v),T!=null&&(Me=mt+pt>>1,Fe=Be+Nr>>1,h(T[I+2*Ne-1],255&Me,Me>>16,we,_e+(2*Ne-1)*v),h(T[I+2*Ne+0],255&Fe,Fe>>16,we,_e+(2*Ne+0)*v)),Fe=wt,pt=Nr}1&je||(Me=3*Fe+pt+131074>>2,h(x[L+je-1],255&Me,Me>>16,ye,ue+(je-1)*v),T!=null&&(Me=3*pt+Fe+131074>>2,h(T[I+je-1],255&Me,Me>>16,we,_e+(je-1)*v)))}}function Bl(){Vn[ju]=E_,Vn[Au]=qm,Vn[Rm]=L_,Vn[Eu]=$m,Vn[Lu]=zm,Vn[gf]=Wm,Vn[Dm]=C_,Vn[vf]=qm,Vn[yf]=$m,Vn[Cu]=zm,Vn[wf]=Wm}function yo(c){return c&-16384?0>c?0:255:c>>P_}function As(c,h){return yo((19077*c>>8)+(26149*h>>8)-14234)}function Tr(c,h,v){return yo((19077*c>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function es(c,h){return yo((19077*c>>8)+(33050*h>>8)-17685)}function ts(c,h,v,x,L){x[L+0]=As(c,v),x[L+1]=Tr(c,h,v),x[L+2]=es(c,h)}function wo(c,h,v,x,L){x[L+0]=es(c,h),x[L+1]=Tr(c,h,v),x[L+2]=As(c,v)}function Ul(c,h,v,x,L){var T=Tr(c,h,v);h=T<<3&224|es(c,h)>>3,x[L+0]=248&As(c,v)|T>>5,x[L+1]=h}function tn(c,h,v,x,L){var T=240&es(c,h)|15;x[L+0]=240&As(c,v)|Tr(c,h,v)>>4,x[L+1]=T}function Su(c,h,v,x,L){x[L+0]=255,ts(c,h,v,x,L+1)}function bo(c,h,v,x,L){wo(c,h,v,x,L),x[L+3]=255}function Nu(c,h,v,x,L){ts(c,h,v,x,L),x[L+3]=255}function Sr(c,h){return 0>c?0:c>h?h:c}function Wn(c,h,v){B[c]=function(x,L,T,I,F,M,V,ie,de){for(var G=ie+(-2&de)*v;ie!=G;)h(x[L+0],T[I+0],F[M+0],V,ie),h(x[L+1],T[I+0],F[M+0],V,ie+v),L+=2,++I,++M,ie+=2*v;1&de&&h(x[L+0],T[I+0],F[M+0],V,ie)}}function ql(c,h,v){return v==0?c==0?h==0?6:5:h==0?4:0:v}function $l(c,h,v,x,L){switch(c>>>30){case 3:ur(h,v,x,L,0);break;case 2:ns(h,v,x,L);break;case 1:Ii(h,v,x,L)}}function Es(c,h){var v,x,L=h.M,T=h.Nb,I=c.oc,F=c.pc+40,M=c.oc,V=c.pc+584,ie=c.oc,de=c.pc+600;for(v=0;16>v;++v)I[F+32*v-1]=129;for(v=0;8>v;++v)M[V+32*v-1]=129,ie[de+32*v-1]=129;for(0<L?I[F-1-32]=M[V-1-32]=ie[de-1-32]=129:(i(I,F-32-1,127,21),i(M,V-32-1,127,9),i(ie,de-32-1,127,9)),x=0;x<c.za;++x){var G=h.ya[h.aa+x];if(0<x){for(v=-1;16>v;++v)n(I,F+32*v-4,I,F+32*v+12,4);for(v=-1;8>v;++v)n(M,V+32*v-4,M,V+32*v+4,4),n(ie,de+32*v-4,ie,de+32*v+4,4)}var se=c.Gd,le=c.Hd+x,ye=G.ad,ue=G.Hc;if(0<L&&(n(I,F-32,se[le].y,0,16),n(M,V-32,se[le].f,0,8),n(ie,de-32,se[le].ea,0,8)),G.Za){var we=I,_e=F-32+16;for(0<L&&(x>=c.za-1?i(we,_e,se[le].y[15],4):n(we,_e,se[le+1].y,0,4)),v=0;4>v;v++)we[_e+128+v]=we[_e+256+v]=we[_e+384+v]=we[_e+0+v];for(v=0;16>v;++v,ue<<=2)we=I,_e=F+Vm[v],ai[G.Ob[v]](we,_e),$l(ue,ye,16*+v,we,_e)}else if(we=ql(x,L,G.Ob[0]),Ps[we](I,F),ue!=0)for(v=0;16>v;++v,ue<<=2)$l(ue,ye,16*+v,I,F+Vm[v]);for(v=G.Gc,we=ql(x,L,G.Dd),is[we](M,V),is[we](ie,de),ue=ye,we=M,_e=V,255&(G=0|v)&&(170&G?ko(ue,256,we,_e):Vl(ue,256,we,_e)),G=ie,ue=de,255&(v>>=8)&&(170&v?ko(ye,320,G,ue):Vl(ye,320,G,ue)),L<c.Ub-1&&(n(se[le].y,0,I,F+480,16),n(se[le].f,0,M,V+224,8),n(se[le].ea,0,ie,de+224,8)),v=8*T*c.B,se=c.sa,le=c.ta+16*x+16*T*c.R,ye=c.qa,G=c.ra+8*x+v,ue=c.Ha,we=c.Ia+8*x+v,v=0;16>v;++v)n(se,le+v*c.R,I,F+32*v,16);for(v=0;8>v;++v)n(ye,G+v*c.B,M,V+32*v,8),n(ue,we+v*c.B,ie,de+32*v,8)}}function _o(c,h,v,x,L,T,I,F,M){var V=[0],ie=[0],de=0,G=M!=null?M.kd:0,se=M??new Ze;if(c==null||12>v)return 7;se.data=c,se.w=h,se.ha=v,h=[h],v=[v],se.gb=[se.gb];e:{var le=h,ye=v,ue=se.gb;if(e(c!=null),e(ye!=null),e(ue!=null),ue[0]=0,12<=ye[0]&&!r(c,le[0],"RIFF")){if(r(c,le[0]+8,"WEBP")){ue=3;break e}var we=fe(c,le[0]+4);if(12>we||4294967286<we){ue=3;break e}if(G&&we>ye[0]-8){ue=7;break e}ue[0]=we,le[0]+=12,ye[0]-=12}ue=0}if(ue!=0)return ue;for(we=0<se.gb[0],v=v[0];;){e:{var _e=c;ye=h,ue=v;var je=V,Ne=ie,We=le=[0];if((Me=de=[de])[0]=0,8>ue[0])ue=7;else{if(!r(_e,ye[0],"VP8X")){if(fe(_e,ye[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Fe=fe(_e,ye[0]+8),pt=1+Le(_e,ye[0]+12);if(2147483648<=pt*(_e=1+Le(_e,ye[0]+15))){ue=3;break e}We!=null&&(We[0]=Fe),je!=null&&(je[0]=pt),Ne!=null&&(Ne[0]=_e),ye[0]+=18,ue[0]-=18,Me[0]=1}ue=0}}if(de=de[0],le=le[0],ue!=0)return ue;if(ye=!!(2&le),!we&&de)return 3;if(T!=null&&(T[0]=!!(16&le)),I!=null&&(I[0]=ye),F!=null&&(F[0]=0),I=V[0],le=ie[0],de&&ye&&M==null){ue=0;break}if(4>v){ue=7;break}if(we&&de||!we&&!de&&!r(c,h[0],"ALPH")){v=[v],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{Fe=c,ue=h,we=v;var Me=se.gb;je=se.na,Ne=se.P,We=se.Sa,pt=22,e(Fe!=null),e(we!=null),_e=ue[0];var wt=we[0];for(e(je!=null),e(We!=null),je[0]=null,Ne[0]=null,We[0]=0;;){if(ue[0]=_e,we[0]=wt,8>wt){ue=7;break e}var Nr=fe(Fe,_e+4);if(4294967286<Nr){ue=3;break e}var mt=8+Nr+1&-2;if(pt+=mt,0<Me&&pt>Me){ue=3;break e}if(!r(Fe,_e,"VP8 ")||!r(Fe,_e,"VP8L")){ue=0;break e}if(wt[0]<mt){ue=7;break e}r(Fe,_e,"ALPH")||(je[0]=Fe,Ne[0]=_e+8,We[0]=Nr),_e+=mt,wt-=mt}}if(v=v[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],ue!=0)break}v=[v],se.Ja=[se.Ja],se.xa=[se.xa];e:if(Me=c,ue=h,we=v,je=se.gb[0],Ne=se.Ja,We=se.xa,Fe=ue[0],_e=!r(Me,Fe,"VP8 "),pt=!r(Me,Fe,"VP8L"),e(Me!=null),e(we!=null),e(Ne!=null),e(We!=null),8>we[0])ue=7;else{if(_e||pt){if(Me=fe(Me,Fe+4),12<=je&&Me>je-12){ue=3;break e}if(G&&Me>we[0]-8){ue=7;break e}Ne[0]=Me,ue[0]+=8,we[0]-=8,We[0]=pt}else We[0]=5<=we[0]&&Me[Fe+0]==47&&!(Me[Fe+4]>>5),Ne[0]=we[0];ue=0}if(v=v[0],se.Ja=se.Ja[0],se.xa=se.xa[0],h=h[0],ue!=0)break;if(4294967286<se.Ja)return 3;if(F==null||ye||(F[0]=se.xa?2:1),I=[I],le=[le],se.xa){if(5>v){ue=7;break}F=I,G=le,ye=T,c==null||5>v?c=0:5<=v&&c[h+0]==47&&!(c[h+4]>>5)?(we=[0],Me=[0],je=[0],ee(Ne=new H,c,h,v),Ji(Ne,we,Me,je)?(F!=null&&(F[0]=we[0]),G!=null&&(G[0]=Me[0]),ye!=null&&(ye[0]=je[0]),c=1):c=0):c=0}else{if(10>v){ue=7;break}F=le,c==null||10>v||!yu(c,h+3,v-3)?c=0:(G=c[h+0]|c[h+1]<<8|c[h+2]<<16,ye=16383&(c[h+7]<<8|c[h+6]),c=16383&(c[h+9]<<8|c[h+8]),1&G||3<(G>>1&7)||!(G>>4&1)||G>>5>=se.Ja||!ye||!c?c=0:(I&&(I[0]=ye),F&&(F[0]=c),c=1))}if(!c||(I=I[0],le=le[0],de&&(V[0]!=I||ie[0]!=le)))return 3;M!=null&&(M[0]=se,M.offset=h-M.w,e(4294967286>h-M.w),e(M.offset==M.ha-v));break}return ue==0||ue==7&&de&&M==null?(T!=null&&(T[0]|=se.na!=null&&0<se.na.length),x!=null&&(x[0]=I),L!=null&&(L[0]=le),0):ue}function dn(c,h,v){var x=h.width,L=h.height,T=0,I=0,F=x,M=L;if(h.Da=c!=null&&0<c.Da,h.Da&&(F=c.cd,M=c.bd,T=c.v,I=c.j,11>v||(T&=-2,I&=-2),0>T||0>I||0>=F||0>=M||T+F>x||I+M>L))return 0;if(h.v=T,h.j=I,h.va=T+F,h.o=I+M,h.U=F,h.T=M,h.da=c!=null&&0<c.da,h.da){if(!Ke(F,M,v=[c.ib],T=[c.hb]))return 0;h.ib=v[0],h.hb=T[0]}return h.ob=c!=null&&c.ob,h.Kb=c==null||!c.Sd,h.da&&(h.ob=h.ib<3*x/4&&h.hb<3*L/4,h.Kb=0),1}function hn(c){if(c==null)return 2;if(11>c.S){var h=c.f.RGBA;h.fb+=(c.height-1)*h.A,h.A=-h.A}else h=c.f.kb,c=c.height,h.O+=(c-1)*h.fa,h.fa=-h.fa,h.N+=(c-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(c-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(c-1)*h.lb,h.lb=-h.lb);return 0}function La(c,h,v,x){if(x==null||0>=c||0>=h)return 2;if(v!=null){if(v.Da){var L=v.cd,T=v.bd,I=-2&v.v,F=-2&v.j;if(0>I||0>F||0>=L||0>=T||I+L>c||F+T>h)return 2;c=L,h=T}if(v.da){if(!Ke(c,h,L=[v.ib],T=[v.hb]))return 2;c=L[0],h=T[0]}}x.width=c,x.height=h;e:{var M=x.width,V=x.height;if(c=x.S,0>=M||0>=V||!(c>=ju&&13>c))c=2;else{if(0>=x.Rd&&x.sd==null){I=T=L=h=0;var ie=(F=M*Gm[c])*V;if(11>c||(T=(V+1)/2*(h=(M+1)/2),c==12&&(I=(L=M)*V)),(V=s(ie+2*T+I))==null){c=1;break e}x.sd=V,11>c?((M=x.f.RGBA).eb=V,M.fb=0,M.A=F,M.size=ie):((M=x.f.kb).y=V,M.O=0,M.fa=F,M.Fd=ie,M.f=V,M.N=0+ie,M.Ab=h,M.Cd=T,M.ea=V,M.W=0+ie+T,M.Db=h,M.Ed=T,c==12&&(M.F=V,M.J=0+ie+2*T),M.Tc=I,M.lb=L)}if(h=1,L=x.S,T=x.width,I=x.height,L>=ju&&13>L)if(11>L)c=x.f.RGBA,h&=(F=Math.abs(c.A))*(I-1)+T<=c.size,h&=F>=T*Gm[L],h&=c.eb!=null;else{c=x.f.kb,F=(T+1)/2,ie=(I+1)/2,M=Math.abs(c.fa),V=Math.abs(c.Ab);var de=Math.abs(c.Db),G=Math.abs(c.lb),se=G*(I-1)+T;h&=M*(I-1)+T<=c.Fd,h&=V*(ie-1)+F<=c.Cd,h=(h&=de*(ie-1)+F<=c.Ed)&M>=T&V>=F&de>=F,h&=c.y!=null,h&=c.f!=null,h&=c.ea!=null,L==12&&(h&=G>=T,h&=se<=c.Tc,h&=c.F!=null)}else h=0;c=h?0:2}}return c!=0||v!=null&&v.fd&&(c=hn(x)),c}var Ci=64,Ls=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zl=24,Cs=32,lr=8,pf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Te("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(c){return c},B.Predictor2=function(c,h,v){return h[v+0]},B.Predictor3=function(c,h,v){return h[v+1]},B.Predictor4=function(c,h,v){return h[v-1]},B.Predictor5=function(c,h,v){return He(He(c,h[v+1]),h[v+0])},B.Predictor6=function(c,h,v){return He(c,h[v-1])},B.Predictor7=function(c,h,v){return He(c,h[v+0])},B.Predictor8=function(c,h,v){return He(h[v-1],h[v+0])},B.Predictor9=function(c,h,v){return He(h[v+0],h[v+1])},B.Predictor10=function(c,h,v){return He(He(c,h[v-1]),He(h[v+0],h[v+1]))},B.Predictor11=function(c,h,v){var x=h[v+0];return 0>=Oe(x>>24&255,c>>24&255,(h=h[v-1])>>24&255)+Oe(x>>16&255,c>>16&255,h>>16&255)+Oe(x>>8&255,c>>8&255,h>>8&255)+Oe(255&x,255&c,255&h)?x:c},B.Predictor12=function(c,h,v){var x=h[v+0];return(xt((c>>24&255)+(x>>24&255)-((h=h[v-1])>>24&255))<<24|xt((c>>16&255)+(x>>16&255)-(h>>16&255))<<16|xt((c>>8&255)+(x>>8&255)-(h>>8&255))<<8|xt((255&c)+(255&x)-(255&h)))>>>0},B.Predictor13=function(c,h,v){var x=h[v-1];return(Xe((c=He(c,h[v+0]))>>24&255,x>>24&255)<<24|Xe(c>>16&255,x>>16&255)<<16|Xe(c>>8&255,x>>8&255)<<8|Xe(255&c,255&x))>>>0};var Pi=B.PredictorAdd0;B.PredictorAdd1=St,Te("Predictor2","PredictorAdd2"),Te("Predictor3","PredictorAdd3"),Te("Predictor4","PredictorAdd4"),Te("Predictor5","PredictorAdd5"),Te("Predictor6","PredictorAdd6"),Te("Predictor7","PredictorAdd7"),Te("Predictor8","PredictorAdd8"),Te("Predictor9","PredictorAdd9"),Te("Predictor10","PredictorAdd10"),Te("Predictor11","PredictorAdd11"),Te("Predictor12","PredictorAdd12"),Te("Predictor13","PredictorAdd13");var Ti=B.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var xo,Wl=B.ColorIndexInverseTransform,So=B.MapARGB,No=B.VP8LColorIndexInverseTransformAlpha,Ca=B.MapAlpha,Pa=B.VP8LPredictorsAdd=[];Pa.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var rs,Hl,kn,Oi,Ut,qt,cr,ur,ns,ko,Ii,Vl,gm,vm,ym,wm,bm,_m,xm,Sm,Nm,km,jm,Am,Gl,Em,Lm,Cm,Pm=s(511),Tm=s(2041),Om=s(225),Im=s(767),Fm=0,mf=Tm,ku=Om,jn=Im,Hn=Pm,ju=0,Au=1,Rm=2,Eu=3,Lu=4,gf=5,Dm=6,vf=7,yf=8,Cu=9,wf=10,p_=[2,3,7],m_=[3,3,11],Mm=[280,256,256,256,40],g_=[0,1,1,1,0],v_=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],y_=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],w_=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],b_=8,bf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],_f=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Kl=null,__=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],x_=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Bm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],S_=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],N_=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],k_=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],j_=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ps=[],ai=[],is=[],A_=1,Um=2,Ts=[],Vn=[];si("UpsampleRgbLinePair",ts,3),si("UpsampleBgrLinePair",wo,3),si("UpsampleRgbaLinePair",Nu,4),si("UpsampleBgraLinePair",bo,4),si("UpsampleArgbLinePair",Su,4),si("UpsampleRgba4444LinePair",tn,2),si("UpsampleRgb565LinePair",Ul,2);var E_=B.UpsampleRgbLinePair,L_=B.UpsampleBgrLinePair,qm=B.UpsampleRgbaLinePair,$m=B.UpsampleBgraLinePair,zm=B.UpsampleArgbLinePair,Wm=B.UpsampleRgba4444LinePair,C_=B.UpsampleRgb565LinePair,Pu=16,Tu=1<<Pu-1,Jl=-227,xf=482,P_=6,Hm=0,T_=s(256),O_=s(256),I_=s(256),F_=s(256),R_=s(xf-Jl),D_=s(xf-Jl);Wn("YuvToRgbRow",ts,3),Wn("YuvToBgrRow",wo,3),Wn("YuvToRgbaRow",Nu,4),Wn("YuvToBgraRow",bo,4),Wn("YuvToArgbRow",Su,4),Wn("YuvToRgba4444Row",tn,2),Wn("YuvToRgb565Row",Ul,2);var Vm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ou=[0,2,8],M_=[8,7,6,4,4,2,2,2,1,1,1,1],B_=1;this.WebPDecodeRGBA=function(c,h,v,x,L){var T=Au,I=new Ue,F=new Rt;I.ba=F,F.S=T,F.width=[F.width],F.height=[F.height];var M=F.width,V=F.height,ie=new rt;if(ie==null||c==null)var de=2;else e(ie!=null),de=_o(c,h,v,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(de!=0?M=0:(M!=null&&(M[0]=ie.width[0]),V!=null&&(V[0]=ie.height[0]),M=1),M){F.width=F.width[0],F.height=F.height[0],x!=null&&(x[0]=F.width),L!=null&&(L[0]=F.height);e:{if(x=new fo,(L=new Ze).data=c,L.w=h,L.ha=v,L.kd=1,h=[0],e(L!=null),((c=_o(L.data,L.w,L.ha,null,null,null,h,null,L))==0||c==7)&&h[0]&&(c=4),(h=c)==0){if(e(I!=null),x.data=L.data,x.w=L.w+L.offset,x.ha=L.ha-L.offset,x.put=Ye,x.ac=ki,x.bc=Ki,x.ma=I,L.xa){if((c=ya())==null){I=1;break e}if(function(G,se){var le=[0],ye=[0],ue=[0];t:for(;;){if(G==null)return 0;if(se==null)return G.a=2,0;if(G.l=se,G.a=0,ee(G.m,se.data,se.w,se.ha),!Ji(G.m,le,ye,ue)){G.a=3;break t}if(G.xb=Um,se.width=le[0],se.height=ye[0],!Ai(le[0],ye[0],1,G,null))break t;return 1}return e(G.a!=0),0}(c,x)){if(x=(h=La(x.width,x.height,I.Oa,I.ba))==0){t:{x=c;r:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((v=x.l)!=null),e((L=v.ma)!=null),x.xb!=0){if(x.ca=L.ba,x.tb=L.tb,e(x.ca!=null),!dn(L.Oa,v,Eu)){x.a=2;break r}if(!wa(x,v.width)||v.da)break r;if((v.da||ot(x.ca.S))&&Ea(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&Ea()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!Y(x.s.vb,x.s.Wa.Xa)){x.a=1;break r}x.xb=0}if(!ni(x,x.V,x.Ba,x.c,x.i,v.o,Ss))break r;L.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(h=c.a)}else h=c.a}else{if((c=new Xh)==null){I=1;break e}if(c.Fa=L.na,c.P=L.P,c.qc=L.Sa,wu(c,x)){if((h=La(x.width,x.height,I.Oa,I.ba))==0){if(c.Aa=0,v=I.Oa,e((L=c)!=null),v!=null){if(0<(M=0>(M=v.Md)?0:100<M?255:255*M/100)){for(V=ie=0;4>V;++V)12>(de=L.pb[V]).lc&&(de.ia=M*M_[0>de.lc?0:de.lc]>>3),ie|=de.ia;ie&&(alert("todo:VP8InitRandom"),L.ia=1)}L.Ga=v.Id,100<L.Ga?L.Ga=100:0>L.Ga&&(L.Ga=0)}(function(G,se){if(G==null)return 0;if(se==null)return vr(G,2,"NULL VP8Io parameter in VP8Decode().");if(!G.cb&&!wu(G,se))return 0;if(e(G.cb),se.ac==null||se.ac(se)){se.ob&&(G.L=0);var le=Ou[G.L];if(G.L==2?(G.yb=0,G.zb=0):(G.yb=se.v-le>>4,G.zb=se.j-le>>4,0>G.yb&&(G.yb=0),0>G.zb&&(G.zb=0)),G.Va=se.o+15+le>>4,G.Hb=se.va+15+le>>4,G.Hb>G.za&&(G.Hb=G.za),G.Va>G.Ub&&(G.Va=G.Ub),0<G.L){var ye=G.ed;for(le=0;4>le;++le){var ue;if(G.Qa.Cb){var we=G.Qa.Lb[le];G.Qa.Fb||(we+=ye.Tb)}else we=ye.Tb;for(ue=0;1>=ue;++ue){var _e=G.gd[le][ue],je=we;if(ye.Pc&&(je+=ye.vd[0],ue&&(je+=ye.od[0])),0<(je=0>je?0:63<je?63:je)){var Ne=je;0<ye.wb&&(Ne=4<ye.wb?Ne>>2:Ne>>1)>9-ye.wb&&(Ne=9-ye.wb),1>Ne&&(Ne=1),_e.dd=Ne,_e.tc=2*je+Ne,_e.ld=40<=je?2:15<=je?1:0}else _e.tc=0;_e.La=ue}}}le=0}else vr(G,6,"Frame setup failed"),le=G.a;if(le=le==0){if(le){G.$c=0,0<G.Aa||(G.Ic=B_);t:{le=G.Ic,ye=4*(Ne=G.za);var We=32*Ne,Fe=Ne+1,pt=0<G.L?Ne*(0<G.Aa?2:1):0,Me=(G.Aa==2?2:1)*Ne;if((_e=ye+832+(ue=3*(16*le+Ou[G.L])/2*We)+(we=G.Fa!=null&&0<G.Fa.length?G.Kc.c*G.Kc.i:0))!=_e)le=0;else{if(_e>G.Vb){if(G.Vb=0,G.Ec=s(_e),G.Fc=0,G.Ec==null){le=vr(G,1,"no memory during frame initialization.");break t}G.Vb=_e}_e=G.Ec,je=G.Fc,G.Ac=_e,G.Bc=je,je+=ye,G.Gd=a(We,gu),G.Hd=0,G.rb=a(Fe+1,jl),G.sb=1,G.wa=pt?a(pt,zn):null,G.Y=0,G.D.Nb=0,G.D.wa=G.wa,G.D.Y=G.Y,0<G.Aa&&(G.D.Y+=Ne),e(!0),G.oc=_e,G.pc=je,je+=832,G.ya=a(Me,Al),G.aa=0,G.D.ya=G.ya,G.D.aa=G.aa,G.Aa==2&&(G.D.aa+=Ne),G.R=16*Ne,G.B=8*Ne,Ne=(We=Ou[G.L])*G.R,We=We/2*G.B,G.sa=_e,G.ta=je+Ne,G.qa=G.sa,G.ra=G.ta+16*le*G.R+We,G.Ha=G.qa,G.Ia=G.ra+8*le*G.B+We,G.$c=0,je+=ue,G.mb=we?_e:null,G.nb=we?je:null,e(je+we<=G.Fc+G.Vb),ba(G),i(G.Ac,G.Bc,0,ye),le=1}}if(le){if(se.ka=0,se.y=G.sa,se.O=G.ta,se.f=G.qa,se.N=G.ra,se.ea=G.Ha,se.Vd=G.Ia,se.fa=G.R,se.Rc=G.B,se.F=null,se.J=0,!Fm){for(le=-255;255>=le;++le)Pm[255+le]=0>le?-le:le;for(le=-1020;1020>=le;++le)Tm[1020+le]=-128>le?-128:127<le?127:le;for(le=-112;112>=le;++le)Om[112+le]=-16>le?-16:15<le?15:le;for(le=-255;510>=le;++le)Im[255+le]=0>le?0:255<le?255:le;Fm=1}cr=_u,ur=Zh,ko=ef,Ii=Ei,Vl=bu,ns=Qh,gm=g,vm=C,ym=ae,wm=be,bm=K,_m=te,xm=ke,Sm=De,Nm=Rl,km=Aa,jm=Dl,Am=Ml,ai[0]=lf,ai[1]=Ll,ai[2]=af,ai[3]=of,ai[4]=cf,ai[5]=Qi,ai[6]=Xi,ai[7]=uf,ai[8]=po,ai[9]=df,Ps[0]=ks,Ps[1]=rf,Ps[2]=nf,Ps[3]=Cl,Ps[4]=sf,Ps[5]=Sa,Ps[6]=Pl,is[0]=go,is[1]=tf,is[2]=Tl,is[3]=Na,is[4]=Ol,is[5]=hf,is[6]=Il,le=1}else le=0}le&&(le=function(wt,Nr){for(wt.M=0;wt.M<wt.Va;++wt.M){var mt,Be=wt.Jc[wt.M&wt.Xb],Pe=wt.m,dr=wt;for(mt=0;mt<dr.za;++mt){var lt=Pe,_t=dr,Ht=_t.Ac,Mr=_t.Bc+4*mt,rn=_t.zc,rr=_t.ya[_t.aa+mt];if(_t.Qa.Bb?rr.$b=xe(lt,_t.Pa.jb[0])?2+xe(lt,_t.Pa.jb[2]):xe(lt,_t.Pa.jb[1]):rr.$b=0,_t.kc&&(rr.Ad=xe(lt,_t.Bd)),rr.Za=!xe(lt,145)+0,rr.Za){var Hr=rr.Ob,nn=0;for(_t=0;4>_t;++_t){var kr,Nt=rn[0+_t];for(kr=0;4>kr;++kr){Nt=N_[Ht[Mr+kr]][Nt];for(var Lt=Bm[xe(lt,Nt[0])];0<Lt;)Lt=Bm[2*Lt+xe(lt,Nt[Lt])];Nt=-Lt,Ht[Mr+kr]=Nt}n(Hr,nn,Ht,Mr,4),nn+=4,rn[0+_t]=Nt}}else Nt=xe(lt,156)?xe(lt,128)?1:3:xe(lt,163)?2:0,rr.Ob[0]=Nt,i(Ht,Mr,Nt,4),i(rn,0,Nt,4);rr.Dd=xe(lt,142)?xe(lt,114)?xe(lt,183)?1:3:2:0}if(dr.m.Ka)return vr(wt,7,"Premature end-of-partition0 encountered.");for(;wt.ja<wt.za;++wt.ja){if(dr=Be,lt=(Pe=wt).rb[Pe.sb-1],Ht=Pe.rb[Pe.sb+Pe.ja],mt=Pe.ya[Pe.aa+Pe.ja],Mr=Pe.kc?mt.Ad:0)lt.la=Ht.la=0,mt.Za||(lt.Na=Ht.Na=0),mt.Hc=0,mt.Gc=0,mt.ia=0;else{var nr,Ct;if(lt=Ht,Ht=dr,Mr=Pe.Pa.Xc,rn=Pe.ya[Pe.aa+Pe.ja],rr=Pe.pb[rn.$b],_t=rn.ad,Hr=0,nn=Pe.rb[Pe.sb-1],Nt=kr=0,i(_t,Hr,0,384),rn.Za)var Br=0,oi=Mr[3];else{Lt=s(16);var hr=lt.Na+nn.Na;if(hr=Kl(Ht,Mr[1],hr,rr.Eb,0,Lt,0),lt.Na=nn.Na=(0<hr)+0,1<hr)cr(Lt,0,_t,Hr);else{var fn=Lt[0]+3>>3;for(Lt=0;256>Lt;Lt+=16)_t[Hr+Lt]=fn}Br=1,oi=Mr[0]}var Dt=15&lt.la,jr=15&nn.la;for(Lt=0;4>Lt;++Lt){var An=1&jr;for(fn=Ct=0;4>fn;++fn)Dt=Dt>>1|(An=(hr=Kl(Ht,oi,hr=An+(1&Dt),rr.Sc,Br,_t,Hr))>Br)<<7,Ct=Ct<<2|(3<hr?3:1<hr?2:_t[Hr+0]!=0),Hr+=16;Dt>>=4,jr=jr>>1|An<<7,kr=(kr<<8|Ct)>>>0}for(oi=Dt,Br=jr>>4,nr=0;4>nr;nr+=2){for(Ct=0,Dt=lt.la>>4+nr,jr=nn.la>>4+nr,Lt=0;2>Lt;++Lt){for(An=1&jr,fn=0;2>fn;++fn)hr=An+(1&Dt),Dt=Dt>>1|(An=0<(hr=Kl(Ht,Mr[2],hr,rr.Qc,0,_t,Hr)))<<3,Ct=Ct<<2|(3<hr?3:1<hr?2:_t[Hr+0]!=0),Hr+=16;Dt>>=2,jr=jr>>1|An<<5}Nt|=Ct<<4*nr,oi|=Dt<<4<<nr,Br|=(240&jr)<<nr}lt.la=oi,nn.la=Br,rn.Hc=kr,rn.Gc=Nt,rn.ia=43690&Nt?0:rr.ia,Mr=!(kr|Nt)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[mt.$b][mt.Za],Pe.wa[Pe.Y+Pe.ja].La|=!Mr),dr.Ka)return vr(wt,7,"Premature end-of-file encountered.")}if(ba(wt),Pe=Nr,dr=1,mt=(Be=wt).D,lt=0<Be.L&&Be.M>=Be.zb&&Be.M<=Be.Va,Be.Aa==0)t:{if(mt.M=Be.M,mt.uc=lt,Es(Be,mt),dr=1,mt=(Ct=Be.D).Nb,lt=(Nt=Ou[Be.L])*Be.R,Ht=Nt/2*Be.B,Lt=16*mt*Be.R,fn=8*mt*Be.B,Mr=Be.sa,rn=Be.ta-lt+Lt,rr=Be.qa,_t=Be.ra-Ht+fn,Hr=Be.Ha,nn=Be.Ia-Ht+fn,jr=(Dt=Ct.M)==0,kr=Dt>=Be.Va-1,Be.Aa==2&&Es(Be,Ct),Ct.uc)for(An=(hr=Be).D.M,e(hr.D.uc),Ct=hr.yb;Ct<hr.Hb;++Ct){Br=Ct,oi=An;var sn=(En=(Ur=hr).D).Nb;nr=Ur.R;var En=En.wa[En.Y+Br],Ln=Ur.sa,pn=Ur.ta+16*sn*nr+16*Br,Cn=En.dd,$t=En.tc;if($t!=0)if(e(3<=$t),Ur.L==1)0<Br&&km(Ln,pn,nr,$t+4),En.La&&Am(Ln,pn,nr,$t),0<oi&&Nm(Ln,pn,nr,$t+4),En.La&&jm(Ln,pn,nr,$t);else{var Pn=Ur.B,li=Ur.qa,Ta=Ur.ra+8*sn*Pn+8*Br,ss=Ur.Ha,Ur=Ur.Ia+8*sn*Pn+8*Br;sn=En.ld,0<Br&&(vm(Ln,pn,nr,$t+4,Cn,sn),wm(li,Ta,ss,Ur,Pn,$t+4,Cn,sn)),En.La&&(_m(Ln,pn,nr,$t,Cn,sn),Sm(li,Ta,ss,Ur,Pn,$t,Cn,sn)),0<oi&&(gm(Ln,pn,nr,$t+4,Cn,sn),ym(li,Ta,ss,Ur,Pn,$t+4,Cn,sn)),En.La&&(bm(Ln,pn,nr,$t,Cn,sn),xm(li,Ta,ss,Ur,Pn,$t,Cn,sn))}}if(Be.ia&&alert("todo:DitherRow"),Pe.put!=null){if(Ct=16*Dt,Dt=16*(Dt+1),jr?(Pe.y=Be.sa,Pe.O=Be.ta+Lt,Pe.f=Be.qa,Pe.N=Be.ra+fn,Pe.ea=Be.Ha,Pe.W=Be.Ia+fn):(Ct-=Nt,Pe.y=Mr,Pe.O=rn,Pe.f=rr,Pe.N=_t,Pe.ea=Hr,Pe.W=nn),kr||(Dt-=Nt),Dt>Pe.o&&(Dt=Pe.o),Pe.F=null,Pe.J=null,Be.Fa!=null&&0<Be.Fa.length&&Ct<Dt&&(Pe.J=Dr(Be,Pe,Ct,Dt-Ct),Pe.F=Be.mb,Pe.F==null&&Pe.F.length==0)){dr=vr(Be,3,"Could not decode alpha data.");break t}Ct<Pe.j&&(Nt=Pe.j-Ct,Ct=Pe.j,e(!(1&Nt)),Pe.O+=Be.R*Nt,Pe.N+=Be.B*(Nt>>1),Pe.W+=Be.B*(Nt>>1),Pe.F!=null&&(Pe.J+=Pe.width*Nt)),Ct<Dt&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=Ct-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=Dt-Ct,dr=Pe.put(Pe))}mt+1!=Be.Ic||kr||(n(Be.sa,Be.ta-lt,Mr,rn+16*Be.R,lt),n(Be.qa,Be.ra-Ht,rr,_t+8*Be.B,Ht),n(Be.Ha,Be.Ia-Ht,Hr,nn+8*Be.B,Ht))}if(!dr)return vr(wt,6,"Output aborted.")}return 1}(G,se)),se.bc!=null&&se.bc(se),le&=1}return le?(G.cb=0,le):0})(c,x)||(h=c.a)}}else h=c.a}h==0&&I.Oa!=null&&I.Oa.fd&&(h=hn(I.ba))}I=h}T=I!=0?null:11>T?F.f.RGBA.eb:F.f.kb.y}else T=null;return T};var Gm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(B,W){for(var j="",A=0;A<4;A++)j+=String.fromCharCode(B[W++]);return j}function f(B,W){return B[W+0]|B[W+1]<<8}function m(B,W){return(B[W+0]|B[W+1]<<8|B[W+2]<<16)>>>0}function y(B,W){return(B[W+0]|B[W+1]<<8|B[W+2]<<16|B[W+3]<<24)>>>0}new l;var p=[0],_=[0],b=[],k=new l,w=t,N=function(B,W){var j={},A=0,$=!1,R=0,X=0;if(j.frames=[],!function(P,H){for(var J=0;J<4;J++)if(P[H+J]!="RIFF".charCodeAt(J))return!0;return!1}(B,W)){for(y(B,W+=4),W+=8;W<B.length;){var Q=u(B,W),re=y(B,W+=4);W+=4;var U=re+(1&re);switch(Q){case"VP8 ":case"VP8L":j.frames[A]===void 0&&(j.frames[A]={}),(ce=j.frames[A]).src_off=$?X:W-8,ce.src_size=R+re+8,A++,$&&($=!1,R=0,X=0);break;case"VP8X":(ce=j.header={}).feature_flags=B[W];var ee=W+4;ce.canvas_width=1+m(B,ee),ee+=3,ce.canvas_height=1+m(B,ee),ee+=3;break;case"ALPH":$=!0,R=U+8,X=W-8;break;case"ANIM":(ce=j.header).bgcolor=y(B,W),ee=W+4,ce.loop_count=f(B,ee),ee+=2;break;case"ANMF":var pe,ce;(ce=j.frames[A]={}).offset_x=2*m(B,W),W+=3,ce.offset_y=2*m(B,W),W+=3,ce.width=1+m(B,W),W+=3,ce.height=1+m(B,W),W+=3,ce.duration=m(B,W),W+=3,pe=B[W++],ce.dispose=1&pe,ce.blend=pe>>1&1}Q!="ANMF"&&(W+=U)}return j}}(w,0);N.response=w,N.rgbaoutput=!0,N.dataurl=!1;var S=N.header?N.header:null,E=N.frames?N.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],_=[S.canvas_width];for(var D=0;D<E.length&&E[D].blend!=0;D++);}var O=E[0],z=k.WebPDecodeRGBA(w,O.src_off,O.src_size,_,p);O.rgba=z,O.imgwidth=_[0],O.imgheight=p[0];for(var q=0;q<_[0]*p[0]*4;q++)b[q]=z[q];return this.width=_,this.height=p,this.data=b,this}(function(t){var e,r,n,i,s,a,o,l,u,f=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new f}]);var m=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(fe){J=!!fe}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(fe){Z=!!fe}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(fe){isNaN(fe)||(ne=fe)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(fe){isNaN(fe)||(oe=fe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(fe){var Y;typeof fe=="number"?Y=[fe,fe,fe,fe]:((Y=new Array(4))[0]=fe[0],Y[1]=fe.length>=2?fe[1]:Y[0],Y[2]=fe.length>=3?fe[2]:Y[0],Y[3]=fe.length>=4?fe[3]:Y[1]),u.margin=Y}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(fe){ge=fe}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(fe){he=fe}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(fe){xe=fe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(fe){fe instanceof f&&(u=fe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(fe){u.path=fe}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(fe){Se=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var Y;Y=y(fe),this.ctx.fillStyle=Y.style,this.ctx.isFillTransparent=Y.a===0,this.ctx.fillOpacity=Y.a,this.pdf.setFillColor(Y.r,Y.g,Y.b,{a:Y.a}),this.pdf.setTextColor(Y.r,Y.g,Y.b,{a:Y.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var Y=y(fe);this.ctx.strokeStyle=Y.style,this.ctx.isStrokeTransparent=Y.a===0,this.ctx.strokeOpacity=Y.a,Y.a===0?this.pdf.setDrawColor(255,255,255):(Y.a,this.pdf.setDrawColor(Y.r,Y.g,Y.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var Ce=null,Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(fe){Ce=null,Le=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var Y;if(this.ctx.font=fe,(Y=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(fe))!==null){var ft=Y[1];Y[2];var tt=Y[3],Ke=Y[4];Y[5];var Ae=Y[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ke)[2];Ke=Math.floor($e==="px"?parseFloat(Ke)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Ke)*this.pdf.getFontSize():parseFloat(Ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ke);var Te=function(Qe){var Ge,Bt,jt=[],ze=Qe.trim();if(ze==="")return Tp;if(ze in W5)return[W5[ze]];for(;ze!=="";){switch(Bt=null,Ge=(ze=V5(ze)).charAt(0)){case'"':case"'":Bt=hA(ze.substring(1),Ge);break;default:Bt=fA(ze)}if(Bt===null||(jt.push(Bt[0]),(ze=V5(Bt[1]))!==""&&ze.charAt(0)!==","))return Tp;ze=ze.replace(/^,/,"")}return jt}(Ae);if(this.fontFaces){var it=function(Qe,Ge){if(Ce===null){var Bt=function(jt){var ze=[];return Object.keys(jt).forEach(function(at){jt[at].forEach(function(Ft){var Je=null;switch(Ft){case"bold":Je={family:at,weight:"bold"};break;case"italic":Je={family:at,style:"italic"};break;case"bolditalic":Je={family:at,weight:"bold",style:"italic"};break;case"":case"normal":Je={family:at}}Je!==null&&(Je.ref={name:at,style:Ft},ze.push(Je))})}),ze}(Qe.getFontList());Ce=function(jt){for(var ze={},at=0;at<jt.length;++at){var Ft=Pp(jt[at]),Je=Ft.family,yt=Ft.stretch,ot=Ft.style,ar=Ft.weight;ze[Je]=ze[Je]||{},ze[Je][yt]=ze[Je][yt]||{},ze[Je][yt][ot]=ze[Je][yt][ot]||{},ze[Je][yt][ot][ar]=Ft}return ze}(Bt.concat(Ge))}return Ce}(this.pdf,this.fontFaces),He=Te.map(function(Qe){return{family:Qe,stretch:"normal",weight:tt,style:ft}}),xt=function(Qe,Ge,Bt){for(var jt=(Bt=Bt||{}).defaultFontFamily||"times",ze=Object.assign({},dA,Bt.genericFontFamilies||{}),at=null,Ft=null,Je=0;Je<Ge.length;++Je)if(ze[(at=Pp(Ge[Je])).family]&&(at.family=ze[at.family]),Qe.hasOwnProperty(at.family)){Ft=Qe[at.family];break}if(!(Ft=Ft||Qe[jt]))throw new Error("Could not find a font-family for the rule '"+H5(at)+"' and default family '"+jt+"'.");if(Ft=function(yt,ot){if(ot[yt])return ot[yt];var ar=t0[yt],_r=ar<=t0.normal?-1:1,Rt=z5(ot,o_,ar,_r);if(!Rt)throw new Error("Could not find a matching font-stretch value for "+yt);return Rt}(at.stretch,Ft),Ft=function(yt,ot){if(ot[yt])return ot[yt];for(var ar=a_[yt],_r=0;_r<ar.length;++_r)if(ot[ar[_r]])return ot[ar[_r]];throw new Error("Could not find a matching font-style for "+yt)}(at.style,Ft),!(Ft=function(yt,ot){if(ot[yt])return ot[yt];if(yt===400&&ot[500])return ot[500];if(yt===500&&ot[400])return ot[400];var ar=uA[yt],_r=z5(ot,l_,ar,yt<400?-1:1);if(!_r)throw new Error("Could not find a matching font-weight for value "+yt);return _r}(at.weight,Ft)))throw new Error("Failed to resolve a font for the rule '"+H5(at)+"'.");return Ft}(it,He);this.pdf.setFont(xt.ref.name,xt.ref.style)}else{var Xe="";(tt==="bold"||parseInt(tt,10)>=700||ft==="bold")&&(Xe="bold"),ft==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var Oe="",St={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<Te.length;ct++){if(this.pdf.internal.getFont(Te[ct],Xe,{noFallback:!0,disableWarning:!0})!==void 0){Oe=Te[ct];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Te[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Oe=Te[ct],Xe="bold";else if(this.pdf.internal.getFont(Te[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Oe=Te[ct],Xe="normal";break}}if(Oe===""){for(var Ve=0;Ve<Te.length;Ve++)if(St[Te[Ve]]){Oe=St[Te[Ve]];break}}Oe=Oe===""?"Times":Oe,this.pdf.setFont(Oe,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};m.prototype.setLineDash=function(P){this.lineDash=P},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){E.call(this,"fill",!1)},m.prototype.stroke=function(){E.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw Mt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new a(P,H));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(P,H)},m.prototype.closePath=function(){var P=new a(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Tt(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new a(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},m.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw Mt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new a(P,H));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},m.prototype.quadraticCurveTo=function(P,H,J,Z){if(isNaN(J)||isNaN(Z)||isNaN(P)||isNaN(H))throw Mt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new a(J,Z)),oe=this.ctx.transform.applyToPoint(new a(P,H));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},m.prototype.bezierCurveTo=function(P,H,J,Z,ne,oe){if(isNaN(ne)||isNaN(oe)||isNaN(P)||isNaN(H)||isNaN(J)||isNaN(Z))throw Mt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(ne,oe)),he=this.ctx.transform.applyToPoint(new a(P,H)),xe=this.ctx.transform.applyToPoint(new a(J,Z));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:xe.x,y2:xe.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},m.prototype.arc=function(P,H,J,Z,ne,oe){if(isNaN(P)||isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(ne))throw Mt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(P,H));P=ge.x,H=ge.y;var he=this.ctx.transform.applyToPoint(new a(0,J)),xe=this.ctx.transform.applyToPoint(new a(0,0));J=Math.sqrt(Math.pow(he.x-xe.x,2)+Math.pow(he.y-xe.y,2))}Math.abs(ne-Z)>=2*Math.PI&&(Z=0,ne=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:J,startAngle:Z,endAngle:ne,counterclockwise:oe})},m.prototype.arcTo=function(P,H,J,Z,ne){throw new Error("arcTo not implemented.")},m.prototype.rect=function(P,H,J,Z){if(isNaN(P)||isNaN(H)||isNaN(J)||isNaN(Z))throw Mt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+J,H),this.lineTo(P+J,H+Z),this.lineTo(P,H+Z),this.lineTo(P,H),this.lineTo(P+J,H),this.lineTo(P,H)},m.prototype.fillRect=function(P,H,J,Z){if(isNaN(P)||isNaN(H)||isNaN(J)||isNaN(Z))throw Mt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,J,Z),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},m.prototype.strokeRect=function(P,H,J,Z){if(isNaN(P)||isNaN(H)||isNaN(J)||isNaN(Z))throw Mt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(P,H,J,Z),this.stroke())},m.prototype.clearRect=function(P,H,J,Z){if(isNaN(P)||isNaN(H)||isNaN(J)||isNaN(Z))throw Mt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,J,Z))},m.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},m.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var H,J,Z,ne;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,J=0,Z=0,ne=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(oe!==null)H=parseInt(oe[1]),J=parseInt(oe[2]),Z=parseInt(oe[3]),ne=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(oe[1]),J=parseInt(oe[2]),Z=parseInt(oe[3]),ne=parseFloat(oe[4]);else{if(ne=1,typeof P=="string"&&P.charAt(0)!=="#"){var ge=new Zb(P);P=ge.ok?ge.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,J=P.substring(2,3),J+=J,Z=P.substring(3,4),Z+=Z):(H=P.substring(1,3),J=P.substring(3,5),Z=P.substring(5,7)),H=parseInt(H,16),J=parseInt(J,16),Z=parseInt(Z,16)}}return{r:H,g:J,b:Z,a:ne,style:P}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(P,H,J,Z){if(isNaN(H)||isNaN(J)||typeof P!="string")throw Mt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!p.call(this)){var ne=U(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;A.call(this,{text:P,x:H,y:J,scale:oe,angle:ne,align:this.textAlign,maxWidth:Z})}},m.prototype.strokeText=function(P,H,J,Z){if(isNaN(H)||isNaN(J)||typeof P!="string")throw Mt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){Z=isNaN(Z)?void 0:Z;var ne=U(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;A.call(this,{text:P,x:H,y:J,scale:oe,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Z})}},m.prototype.measureText=function(P){if(typeof P!="string")throw Mt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,J=this.pdf.internal.scaleFactor,Z=H.internal.getFontSize(),ne=H.getStringUnitWidth(P)*Z/H.internal.scaleFactor;return new function(oe){var ge=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:ne*=Math.round(96*J/72*1e4)/1e4})},m.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw Mt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.rotate=function(P){if(isNaN(P))throw Mt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw Mt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.transform=function(P,H,J,Z,ne,oe){if(isNaN(P)||isNaN(H)||isNaN(J)||isNaN(Z)||isNaN(ne)||isNaN(oe))throw Mt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(P,H,J,Z,ne,oe);this.ctx.transform=this.ctx.transform.multiply(ge)},m.prototype.setTransform=function(P,H,J,Z,ne,oe){P=isNaN(P)?1:P,H=isNaN(H)?0:H,J=isNaN(J)?0:J,Z=isNaN(Z)?1:Z,ne=isNaN(ne)?0:ne,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(P,H,J,Z,ne,oe)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(P,H,J,Z,ne,oe,ge,he,xe){var Se=this.pdf.getImageProperties(P),Ce=1,Le=1,fe=1,Y=1;Z!==void 0&&he!==void 0&&(fe=he/Z,Y=xe/ne,Ce=Se.width/Z*he/Z,Le=Se.height/ne*xe/ne),oe===void 0&&(oe=H,ge=J,H=0,J=0),Z!==void 0&&he===void 0&&(he=Z,xe=ne),Z===void 0&&he===void 0&&(he=Se.width,xe=Se.height);for(var ft,tt=this.ctx.transform.decompose(),Ke=U(tt.rotate.shx),Ae=new l,$e=(Ae=(Ae=(Ae=Ae.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new o(oe-H*fe,ge-J*Y,Z*Ce,ne*Le)),Te=k.call(this,$e),it=[],He=0;He<Te.length;He+=1)it.indexOf(Te[He])===-1&&it.push(Te[He]);if(S(it),this.autoPaging)for(var xt=it[0],Xe=it[it.length-1],Oe=xt;Oe<Xe+1;Oe++){this.pdf.setPage(Oe);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=Oe===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Oe===1?0:Ve+(Oe-2)*Qe;if(this.ctx.clip_path.length!==0){var Bt=this.path;ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(ft,this.posX+this.margin[3],-Ge+ct+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=Bt}var jt=JSON.parse(JSON.stringify($e));jt=N([jt],this.posX+this.margin[3],-Ge+ct+this.ctx.prevPageLastElemOffset)[0];var ze=(Oe>xt||Oe<Xe)&&b.call(this);ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Qe,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",jt.x,jt.y,jt.w,jt.h,null,null,Ke),ze&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,Ke)};var k=function(P,H,J){var Z=[];H=H||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Z.push(Math.floor((P.y+ne)/J)+1);break;case"arc":Z.push(Math.floor((P.y+ne-P.radius)/J)+1),Z.push(Math.floor((P.y+ne+P.radius)/J)+1);break;case"qct":var oe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Z.push(Math.floor((oe.y+ne)/J)+1),Z.push(Math.floor((oe.y+oe.h+ne)/J)+1);break;case"bct":var ge=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Z.push(Math.floor((ge.y+ne)/J)+1),Z.push(Math.floor((ge.y+ge.h+ne)/J)+1);break;case"rect":Z.push(Math.floor((P.y+ne)/J)+1),Z.push(Math.floor((P.y+P.h+ne)/J)+1)}for(var he=0;he<Z.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<Z[he];)w.call(this);return Z},w=function(){var P=this.fillStyle,H=this.strokeStyle,J=this.font,Z=this.lineCap,ne=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=J,this.lineCap=Z,this.lineWidth=ne,this.lineJoin=oe},N=function(P,H,J){for(var Z=0;Z<P.length;Z++)switch(P[Z].type){case"bct":P[Z].x2+=H,P[Z].y2+=J;case"qct":P[Z].x1+=H,P[Z].y1+=J;default:P[Z].x+=H,P[Z].y+=J}return P},S=function(P){return P.sort(function(H,J){return H-J})},E=function(P,H){for(var J,Z,ne=this.fillStyle,oe=this.strokeStyle,ge=this.lineCap,he=this.lineWidth,xe=Math.abs(he*this.ctx.transform.scaleX),Se=this.lineJoin,Ce=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),fe=[],Y=0;Y<Le.length;Y++)if(Le[Y].x!==void 0)for(var ft=k.call(this,Le[Y]),tt=0;tt<ft.length;tt+=1)fe.indexOf(ft[tt])===-1&&fe.push(ft[tt]);for(var Ke=0;Ke<fe.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<fe[Ke];)w.call(this);if(S(fe),this.autoPaging)for(var Ae=fe[0],$e=fe[fe.length-1],Te=Ae;Te<$e+1;Te++){this.pdf.setPage(Te),this.fillStyle=ne,this.strokeStyle=oe,this.lineCap=ge,this.lineWidth=xe,this.lineJoin=Se;var it=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=Te===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oe=Te===1?0:xt+(Te-2)*Xe;if(this.ctx.clip_path.length!==0){var St=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(J,this.posX+this.margin[3],-Oe+He+this.ctx.prevPageLastElemOffset),D.call(this,P,!0),this.path=St}if(Z=JSON.parse(JSON.stringify(Ce)),this.path=N(Z,this.posX+this.margin[3],-Oe+He+this.ctx.prevPageLastElemOffset),H===!1||Te===0){var ct=(Te>Ae||Te<$e)&&b.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Xe,null).clip().discardPath()),D.call(this,P,H),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=xe,D.call(this,P,H),this.lineWidth=he;this.path=Ce},D=function(P,H){if((P!=="stroke"||H||!_.call(this))&&(P==="stroke"||H||!p.call(this))){for(var J,Z,ne=[],oe=this.path,ge=0;ge<oe.length;ge++){var he=oe[ge];switch(he.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:he,deltas:[],abs:[]});break;case"lt":var xe=ne.length;if(oe[ge-1]&&!isNaN(oe[ge-1].x)&&(J=[he.x-oe[ge-1].x,he.y-oe[ge-1].y],xe>0)){for(;xe>=0;xe--)if(ne[xe-1].close!==!0&&ne[xe-1].begin!==!0){ne[xe-1].deltas.push(J),ne[xe-1].abs.push(he);break}}break;case"bct":J=[he.x1-oe[ge-1].x,he.y1-oe[ge-1].y,he.x2-oe[ge-1].x,he.y2-oe[ge-1].y,he.x-oe[ge-1].x,he.y-oe[ge-1].y],ne[ne.length-1].deltas.push(J);break;case"qct":var Se=oe[ge-1].x+2/3*(he.x1-oe[ge-1].x),Ce=oe[ge-1].y+2/3*(he.y1-oe[ge-1].y),Le=he.x+2/3*(he.x1-he.x),fe=he.y+2/3*(he.y1-he.y),Y=he.x,ft=he.y;J=[Se-oe[ge-1].x,Ce-oe[ge-1].y,Le-oe[ge-1].x,fe-oe[ge-1].y,Y-oe[ge-1].x,ft-oe[ge-1].y],ne[ne.length-1].deltas.push(J);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(he)}}Z=H?null:P==="stroke"?"stroke":"fill";for(var tt=!1,Ke=0;Ke<ne.length;Ke++)if(ne[Ke].arc)for(var Ae=ne[Ke].abs,$e=0;$e<Ae.length;$e++){var Te=Ae[$e];Te.type==="arc"?q.call(this,Te.x,Te.y,Te.radius,Te.startAngle,Te.endAngle,Te.counterclockwise,void 0,H,!tt):$.call(this,Te.x,Te.y),tt=!0}else if(ne[Ke].close===!0)this.pdf.internal.out("h"),tt=!1;else if(ne[Ke].begin!==!0){var it=ne[Ke].start.x,He=ne[Ke].start.y;R.call(this,ne[Ke].deltas,it,He),tt=!0}Z&&B.call(this,Z),H&&W.call(this)}},O=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-J;case"top":return P+H-J;case"hanging":return P+H-2*J;case"middle":return P+H/2-J;default:return P}},z=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,J){this.colorStops.push([H,J])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(P,H,J,Z,ne,oe,ge,he,xe){for(var Se=Q.call(this,J,Z,ne,oe),Ce=0;Ce<Se.length;Ce++){var Le=Se[Ce];Ce===0&&(xe?j.call(this,Le.x1+P,Le.y1+H):$.call(this,Le.x1+P,Le.y1+H)),X.call(this,P,H,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}he?W.call(this):B.call(this,ge)},B=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},W=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(P,H){this.pdf.internal.out(r(P)+" "+n(H)+" m")},A=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var J=this.pdf.getTextDimensions(P.text),Z=O.call(this,P.y),ne=z.call(this,Z)-J.h,oe=this.ctx.transform.applyToPoint(new a(P.x,Z)),ge=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var xe,Se,Ce,Le=this.ctx.transform.applyToRectangle(new o(P.x,Z,J.w,J.h)),fe=he.applyToRectangle(new o(P.x,ne,J.w,J.h)),Y=k.call(this,fe),ft=[],tt=0;tt<Y.length;tt+=1)ft.indexOf(Y[tt])===-1&&ft.push(Y[tt]);if(S(ft),this.autoPaging)for(var Ke=ft[0],Ae=ft[ft.length-1],$e=Ke;$e<Ae+1;$e++){this.pdf.setPage($e);var Te=$e===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],xt=He-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],Oe=Xe-this.margin[3],St=$e===1?0:it+($e-2)*xt;if(this.ctx.clip_path.length!==0){var ct=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(xe,this.posX+this.margin[3],-1*St+Te),D.call(this,"fill",!0),this.path=ct}var Ve=N([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-St+Te+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*P.scale),Ce=this.lineWidth,this.lineWidth=Ce*P.scale);var Qe=this.autoPaging!=="text";if(Qe||Ve.y+Ve.h<=He){if(Qe||Ve.y>=Te&&Ve.x<=Xe){var Ge=Qe?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Xe-Ve.x)[0],Bt=N([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-St+Te+this.ctx.prevPageLastElemOffset)[0],jt=Qe&&($e>Ke||$e<Ae)&&b.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,xt,null).clip().discardPath()),this.pdf.text(Ge,Bt.x,Bt.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),jt&&this.pdf.restoreGraphicsState()}}else Ve.y<He&&(this.ctx.prevPageLastElemOffset+=He-Ve.y);P.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ce)}else P.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*P.scale),Ce=this.lineWidth,this.lineWidth=Ce*P.scale),this.pdf.text(P.text,oe.x+this.posX,oe.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=Ce)},$=function(P,H,J,Z){J=J||0,Z=Z||0,this.pdf.internal.out(r(P+J)+" "+n(H+Z)+" l")},R=function(P,H,J){return this.pdf.lines(P,H,J,null,null)},X=function(P,H,J,Z,ne,oe,ge,he){this.pdf.internal.out([e(i(J+P)),e(s(Z+H)),e(i(ne+P)),e(s(oe+H)),e(i(ge+P)),e(s(he+H)),"c"].join(" "))},Q=function(P,H,J,Z){for(var ne=2*Math.PI,oe=Math.PI/2;H>J;)H-=ne;var ge=Math.abs(J-H);ge<ne&&Z&&(ge=ne-ge);for(var he=[],xe=Z?-1:1,Se=H;ge>1e-5;){var Ce=Se+xe*Math.min(ge,oe);he.push(re.call(this,P,Se,Ce)),ge-=Math.abs(Ce-Se),Se=Ce}return he},re=function(P,H,J){var Z=(J-H)/2,ne=P*Math.cos(Z),oe=P*Math.sin(Z),ge=ne,he=-oe,xe=ge*ge+he*he,Se=xe+ge*ne+he*oe,Ce=4/3*(Math.sqrt(2*xe*Se)-Se)/(ge*oe-he*ne),Le=ge-Ce*he,fe=he+Ce*ge,Y=Le,ft=-fe,tt=Z+H,Ke=Math.cos(tt),Ae=Math.sin(tt);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:Le*Ke-fe*Ae,y2:Le*Ae+fe*Ke,x3:Y*Ke-ft*Ae,y3:Y*Ae+ft*Ke,x4:P*Math.cos(J),y4:P*Math.sin(J)}},U=function(P){return 180*P/Math.PI},ee=function(P,H,J,Z,ne,oe){var ge=P+.5*(J-P),he=H+.5*(Z-H),xe=ne+.5*(J-ne),Se=oe+.5*(Z-oe),Ce=Math.min(P,ne,ge,xe),Le=Math.max(P,ne,ge,xe),fe=Math.min(H,oe,he,Se),Y=Math.max(H,oe,he,Se);return new o(Ce,fe,Le-Ce,Y-fe)},pe=function(P,H,J,Z,ne,oe,ge,he){var xe,Se,Ce,Le,fe,Y,ft,tt,Ke,Ae,$e,Te,it,He,xt=J-P,Xe=Z-H,Oe=ne-J,St=oe-Z,ct=ge-ne,Ve=he-oe;for(Se=0;Se<41;Se++)Ke=(ft=(Ce=P+(xe=Se/40)*xt)+xe*((fe=J+xe*Oe)-Ce))+xe*(fe+xe*(ne+xe*ct-fe)-ft),Ae=(tt=(Le=H+xe*Xe)+xe*((Y=Z+xe*St)-Le))+xe*(Y+xe*(oe+xe*Ve-Y)-tt),Se==0?($e=Ke,Te=Ae,it=Ke,He=Ae):($e=Math.min($e,Ke),Te=Math.min(Te,Ae),it=Math.max(it,Ke),He=Math.max(He,Ae));return new o(Math.round($e),Math.round(Te),Math.round(it-$e),Math.round(He-Te))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,J=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(qe.API),function(t){var e=function(a){var o,l,u,f,m,y,p,_,b,k;for(l=[],u=0,f=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(m=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(y=(m=((m=((m=((m=(m-(k=m%85))/85)-(b=m%85))/85)-(_=m%85))/85)-(p=m%85))/85)%85,l.push(y+33,p+33,_+33,b+33,k+33)):l.push(122);return function(w,N){for(var S=N;S>0;S--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,u,f,m,y=String,p="length",_=255,b="charCodeAt",k="slice",w="replace";for(a[k](-2),a=a[k](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),u=[],f=0,m=(a+=o="uuuuu"[k](a[p]%5||5))[p];m>f;f+=5)l=52200625*(a[b](f)-33)+614125*(a[b](f+1)-33)+7225*(a[b](f+2)-33)+85*(a[b](f+3)-33)+(a[b](f+4)-33),u.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(N,S){for(var E=S;E>0;E--)N.pop()}(u,o[p]),y.fromCharCode.apply(y,u)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=K1(o)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(a,o){var l=0,u=a||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(qe.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,f){var m=new XMLHttpRequest,y=0,p=function(_){var b=_.length,k=[],w=String.fromCharCode;for(y=0;y<b;y+=1)k.push(w(255&_.charCodeAt(y)));return k.join("")};if(m.open("GET",l,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(qe.API),function(t){function e(){return(et.html2canvas?Promise.resolve(et.html2canvas):oa(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(et.DOMPurify?Promise.resolve(et.DOMPurify):oa(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Tt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var u=document.createElement(o);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},s=function o(l,u){for(var f=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),m=l.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(o(m,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(f.width=l.width,f.height=l.height,f.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(f.value=l.value),f.addEventListener("load",function(){f.scrollTop=l.scrollTop,f.scrollLeft=l.scrollLeft},!0)),f},a=function o(l){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),u);return(f=f.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(u){return this.set({src:i("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var _=f[p],b=_.src.find(function(k){return k.format==="truetype"});b&&u.addFont(b.url,_.ref.name,_.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,u.context2d.save(!0),l(this.prop.container,y)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var u=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(u):u})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(o=o||qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,u,f){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,u,f){return this.setProgress(o?this.progress.val+o:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(o,l){var u=this;return this.thenCore(o,l,function(f,m){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(y){return u.updateProgress(null,f),y}).then(f,m).then(function(y){return u.updateProgress(1),y})})},a.prototype.thenCore=function(o,l,u){u=u||Promise.prototype.then;var f=this;o&&(o=o.bind(f)),l&&(l=l.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:a.convert(Object.assign({},f),Promise.prototype),y=u.call(m,o,l);return a.convert(y,f.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,qe.getPageSize=function(o,l,u){if(Tt(o)==="object"){var f=o;o=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var m,y=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+l}var _,b=0,k=0;if(p.hasOwnProperty(y))b=p[y][1]/m,k=p[y][0]/m;else try{b=u[1],k=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",k>b&&(_=k,k=b,b=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>k&&(_=k,k=b,b=_)}return{width:k,height:b,unit:l,k:m,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Pp):null;var u=new a(l);return l.worker?u:u.from(o).doCallback()}}(qe.API),qe.API.addJS=function(t){return K5=t,this.internal.events.subscribe("postPutResources",function(){md=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(md+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),G5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+K5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){md!==void 0&&G5!==void 0&&this.internal.out("/Names <</JavaScript "+md+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var m=r.internal.newObject();f.push(m);var y=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(qe.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(m){for(var y,p=256*m.charCodeAt(4)+m.charCodeAt(5),_=m.length,b={width:0,height:0,numcomponents:1},k=4;k<_;k+=2){if(k+=p,e.indexOf(m.charCodeAt(k+1))!==-1){y=256*m.charCodeAt(k+5)+m.charCodeAt(k+6),b={width:256*m.charCodeAt(k+7)+m.charCodeAt(k+8),height:y,numcomponents:m.charCodeAt(k+9)};break}p=256*m.charCodeAt(k+2)+m.charCodeAt(k+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return f}}(qe.API),qe.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=Yj(t,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,u=s.palette,f=s.depth;i=u&&l===1?function(z){for(var q=z.width,B=z.height,W=z.data,j=z.palette,A=z.depth,$=!1,R=[],X=[],Q=void 0,re=!1,U=0,ee=0;ee<j.length;ee++){var pe=Qg(j[ee],4),ce=pe[0],P=pe[1],H=pe[2],J=pe[3];R.push(ce,P,H),J!=null&&(J===0?(U++,X.length<1&&X.push(ee)):J<255&&(re=!0))}if(re||U>1){$=!0,X=void 0;var Z=q*B;Q=new Uint8Array(Z);for(var ne=new DataView(W.buffer),oe=0;oe<Z;oe++){var ge=Op(ne,oe,A),he=Qg(j[ge],4)[3];Q[oe]=he}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:W,alphaBytes:Q,needSMask:$,palette:R,mask:X}}(s):l===2||l===4?function(z){for(var q=z.data,B=z.width,W=z.height,j=z.channels,A=z.depth,$=j===2?"DeviceGray":"DeviceRGB",R=j-1,X=B*W,Q=R,re=X*Q,U=1*X,ee=Math.ceil(re*A/8),pe=Math.ceil(U*A/8),ce=new Uint8Array(ee),P=new Uint8Array(pe),H=new DataView(q.buffer),J=new DataView(ce.buffer),Z=new DataView(P.buffer),ne=!1,oe=0;oe<X;oe++){for(var ge=oe*j,he=0;he<Q;he++)nv(J,Op(H,ge+he,A),oe*Q+he,A);var xe=Op(H,ge+Q,A);xe<(1<<A)-1&&(ne=!0),nv(Z,xe,1*oe,A)}return{colorSpace:$,colorsPerPixel:R,colorBytes:ce,alphaBytes:P,needSMask:ne}}(s):function(z){var q=z.data,B=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:q instanceof Uint8Array?q:new Uint8Array(q.buffer),needSMask:!1}}(s);var m,y,p,_=i,b=_.colorSpace,k=_.colorsPerPixel,w=_.colorBytes,N=_.alphaBytes,S=_.needSMask,E=_.palette,D=_.mask,O=null;return n!==qe.API.image_compression.NONE&&typeof K1=="function"?(O=function(z){var q;switch(z){case qe.API.image_compression.FAST:q=11;break;case qe.API.image_compression.MEDIUM:q=13;break;case qe.API.image_compression.SLOW:q=14;break;default:q=12}return q}(n),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(O," "),t=Q5(w,a*k,k,n),S&&(p=Q5(N,a,1,n))):(m=void 0,y="",t=w,S&&(p=N)),y+="/Colors ".concat(k," /BitsPerComponent ").concat(f," /Columns ").concat(a),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:m,decodeParameters:y,transparency:D,palette:E,sMask:p,predictor:O,width:a,height:o,bitsPerComponent:f,colorSpace:b}}},function(t){t.processGIF89A=function(e,r,n,i){var s=new vA(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},f=new Ip(100).encode(u,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A}(qe.API),di.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},di.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Mt.log("bit decode error:"+r)}},di.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},di.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},di.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},di.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,f=n*this.width*4+4*i;this.data[f]=l,this.data[f+1]=o,this.data[f+2]=a,this.data[f+3]=u}this.pos+=t}},di.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,f=i*this.width*4+4*s;this.data[f]=u,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=255}this.pos+=t}},di.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},di.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},di.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new di(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Ip(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(qe.API),sv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new sv(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new Ip(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(qe.API),qe.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var f=n[u],m=n[u+1],y=n[u+2],p=n[u+3];s[o++]=f,s[o++]=m,s[o++]=y,a[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},qe.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fo=qe.API,gd=Fo.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,y=0,p=t.length,_=0,b=o[0]||l,k=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(y=m&&Tt(u[n])==="object"&&!isNaN(parseInt(u[n][_],10))?u[n][_]/f:0,k.push((o[n]||b)/l+y)),_=n;return k},J5=Fo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Fo.processArabic&&(t=Fo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:gd.apply(this,arguments).reduce(function(s,a){return s+a},0)},Y5=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},X5=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,f=[],m=[f],y=r.textIndent||0,p=0,_=0,b=t.split(" "),k=gd.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var w=Array(l).join(" "),N=[];b.map(function(E){(E=E.split(/\s*\n/)).length>1?N=N.concat(E.map(function(D,O){return(O&&D.length?`
`:"")+D})):N.push(E[0])}),b=N,l=J5.apply(this,[w,r])}for(s=0,a=b.length;s<a;s++){var S=0;if(n=b[s],l&&n[0]==`
`&&(n=n.substr(1),S=1),y+p+(_=(i=gd.apply(this,[n,r])).reduce(function(E,D){return E+D},0))>e||S){if(_>e){for(o=Y5.apply(this,[n,i,e-(y+p),e]),f.push(o.shift()),f=[o.pop()];o.length;)m.push([o.shift()]);_=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(E,D){return E+D},0)}else f=[n];m.push(f),y=_+l,p=k}else f.push(n),y+=p+_,p=k}return u=l?function(E,D){return(D?w:"")+E.join(" ")}:function(E){return E.join(" ")},m.map(u)},Fo.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(X5.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[r[s]]=e[s],i[e[s]]=r[s];var a=function(y){return"0x"+parseInt(y,10).toString(16)},o=t.__fontmetrics__.compress=function(y){var p,_,b,k,w=["{"];for(var N in y){if(p=y[N],isNaN(parseInt(N,10))?_="'"+N+"'":(N=parseInt(N,10),_=(_=a(N).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof p=="number")p<0?(b=a(p).slice(3),k="-"):(b=a(p).slice(2),k=""),b=k+b.slice(0,-1)+i[b.slice(-1)];else{if(Tt(p)!=="object")throw new Error("Don't know what to do with value type "+Tt(p)+".");b=o(p)}w.push(_+b)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,_,b,k,w={},N=1,S=w,E=[],D="",O="",z=y.length-1,q=1;q<z;q+=1)(k=y[q])=="'"?p?(b=p.join(""),p=void 0):p=[]:p?p.push(k):k=="{"?(E.push([S,b]),S={},b=void 0):k=="}"?((_=E.pop())[0][_[1]]=S,b=void 0,S=_[0]):k=="-"?N=-1:b===void 0?n.hasOwnProperty(k)?(D+=n[k],b=parseInt(D,16)*N,N=1,D=""):D+=k:n.hasOwnProperty(k)?(O+=n[k],S[b]=parseInt(O,16)*N,N=1,b=void 0,O=""):O+=k;return w},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(y){var p=y.font,_=m.Unicode[p.postScriptName];_&&(p.metadata.Unicode={},p.metadata.Unicode.widths=_.widths,p.metadata.Unicode.kerning=_.kerning);var b=f.Unicode[p.postScriptName];b&&(p.metadata.Unicode.encoding=b,p.encoding=b.codePages[0])}])}(qe.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Od(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(qe),qe.API.addSvgAsImage=function(t,e,r,n,i,s,a,o){if(isNaN(e)||isNaN(r))throw Mt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Mt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var u=l.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,l.width,l.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(et.canvg?Promise.resolve(et.canvg):oa(()=>import("./index.es-RgyYH_Fj.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(f)}).then(function(){m.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,a,o)})},qe.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},qe.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,f=0,m=0;function y(_,b){var k,w=!1;for(k=0;k<_.length;k+=1)_[k]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(m=0;m<p;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Tt(t)==="object"){for(i in t)if(s=t[i],y(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&y(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,b=[];for(_ in r)r[_].explicitSet===!0&&(r[_].type==="name"?b.push("/"+_+" /"+r[_].value):b.push("/"+_+" "+r[_].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(qe.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,y=s.length;m<y;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},n=function(s){var a,o,l,u,f,m,y;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,y=(o=Object.keys(s).sort(function(p,_){return p-_})).length;m<y;m++)a=o[m],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",_=0;_<y.length;_++)p+=String.fromCharCode(y[_]);var b=u();f({data:p,addLength1:!0,objectId:b}),l("endobj");var k=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Bo(o.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var N=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Bo(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+Bo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,f=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,y="",p=0;p<m.length;p++)y+=String.fromCharCode(m[p]);var _=u();f({data:y,addLength1:!0,objectId:_}),l("endobj");var b=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var k=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Bo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+Bo(o.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,f=s.options||{},m=s.mutex||{},y=m.pdfEscape,p=m.activeFontKey,_=m.fonts,b=p,k="",w=0,N="",S=_[b].encoding;if(_[b].encoding!=="Identity-H")return{text:o,x:l,y:u,options:f,mutex:m};for(N=o,b=p,Array.isArray(o)&&(N=o[0]),w=0;w<N.length;w+=1)_[b].metadata.hasOwnProperty("cmap")&&(a=_[b].metadata.cmap.unicode.codeMap[N[w].charCodeAt(0)]),a||N[w].charCodeAt(0)<256&&_[b].metadata.hasOwnProperty("Unicode")?k+=N[w]:k+="";var E="";return parseInt(b.slice(1))<14||S==="WinAnsiEncoding"?E=y(k,b).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(E=r(k,_[b])),m.isHex=!0,{text:E,x:l,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(qe),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(qe.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,f,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,S=0;this.__bidiEngine__={};var E=function(j){var A=j.charCodeAt(),$=A>>8,R=b[$];return R!==void 0?m[256*R+(255&A)]:$===252||$===253?"AL":w.test($)?"L":$===8?"R":"N"},D=function(j){for(var A,$=0;$<j.length;$++){if((A=E(j.charAt($)))==="L")return!1;if(A==="R")return!0}return!1},O=function(j,A,$,R){var X,Q,re,U,ee=A[R];switch(ee){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(ee="AN");break;case"AL":N=!0,ee="R";break;case"WS":case"BN":ee="N";break;case"CS":R<1||R+1>=A.length||(X=$[R-1])!=="EN"&&X!=="AN"||(Q=A[R+1])!=="EN"&&Q!=="AN"?ee="N":N&&(Q="AN"),ee=Q===X?Q:"N";break;case"ES":ee=(X=R>0?$[R-1]:"B")==="EN"&&R+1<A.length&&A[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&$[R-1]==="EN"){ee="EN";break}if(N){ee="N";break}for(re=R+1,U=A.length;re<U&&A[re]==="ET";)re++;ee=re<U&&A[re]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(U=A.length,re=R+1;re<U&&A[re]==="NSM";)re++;if(re<U){var pe=j[R],ce=pe>=1425&&pe<=2303||pe===64286;if(X=A[re],ce&&(X==="R"||X==="AL")){ee="R";break}}}ee=R<1||(X=A[R-1])==="B"?"N":$[R-1];break;case"B":N=!1,i=!0,ee=S;break;case"S":s=!0,ee="N"}return ee},z=function(j,A,$){var R=j.split("");return $&&q(R,$,{hiLevel:S}),R.reverse(),A&&A.reverse(),R.join("")},q=function(j,A,$){var R,X,Q,re,U,ee=-1,pe=j.length,ce=0,P=[],H=S?p:y,J=[];for(N=!1,i=!1,s=!1,X=0;X<pe;X++)J[X]=E(j[X]);for(Q=0;Q<pe;Q++){if(U=ce,P[Q]=O(j,J,P,Q),R=240&(ce=H[U][_[P[Q]]]),ce&=15,A[Q]=re=H[ce][5],R>0)if(R===16){for(X=ee;X<Q;X++)A[X]=1;ee=-1}else ee=-1;if(H[ce][6])ee===-1&&(ee=Q);else if(ee>-1){for(X=ee;X<Q;X++)A[X]=re;ee=-1}J[Q]==="B"&&(A[Q]=0),$.hiLevel|=re}s&&function(Z,ne,oe){for(var ge=0;ge<oe;ge++)if(Z[ge]==="S"){ne[ge]=S;for(var he=ge-1;he>=0&&Z[he]==="WS";he--)ne[he]=S}}(J,A,pe)},B=function(j,A,$,R,X){if(!(X.hiLevel<j)){if(j===1&&S===1&&!i)return A.reverse(),void($&&$.reverse());for(var Q,re,U,ee,pe=A.length,ce=0;ce<pe;){if(R[ce]>=j){for(U=ce+1;U<pe&&R[U]>=j;)U++;for(ee=ce,re=U-1;ee<re;ee++,re--)Q=A[ee],A[ee]=A[re],A[re]=Q,$&&(Q=$[ee],$[ee]=$[re],$[re]=Q);ce=U}ce++}}},W=function(j,A,$){var R=j.split(""),X={hiLevel:S};return $||($=[]),q(R,$,X),function(Q,re,U){if(U.hiLevel!==0&&f)for(var ee,pe=0;pe<Q.length;pe++)re[pe]===1&&(ee=k.indexOf(Q[pe]))>=0&&(Q[pe]=k[ee+1])}(R,$,X),B(2,R,A,$,X),B(1,R,A,$,X),R.join("")};return this.__bidiEngine__.doBidiReorder=function(j,A,$){if(function(X,Q){if(Q)for(var re=0;re<X.length;re++)Q[re]=re;o===void 0&&(o=D(X)),u===void 0&&(u=D(X))}(j,A),a||!l||u)if(a&&l&&o^u)S=o?1:0,j=z(j,A,$);else if(!a&&l&&u)S=o?1:0,j=W(j,A,$),j=z(j,A);else if(!a||o||l||u){if(a&&!l&&o^u)j=z(j,A),o?(S=0,j=W(j,A,$)):(S=1,j=W(j,A,$),j=z(j,A));else if(a&&o&&!l&&u)S=1,j=W(j,A,$),j=z(j,A);else if(!a&&!l&&o^u){var R=f;o?(S=1,j=W(j,A,$),S=0,f=!1,j=W(j,A,$),f=R):(S=0,j=W(j,A,$),j=z(j,A),S=1,f=!1,j=W(j,A,$),f=R,j=z(j,A))}}else S=0,j=W(j,A,$);else S=o?1:0,j=W(j,A,$);return j},this.__bidiEngine__.setOptions=function(j){j&&(a=j.isInputVisual,l=j.isOutputVisual,o=j.isInputRtl,u=j.isOutputRtl,f=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(qe),qe.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new da(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new TA(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new yA(this.contents),this.head=new bA(this),this.name=new kA(this),this.cmap=new u_(this),this.toUnicode={},this.hhea=new _A(this),this.maxp=new jA(this),this.hmtx=new AA(this),this.post=new SA(this),this.os2=new xA(this),this.loca=new PA(this),this.glyf=new EA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Ni,da=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),yA=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,f,m,y,p,_,b;for(b in p=Object.keys(r).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),a=Math.floor(m/l),f=16*p-m,(i=new da).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(a),i.writeShort(f),s=16*p,u=i.pos+s,o=null,_=[],r)for(y=r[b],i.writeString(b),i.writeInt(t(y)),i.writeInt(u),i.writeInt(y.length),_=_.concat(y),b==="head"&&(o=u),u+=y.length;u%4;)_.push(0),u++;return i.write(_),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=d_.call(r);r.length%4;)r.push(0);for(s=new da(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),wA={}.hasOwnProperty,Vi=function(t,e){for(var r in e)wA.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Ni=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var bA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new da).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),av=function(){function t(e,r){var n,i,s,a,o,l,u,f,m,y,p,_,b,k,w,N,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,s=function(){var E,D;for(D=[],l=E=0;0<=y?E<y:E>y;l=0<=y?++E:--E)D.push(e.readUInt16());return D}(),e.pos+=2,b=function(){var E,D;for(D=[],l=E=0;0<=y?E<y:E>y;l=0<=y?++E:--E)D.push(e.readUInt16());return D}(),u=function(){var E,D;for(D=[],l=E=0;0<=y?E<y:E>y;l=0<=y?++E:--E)D.push(e.readUInt16());return D}(),f=function(){var E,D;for(D=[],l=E=0;0<=y?E<y:E>y;l=0<=y?++E:--E)D.push(e.readUInt16());return D}(),i=(this.length-e.pos+this.offset)/2,o=function(){var E,D;for(D=[],l=E=0;0<=i?E<i:E>i;l=0<=i?++E:--E)D.push(e.readUInt16());return D}(),l=w=0,S=s.length;w<S;l=++w)for(k=s[l],n=N=_=b[l];_<=k?N<=k:N>=k;n=_<=k?++N:--N)f[l]===0?a=n+u[l]:(a=o[f[l]/2+(n-_)-(y-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=m}return t.encode=function(e,r){var n,i,s,a,o,l,u,f,m,y,p,_,b,k,w,N,S,E,D,O,z,q,B,W,j,A,$,R,X,Q,re,U,ee,pe,ce,P,H,J,Z,ne,oe,ge,he,xe,Se,Ce;switch(R=new da,a=Object.keys(e).sort(function(Le,fe){return Le-fe}),r){case"macroman":for(b=0,k=function(){var Le=[];for(_=0;_<256;++_)Le.push(0);return Le}(),N={0:0},s={},X=0,ee=a.length;X<ee;X++)N[he=e[i=a[X]]]==null&&(N[he]=++b),s[i]={old:e[i],new:N[e[i]]},k[i]=N[e[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(k),{charMap:s,subtable:R.data,maxGlyphID:b+1};case"unicode":for(A=[],m=[],S=0,N={},n={},w=u=null,Q=0,pe=a.length;Q<pe;Q++)N[D=e[i=a[Q]]]==null&&(N[D]=++S),n[i]={old:D,new:N[D]},o=N[D]-i,w!=null&&o===u||(w&&m.push(w),A.push(i),u=o),w=i;for(w&&m.push(w),m.push(65535),A.push(65535),W=2*(B=A.length),q=2*Math.pow(Math.log(B)/Math.LN2,2),y=Math.log(q/2)/Math.LN2,z=2*B-q,l=[],O=[],p=[],_=re=0,ce=A.length;re<ce;_=++re){if(j=A[_],f=m[_],j===65535){l.push(0),O.push(0);break}if(j-($=n[j].new)>=32768)for(l.push(0),O.push(2*(p.length+B-_)),i=U=j;j<=f?U<=f:U>=f;i=j<=f?++U:--U)p.push(n[i].new);else l.push($-j),O.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*B+2*p.length),R.writeUInt16(0),R.writeUInt16(W),R.writeUInt16(q),R.writeUInt16(y),R.writeUInt16(z),oe=0,P=m.length;oe<P;oe++)i=m[oe],R.writeUInt16(i);for(R.writeUInt16(0),ge=0,H=A.length;ge<H;ge++)i=A[ge],R.writeUInt16(i);for(xe=0,J=l.length;xe<J;xe++)o=l[xe],R.writeUInt16(o);for(Se=0,Z=O.length;Se<Z;Se++)E=O[Se],R.writeUInt16(E);for(Ce=0,ne=p.length;Ce<ne;Ce++)b=p[Ce],R.writeUInt16(b);return{charMap:n,subtable:R.data,maxGlyphID:S+1}}},t}(),u_=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new av(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=av.encode(e,r),(i=new da).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t}(),_A=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),xA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),SA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(e.readUInt32());return l}).call(this)}},t}(),NA=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,s,a,o,l,u,f,m,y;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},s=f=0,m=n.length;f<m;s=++f)i=n[s],e.pos=i.offset,u=e.readString(i.length),a=new NA(u,i),l[y=i.nameID]==null&&(l[y]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),jA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),AA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,s,a,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)f.push(e.readInt16());return f}(),this.widths=(function(){var u,f,m,y;for(y=[],u=0,f=(m=this.metrics).length;u<f;u++)s=m[u],y.push(s.advance);return y}).call(this),n=this.widths[this.widths.length-1],l=[],r=a=0;0<=i?a<i:a>i;r=0<=i?++a:--a)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),d_=[].slice,EA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,s,a,o,l,u,f,m;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,a=(o=new da(r.read(i))).readShort(),u=o.readShort(),m=o.readShort(),l=o.readShort(),f=o.readShort(),this.cache[e]=a===-1?new CA(o,u,m,l,f):new LA(o,a,u,m,l,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,s,a,o,l;for(a=[],s=[],o=0,l=r.length;o<l;o++)i=e[r[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},t}(),LA=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),CA=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new da(d_.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),PA=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,Ni),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<r.length&&r[s]==a){++s,n[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},t}(),TA=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,f,m,y,p,_,b,k,w;for(i in n=u_.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},w=n.charMap)p[(l=w[i]).old]=l.new;for(_ in y=n.maxGlyphID,a)_ in p||(p[_]=y++);return f=function(N){var S,E;for(S in E={},N)E[N[S]]=S;return E}(p),m=Object.keys(f).sort(function(N,S){return N-S}),b=function(){var N,S,E;for(E=[],N=0,S=m.length;N<S;N++)o=m[N],E.push(f[o]);return E}(),s=this.font.glyf.encode(a,b,p),u=this.font.loca.encode(s.offsets,b),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();qe.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();const lo=bt.create({baseURL:ua,headers:{"Content-Type":"application/json"}}),r0=async t=>{try{const e=new URLSearchParams;return t&&e.append("status",t),(await lo.get(`/work-orders?${e.toString()}`)).data}catch(e){return console.error("Error obteniendo rdenes de trabajo:",e),{success:!1,message:"Error al obtener rdenes de trabajo",errors:[e instanceof Error?e.message:"Error desconocido"]}}},OA=async()=>{try{const t=await r0("pending"),e=await r0("in_progress");return!t.success||!e.success?{success:!1,message:"Error al obtener rdenes de trabajo",errors:[...t.errors||[],...e.errors||[]]}:{success:!0,message:"rdenes de trabajo obtenidas exitosamente",data:[...t.data||[],...e.data||[]].sort((i,s)=>{const a=i.planned_start_date||i.actual_start_datetime||i.created_at,o=s.planned_start_date||s.actual_start_datetime||s.created_at;return!a&&!o?0:a?o?new Date(a).getTime()-new Date(o).getTime():-1:1})}}catch(t){return console.error("Error obteniendo rdenes de trabajo activas:",t),{success:!1,message:"Error al obtener rdenes de trabajo activas",errors:[t instanceof Error?t.message:"Error desconocido"]}}},fm=async t=>{try{return(await lo.get(`/work-orders/${t}/details`)).data}catch(e){return console.error("Error obteniendo detalles de orden de trabajo:",e),{success:!1,message:"Error al obtener detalles de orden de trabajo",errors:[e instanceof Error?e.message:"Error desconocido"]}}},IA=async(t,e)=>{try{const r={description:t.description,priority:t.priority,planned_start_date:t.planned_start_date,planned_end_date:t.planned_end_date,notes:t.notes,items:e};return(await lo.post("/work-orders",r)).data}catch(r){return console.error("Error creando orden de trabajo:",r),{success:!1,message:"Error al crear orden de trabajo",errors:[r instanceof Error?r.message:"Error desconocido"]}}},FA=async(t,e,r)=>{try{const n={...e,...r&&{items:r}};return(await lo.put(`/work-orders/${t}`,n)).data}catch(n){return console.error("Error actualizando orden de trabajo:",n),{success:!1,message:"Error al actualizar orden de trabajo",errors:[n instanceof Error?n.message:"Error desconocido"]}}},RA=async(t,e)=>{var r,n,i,s;try{return(await lo.patch(`/work-orders/${t}/status`,{status:e})).data}catch(a){return console.error("Error cambiando estado de orden de trabajo:",a),(n=(r=a.response)==null?void 0:r.data)!=null&&n.errors&&Array.isArray(a.response.data.errors)?{success:!1,message:a.response.data.message||"Error al cambiar estado de orden de trabajo",errors:a.response.data.errors}:{success:!1,message:((s=(i=a.response)==null?void 0:i.data)==null?void 0:s.message)||"Error al cambiar estado de orden de trabajo",errors:[a instanceof Error?a.message:"Error desconocido"]}}},DA=async t=>{var e,r;try{return await lo.delete(`/work-orders/${t}`),{success:!0,message:"Orden de trabajo eliminada exitosamente"}}catch(n){return console.error("Error eliminando orden de trabajo:",n),{success:!1,message:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Error al eliminar orden de trabajo"}}},MA=async(t,e)=>{var r,n,i,s;try{return(await lo.patch(`/work-orders/${t}/complete`,e)).data}catch(a){return console.error("Error completando orden de trabajo:",a),{success:!1,message:((n=(r=a.response)==null?void 0:r.data)==null?void 0:n.message)||"Error al completar orden de trabajo",errors:((s=(i=a.response)==null?void 0:i.data)==null?void 0:s.errors)||[a instanceof Error?a.message:"Error desconocido"]}}},pm=t=>({pending:"#ffa726",in_progress:"#42a5f5",completed:"#66bb6a",cancelled:"#ef5350"})[t]||"#9e9e9e",mm=t=>({low:"#8bc34a",normal:"#ffa726",high:"#ff9800",urgent:"#f44336"})[t]||"#9e9e9e",Tc=t=>t||"N/A",BA=()=>[{value:"low",label:"Baja",color:"#8bc34a"},{value:"normal",label:"Normal",color:"#ffa726"},{value:"high",label:"Alta",color:"#ff9800"},{value:"urgent",label:"Urgente",color:"#f44336"}],UA=ve.memo(({workOrder:t,onViewDetails:e,onEdit:r,onDelete:n,formatDate:i,getStatusLabel:s,getPriorityLabel:a})=>d.jsxs("div",{className:"work-order-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("div",{className:"order-info",children:[d.jsx("h3",{children:Tc(t.order_number)}),d.jsx("span",{className:"created-date",children:i(t.created_at)})]}),d.jsxs("div",{className:"status-badges",children:[d.jsx("span",{className:"status-badge",style:{backgroundColor:pm(t.status)},children:s(t.status)}),d.jsx("span",{className:"priority-badge",style:{backgroundColor:mm(t.priority)},children:a(t.priority)})]})]}),d.jsxs("div",{className:"card-content",children:[t.description&&d.jsx("p",{className:"description",children:t.description}),d.jsxs("div",{className:"dates-info",children:[t.planned_start_date&&d.jsxs("div",{className:"date-item",children:[d.jsx("span",{className:"label",children:"Inicio planificado:"}),d.jsx("span",{children:i(t.planned_start_date)})]}),t.planned_end_date&&d.jsxs("div",{className:"date-item",children:[d.jsx("span",{className:"label",children:"Fin planificado:"}),d.jsx("span",{children:i(t.planned_end_date)})]}),(t.actual_start_datetime||t.actual_start_date)&&d.jsxs("div",{className:"date-item",children:[d.jsx("span",{className:"label",children:"Inicio real:"}),d.jsx("span",{children:i(t.actual_start_datetime||t.actual_start_date,!0)})]}),(t.actual_end_datetime||t.actual_end_date)&&d.jsxs("div",{className:"date-item",children:[d.jsx("span",{className:"label",children:"Fin real:"}),d.jsx("span",{children:i(t.actual_end_datetime||t.actual_end_date,!0)})]})]}),t.notes&&d.jsxs("div",{className:"notes",children:[d.jsx("span",{className:"label",children:"Notas:"}),d.jsx("p",{children:t.notes})]})]}),d.jsxs("div",{className:"card-actions",children:[e&&d.jsx("button",{onClick:()=>e(t),className:"action-button view-button",children:" Ver Detalles"}),r&&(t.status==="pending"||t.status==="cancelled")&&d.jsx("button",{onClick:()=>r(t),className:"action-button edit-button",children:" Editar"}),n&&(t.status==="pending"||t.status==="cancelled")&&d.jsx("button",{onClick:()=>{window.confirm(`Ests seguro de que deseas eliminar la orden de trabajo ${Tc(t.order_number)}? Esta accin no se puede deshacer.`)&&n(t)},className:"action-button delete-button",children:" Eliminar"})]})]})),h_=ve.memo(({onCreate:t,onViewDetails:e,onEdit:r,onDelete:n,forceRefresh:i})=>{const[s,a]=ve.useState([]),[o,l]=ve.useState(!0),[u,f]=ve.useState(null),[m,y]=ve.useState(""),[p,_]=ve.useState("cards"),[b,k]=ve.useState("created_at"),[w,N]=ve.useState("desc"),S=ve.useCallback(async()=>{try{l(!0),f(null);const W=await r0(m||void 0);W.success&&W.data?(console.log(" WorkOrdersList - Datos recibidos del servidor:",W.data),W.data.length>0&&(console.log(" Primer elemento - actual_start_datetime:",W.data[0].actual_start_datetime),console.log(" Primer elemento - actual_start_date:",W.data[0].actual_start_date)),a(W.data)):f(W.message||"Error al cargar rdenes de trabajo")}catch(W){f("Error interno del servidor"),console.error("Error loading work orders:",W)}finally{l(!1)}},[m]);ve.useEffect(()=>{S()},[S,i]);const E=ve.useCallback((W,j=!1)=>{if(!W)return"-";try{let A;if(typeof W=="string"&&W.includes("T"))A=new Date(W);else if(typeof W=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(W)){const[Q,re,U]=W.split("-").map(Number);A=new Date(Q,re-1,U)}else A=new Date(W);if(isNaN(A.getTime()))return console.warn("Invalid date string:",W),"-";const $=String(A.getDate()).padStart(2,"0"),R=String(A.getMonth()+1).padStart(2,"0"),X=A.getFullYear();if(j||W&&W.includes("T")){const Q=String(A.getHours()).padStart(2,"0"),re=String(A.getMinutes()).padStart(2,"0");return`${$}/${R}/${X}, ${Q}:${re}`}return`${$}/${R}/${X}`}catch(A){return console.error("Error formatting date:",W,A),"-"}},[]),D=ve.useCallback(W=>({pending:"Pendiente",in_progress:"En Progreso",completed:"Completada",cancelled:"Cancelada"})[W]||W,[]),O=ve.useCallback(W=>({low:"Baja",normal:"Normal",high:"Alta",urgent:"Urgente"})[W]||W,[]),z=W=>{b===W?N(w==="asc"?"desc":"asc"):(k(W),N("asc"))},q=ve.useMemo(()=>[...s].sort((W,j)=>{let A=W[b],$=j[b];if(b==="order_number")A=parseInt(A)||0,$=parseInt($)||0;else if(b==="status"){const R={pending:1,in_progress:2,completed:3,cancelled:4};A=R[A]||0,$=R[$]||0}else if(b==="priority"){const R={low:1,normal:2,high:3,urgent:4};A=R[A]||0,$=R[$]||0}else(b.includes("date")||b==="created_at")&&(A=new Date(A||0).getTime(),$=new Date($||0).getTime());return A<$?w==="asc"?-1:1:A>$?w==="asc"?1:-1:0}),[s,b,w]),B=ve.useCallback(async()=>{const W=j=>new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2,useGrouping:!0,minimumIntegerDigits:1}).format(j);try{const j=await OA();if(!j.success||!j.data){alert("Error al obtener rdenes de trabajo para el reporte: "+j.message);return}const A=j.data,$=[];for(const ce of A)try{const P=await fm(ce.id);P.success&&P.data?$.push({...ce,details:P.data}):$.push({...ce,details:null})}catch(P){console.warn(`Error obteniendo detalles de OT ${ce.order_number}:`,P),$.push({...ce,details:null})}const R=new qe({orientation:"landscape"}),X=R.internal.pageSize.getWidth(),Q=R.internal.pageSize.getHeight(),re=15;let U=re+30;try{R.addImage("/img/logont.png","PNG",20,20,30,15)}catch{R.setFillColor(63,81,181),R.rect(20,20,30,15,"F"),R.setFont("helvetica","bold"),R.setFontSize(10),R.setTextColor(255,255,255),R.text("LOGO",35,30,{align:"center"})}R.setTextColor(0,0,0),R.setFontSize(18),R.setFont("helvetica","bold"),R.text("REPORTE DE RDENES DE TRABAJO",X/2,re+15,{align:"center"}),R.setFontSize(10),R.setFont("helvetica","normal");const ee=new Date().toLocaleDateString("es-ES")+" "+new Date().toLocaleTimeString("es-ES");if(R.text(`Generado: ${ee}`,X-re,re+15,{align:"right"}),R.setFont("helvetica","bold"),R.text(`Total de OT pendientes/en proceso: ${A.length}`,re,U),A.length===0)R.setFont("helvetica","normal"),R.setFontSize(14),R.text("No hay rdenes de trabajo pendientes o en proceso",X/2,U+30,{align:"center"});else{U+=20;const ce=["N OT","Estado","Prioridad","Descripcin","Producto","Cantidad","Materias Primas","Inicio Planificado","Fin Planificado"],P=[18,20,18,35,30,20,55,30,30],H=re;R.setFillColor(240,240,240),R.rect(H,U,X-2*re,10,"F"),R.setFontSize(8),R.setFont("helvetica","bold"),R.setTextColor(0,0,0);let J=H+3;ce.forEach((Z,ne)=>{const oe=P[ne]-2,ge=R.splitTextToSize(Z,oe);R.text(ge[0]||Z,J,U+6,{maxWidth:oe}),J+=P[ne]}),U+=12,R.setFontSize(6),R.setFont("helvetica","normal"),$.forEach(Z=>{let ne=15;if(Z.details&&Z.details.items){let Se=0;Z.details.items.forEach(Ce=>{Ce.formula&&Ce.formula.length>0&&(Se=Math.max(Se,Ce.formula.length))}),ne=Math.max(ne,12+(Se-1)*5)}U+ne>Q-re&&(R.addPage("landscape"),U=re,R.setFillColor(240,240,240),R.rect(H,U,X-2*re,10,"F"),R.setFont("helvetica","bold"),R.setFontSize(8),J=H+3,ce.forEach((Se,Ce)=>{const Le=P[Ce]-2,fe=R.splitTextToSize(Se,Le);R.text(fe[0]||Se,J,U+6,{maxWidth:Le}),J+=P[Ce]}),U+=12,R.setFontSize(7),R.setFont("helvetica","normal")),J=H,R.rect(J,U,X-2*re,ne),P.slice(0,-1).forEach(Se=>{J+=Se,R.line(J,U,J,U+ne)});let oe="-",ge="-",he=[];Z.details&&Z.details.items&&Z.details.items.length>0&&(oe=Z.details.items.map(Le=>Le.product_name||"Sin nombre").join(", "),ge=Z.details.items.map(Le=>`${W(Le.planned_quantity||0)} ${Le.product_unit||""}`).join(", "),Z.details.items.forEach(Le=>{Le.formula&&Le.formula.length>0&&Le.formula.forEach(fe=>{const Y=fe.consumption_planned||fe.quantity||0;Y>0&&he.push(`${fe.raw_material_name}: ${W(Y)} ${fe.raw_material_unit}`)})})),J=H,R.rect(J,U,X-2*re,ne),P.slice(0,-1).forEach(Se=>{J+=Se,R.line(J,U,J,U+ne)}),J=H+3,[Tc(Z.order_number),D(Z.status),O(Z.priority),Z.description||"-",oe,ge,"",E(Z.planned_start_date),E(Z.planned_end_date)].forEach((Se,Ce)=>{const Le=P[Ce]-6;if(Ce===6){let fe=U+5;he.forEach(Y=>{if(fe-U<ne-4){const ft=R.splitTextToSize(Y,Le);R.text(ft[0]||Y,J,fe,{maxWidth:Le}),fe+=4.5}}),he.length===0&&R.text("-",J,U+6,{maxWidth:Le})}else{const fe=R.splitTextToSize(Se,Le);R.text(fe[0]||"-",J,U+6,{maxWidth:Le})}J+=P[Ce]}),U+=ne,R.line(H,U,X-re,U)})}R.setFontSize(8),R.setFont("helvetica","italic"),R.text(`Total de registros: ${A.length}`,re,Q-10);const pe=`Reporte_OT_${new Date().toISOString().split("T")[0]}.pdf`;R.save(pe),alert("Reporte de rdenes de trabajo generado exitosamente")}catch(j){console.error("Error generando reporte PDF:",j),alert("Error al generar el reporte PDF: "+(j instanceof Error?j.message:"Error desconocido"))}},[E,D,O]);return o?d.jsx("div",{className:"work-orders-list",children:d.jsx("div",{className:"loading",children:"Cargando rdenes de trabajo..."})}):u?d.jsx("div",{className:"work-orders-list",children:d.jsxs("div",{className:"error",children:[d.jsx("p",{children:u}),d.jsx("button",{onClick:S,className:"retry-button",children:"Reintentar"})]})}):d.jsxs("div",{className:"work-orders-list",children:[d.jsxs("div",{className:"list-header",children:[d.jsx("h2",{children:" rdenes de Trabajo"}),d.jsxs("div",{className:"header-actions",children:[d.jsxs("div",{className:"view-selector",children:[d.jsx("button",{onClick:()=>_("cards"),className:`view-button ${p==="cards"?"active":""}`,title:"Vista de tarjetas",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),d.jsx("button",{onClick:()=>_("grid"),className:`view-button ${p==="grid"?"active":""}`,title:"Vista de grilla",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M3 12h18"}),d.jsx("path",{d:"M3 18h18"})]})})]}),d.jsxs("select",{value:m,onChange:W=>y(W.target.value),className:"status-filter",children:[d.jsx("option",{value:"",children:"Todos los estados"}),d.jsx("option",{value:"pending",children:"Pendientes"}),d.jsx("option",{value:"in_progress",children:"En Progreso"}),d.jsx("option",{value:"completed",children:"Completadas"}),d.jsx("option",{value:"cancelled",children:"Canceladas"})]}),d.jsx("button",{onClick:B,className:"print-button",title:"Generar reporte PDF de OT pendientes/en proceso",children:" Imprimir Reporte"}),t&&d.jsx("button",{onClick:t,className:"create-button",children:" Nueva OT"})]})]}),s.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsxs("p",{children:["No hay rdenes de trabajo ",m&&`en estado ${D(m)}`]}),t&&d.jsx("button",{onClick:t,className:"create-button",children:"Crear primera orden de trabajo"})]}):p==="cards"?d.jsx("div",{className:"work-orders-grid",children:q.map(W=>d.jsx(UA,{workOrder:W,onViewDetails:e,onEdit:r,onDelete:n,formatDate:E,getStatusLabel:D,getPriorityLabel:O},W.id))}):d.jsx("div",{className:"work-orders-table-container",children:d.jsx("div",{className:"work-orders-table-wrapper",children:d.jsxs("table",{className:"work-orders-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsxs("th",{onClick:()=>z("order_number"),style:{cursor:"pointer"},children:["N OT ",b==="order_number"&&(w==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>z("status"),style:{cursor:"pointer"},children:["Estado ",b==="status"&&(w==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>z("priority"),style:{cursor:"pointer"},children:["Prioridad ",b==="priority"&&(w==="asc"?"":"")]}),d.jsx("th",{children:"Descripcin"}),d.jsxs("th",{onClick:()=>z("planned_start_date"),style:{cursor:"pointer"},children:["Inicio Planificado ",b==="planned_start_date"&&(w==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>z("planned_end_date"),style:{cursor:"pointer"},children:["Fin Planificado ",b==="planned_end_date"&&(w==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>z("actual_start_date"),style:{cursor:"pointer"},children:["Inicio Real ",b==="actual_start_date"&&(w==="asc"?"":"")]}),d.jsxs("th",{onClick:()=>z("actual_end_date"),style:{cursor:"pointer"},children:["Fin Real ",b==="actual_end_date"&&(w==="asc"?"":"")]}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:q.map(W=>d.jsxs("tr",{children:[d.jsx("td",{className:"order-number",children:Tc(W.order_number)}),d.jsx("td",{children:d.jsx("span",{className:"status-badge",style:{backgroundColor:pm(W.status)},children:D(W.status)})}),d.jsx("td",{children:d.jsx("span",{className:"priority-badge",style:{backgroundColor:mm(W.priority)},children:O(W.priority)})}),d.jsx("td",{className:"description-cell",children:W.description||"-"}),d.jsx("td",{children:E(W.planned_start_date)}),d.jsx("td",{children:E(W.planned_end_date)}),d.jsx("td",{children:E(W.actual_start_datetime||W.actual_start_date,!0)}),d.jsx("td",{children:E(W.actual_end_datetime||W.actual_end_date,!0)}),d.jsxs("td",{className:"actions-cell",children:[e&&d.jsx("button",{onClick:()=>e(W),className:"action-button view-button table-action",title:"Ver Detalles",children:""}),r&&(W.status==="pending"||W.status==="cancelled")&&d.jsx("button",{onClick:()=>r(W),className:"action-button edit-button table-action",title:"Editar",children:""}),n&&(W.status==="pending"||W.status==="cancelled")&&d.jsx("button",{onClick:()=>{window.confirm(`Ests seguro de que deseas eliminar la orden de trabajo ${Tc(W.order_number)}? Esta accin no se puede deshacer.`)&&n(W)},className:"action-button delete-button table-action",title:"Eliminar",children:""})]})]},W.id))})]})})})]})});h_.displayName="WorkOrdersList";const qA=({isOpen:t,onClose:e,onSubmit:r,workOrder:n})=>{const[i,s]=ve.useState({description:"",priority:"normal",planned_start_date:"",planned_end_date:"",notes:""}),[a,o]=ve.useState([]),[l,u]=ve.useState([]),[f,m]=ve.useState(!1),[y,p]=ve.useState(!1),[_,b]=ve.useState([]),[k,w]=ve.useState([]);ve.useEffect(()=>{t&&S()},[t]),ve.useEffect(()=>{t&&n?N():t&&!n&&E()},[t,n]);const N=async()=>{if(n)try{m(!0);const X=await fm(n.id);if(X.success&&X.data){const Q=re=>{if(!re)return"";try{if(typeof re=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(re))return re;if(typeof re=="string"&&re.includes("T"))return re.split("T")[0];let U;if(typeof re=="string")U=new Date(re);else return"";if(isNaN(U.getTime()))return console.error("Invalid date format:",re),"";const ee=U.getFullYear(),pe=String(U.getMonth()+1).padStart(2,"0"),ce=String(U.getDate()).padStart(2,"0");return`${ee}-${pe}-${ce}`}catch(U){return console.error("Error parsing date:",re,U),""}};if(s({description:X.data.description||"",priority:X.data.priority,planned_start_date:Q(X.data.planned_start_date),planned_end_date:Q(X.data.planned_end_date),notes:X.data.notes||""}),console.log("WorkOrderForm - Received data:",X.data),console.log("WorkOrderForm - Items:",X.data.items),X.data.items&&X.data.items.length>0){const re=X.data.items.map(ee=>({...ee,product:ee.product||{id:ee.product_id,name:ee.product_name,unit:ee.product_unit,base_quantity:1,description:"",is_active:!0,created_at:ee.work_order_created_at,updated_at:ee.work_order_created_at}})),U=re.filter(ee=>ee.product).map(ee=>({product:ee.product,quantity:ee.planned_quantity}));o(U),console.log("WorkOrderForm - Raw items:",X.data.items),console.log("WorkOrderForm - Transformed items:",re),console.log("WorkOrderForm - Processed products:",U)}else o([])}else console.error("Failed to load work order data:",X.message),b([X.message||"Error al cargar datos de la orden de trabajo"])}catch(X){console.error("Error loading work order data:",X),b(["Error al cargar datos de la orden de trabajo"])}finally{m(!1)}},S=async()=>{try{m(!0);const X=await vi.getAll(!1);u(X)}catch(X){console.error("Error loading products:",X)}finally{m(!1)}},E=()=>{s({description:"",priority:"normal",planned_start_date:"",planned_end_date:"",notes:""}),o([]),b([]),w([])},D=()=>{E(),e()},O=X=>{const{name:Q,value:re}=X.target;s(U=>({...U,[Q]:re}))},z=()=>{if(l.length>0){const X=l.find(Q=>!a.some(re=>re.product.id===Q.id));X&&o(Q=>[...Q,{product:X,quantity:X.base_quantity}])}},q=(X,Q)=>{const re=l.find(U=>U.id===Q);re?o(U=>U.map((ee,pe)=>pe===X?{...ee,product:re,quantity:re.base_quantity}:ee)):console.error("Product not found in available products:",Q)},B=(X,Q)=>{Q>0&&o(re=>re.map((U,ee)=>ee===X?{...U,quantity:Q}:U))},W=X=>{o(Q=>Q.filter((re,U)=>U!==X))},j=()=>{const X=[];if(!i.description&&!i.notes&&X.push("Debe proporcionar una descripcin o notas para la orden de trabajo"),a.length===0&&X.push("Debe seleccionar al menos un producto"),i.planned_start_date&&i.planned_end_date){const U=new Date(i.planned_start_date),ee=new Date(i.planned_end_date);U>=ee&&X.push("La fecha de inicio debe ser anterior a la fecha de fin")}const Q=a.map(U=>U.product.id),re=new Set(Q);return Q.length!==re.size&&X.push("No puede seleccionar el mismo producto ms de una vez"),b(X),X.length===0},A=async X=>{if(X.preventDefault(),!!j())try{p(!0),b([]),w([]);let Q;if(n){const re=a.map(U=>({product_id:U.product.id,planned_quantity:U.quantity}));Q=await FA(n.id,i,re)}else{const re=a.map(U=>({product_id:U.product.id,planned_quantity:U.quantity}));Q=await IA(i,re)}if(Q.success){if(!n&&Q.data&&"warnings"in Q.data&&Array.isArray(Q.data.warnings)&&Q.data.warnings.length>0){w(Q.data.warnings);return}r(),D()}else{const re=n?"actualizar":"crear";b(Q.errors||[Q.message||`Error al ${re} la orden de trabajo`])}}catch(Q){console.error("Error submitting work order:",Q),b(["Error interno del servidor"])}finally{p(!1)}},$=()=>{r(),D()};if(!t)return null;const R=BA();return d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"work-order-form-modal",children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("h2",{children:[" ",n?"Editar Orden de Trabajo":"Crear Nueva Orden de Trabajo"]}),d.jsx("button",{onClick:D,className:"close-button",children:""})]}),d.jsxs("form",{onSubmit:A,className:"work-order-form",children:[d.jsxs("div",{className:"form-section",children:[d.jsx("h3",{children:"Informacin General"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"description",children:"Descripcin *"}),d.jsx("textarea",{id:"description",name:"description",value:i.description,onChange:O,placeholder:"Describe el propsito de esta orden de trabajo",rows:3})]}),d.jsx("div",{className:"form-row",children:d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"priority",children:"Prioridad"}),d.jsx("select",{id:"priority",name:"priority",value:i.priority,onChange:O,children:R.map(X=>d.jsx("option",{value:X.value,children:X.label},X.value))})]})}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"planned_start_date",children:"Fecha Inicio Planificada"}),d.jsx("input",{type:"date",id:"planned_start_date",name:"planned_start_date",value:i.planned_start_date,onChange:O})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"planned_end_date",children:"Fecha Fin Planificada"}),d.jsx("input",{type:"date",id:"planned_end_date",name:"planned_end_date",value:i.planned_end_date,onChange:O})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notes",children:"Notas Adicionales"}),d.jsx("textarea",{id:"notes",name:"notes",value:i.notes,onChange:O,placeholder:"Notas adicionales sobre la orden de trabajo",rows:2})]})]}),d.jsxs("div",{className:"form-section",children:[d.jsxs("div",{className:"section-header",children:[d.jsx("h3",{children:"Productos a Producir"}),d.jsx("button",{type:"button",onClick:z,className:"add-product-button",disabled:f||l.length===0,children:" Agregar Producto"})]}),f?d.jsx("div",{className:"loading",children:"Cargando productos..."}):a.length===0?d.jsxs("div",{className:"empty-products",children:[d.jsx("p",{children:"No hay productos seleccionados"}),d.jsx("button",{type:"button",onClick:z,className:"add-product-button",children:"Agregar primer producto"})]}):d.jsx("div",{className:"products-list",children:a.map((X,Q)=>d.jsxs("div",{className:"product-item",children:[d.jsxs("div",{className:"product-info",children:[d.jsx("select",{value:X.product.id,onChange:re=>q(Q,re.target.value),className:"product-select",children:l.filter(re=>!a.some((U,ee)=>ee!==Q&&U.product.id===re.id)).map(re=>d.jsxs("option",{value:re.id,children:[re.name," (",re.unit,")"]},re.id))}),d.jsxs("div",{className:"quantity-input",children:[d.jsx("label",{children:"Cantidad:"}),d.jsx("input",{type:"number",min:"0.01",step:"0.01",value:X.quantity,onChange:re=>B(Q,parseFloat(re.target.value)),placeholder:`Base: ${X.product.base_quantity}`}),d.jsx("span",{className:"unit",children:X.product.unit})]})]}),d.jsx("button",{type:"button",onClick:()=>W(Q),className:"remove-product-button",title:"Remover producto",children:""})]},Q))})]}),_.length>0&&d.jsxs("div",{className:"errors-section",children:[d.jsx("h4",{children:"Errores:"}),d.jsx("ul",{children:_.map((X,Q)=>d.jsx("li",{children:X},Q))})]}),k.length>0&&d.jsxs("div",{className:"warnings-section",children:[d.jsx("h4",{children:" Advertencias de Disponibilidad:"}),d.jsx("ul",{children:k.map((X,Q)=>d.jsx("li",{children:X},Q))}),d.jsx("p",{className:"warning-note",children:"La orden de trabajo se puede crear de todas formas, pero revise la disponibilidad de materias primas."})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",onClick:D,className:"cancel-button",disabled:y,children:"Cancelar"}),k.length>0?d.jsx("button",{type:"button",onClick:$,className:"confirm-button",disabled:y,children:y?n?"Actualizando...":"Creando...":n?"Actualizar con Advertencias":"Crear con Advertencias"}):d.jsx("button",{type:"submit",className:"submit-button",disabled:y,children:y?n?"Actualizando...":"Creando...":n?"Actualizar Orden de Trabajo":"Crear Orden de Trabajo"})]})]})]})})},$A=({workOrder:t,isOpen:e,onClose:r,onUpdate:n,onViewAnalyses:i})=>{const[s,a]=ve.useState(null),[o,l]=ve.useState(!1),[u,f]=ve.useState(!1),[m,y]=ve.useState(null),[p,_]=ve.useState([]),[b,k]=ve.useState(!1),[w,N]=ve.useState({});ve.useEffect(()=>{e&&t&&S()},[e,t]);const S=async()=>{try{l(!0),y(null);const A=await fm(t.id);A.success&&A.data?(console.log(" WorkOrderDetails - Datos recibidos del servidor:",A.data),console.log(" actual_start_datetime:",A.data.actual_start_datetime),console.log(" actual_start_date:",A.data.actual_start_date),a(A.data)):y(A.message||"Error al cargar detalles")}catch(A){y("Error interno del servidor"),console.error("Error loading work order details:",A)}finally{l(!1)}},E=async A=>{try{f(!0),y(null),_([]);const $=await RA(t.id,A);if($.success)_([]),$.warnings&&$.warnings.length>0&&_($.warnings),await S(),n==null||n();else if($.errors&&$.errors.length>0){const R=$.errors.length===1?$.errors[0]:`${$.message}

Detalles:
${$.errors.join(`
`)}`;y(R)}else y($.message||"Error al cambiar estado")}catch($){y("Error al cambiar estado"),console.error("Error updating status:",$)}finally{f(!1)}},D=(A,$=!1)=>{if(!A)return"-";$&&console.log(" WorkOrderDetails formatDate - dateString:",A,"isActualDate:",$);try{let R;if(typeof A=="string"&&A.includes("T"))R=new Date(A);else if(typeof A=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(A)){const[U,ee,pe]=A.split("-").map(Number);R=new Date(U,ee-1,pe)}else R=new Date(A);if(isNaN(R.getTime()))return console.warn("Invalid date string:",A),"-";const X=String(R.getDate()).padStart(2,"0"),Q=String(R.getMonth()+1).padStart(2,"0"),re=R.getFullYear();if($||A&&A.includes("T")){const U=String(R.getHours()).padStart(2,"0"),ee=String(R.getMinutes()).padStart(2,"0");return`${X}/${Q}/${re}, ${U}:${ee}`}return`${X}/${Q}/${re}`}catch(R){return console.error("Error formatting date:",A,R),"-"}},O=A=>new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}).format(A),z=A=>({pending:"Pendiente",in_progress:"En Progreso",completed:"Completada",cancelled:"Cancelada"})[A]||A,q=A=>({low:"Baja",normal:"Normal",high:"Alta",urgent:"Urgente"})[A]||A,B=A=>({pending:"Pendiente",in_progress:"En Progreso",completed:"Completado",cancelled:"Cancelado"})[A]||A,W=async A=>{try{f(!0),y(null);const $=await MA(t.id,A);$.success?(k(!1),N({}),await S(),n==null||n()):(y($.message||"Error al completar orden de trabajo"),$.errors&&$.errors.length>0&&console.error("Errores de completacin:",$.errors),$.warnings&&$.warnings.length>0&&console.warn("Advertencias de completacin:",$.warnings))}catch($){y("Error al completar orden de trabajo"),console.error("Error completing work order:",$)}finally{f(!1)}},j=()=>{if(!s)return;const A=new qe,$=A.internal.pageSize.getWidth(),R=A.internal.pageSize.getHeight(),X=20;let Q=50;const re=()=>{Q>R-30&&(A.addPage(),Q=30)};try{A.addImage("/img/logont.png","PNG",20,20,40,20),console.log("Logo agregado exitosamente al PDF")}catch(ce){console.log("Error al cargar logo desde URL, usando placeholder:",ce),A.setFillColor(63,81,181),A.rect(20,20,40,20,"F"),A.setFont("helvetica","bold"),A.setFontSize(12),A.setTextColor(255,255,255),A.text("LOGO NT",40,32,{align:"center"}),console.log("Logo placeholder agregado al PDF")}if(A.setTextColor(0,0,0),A.setFontSize(20),A.setFont("helvetica","bold"),A.text("HOJA DE TRABAJO",$/2,Q,{align:"center"}),Q+=15,A.setFontSize(16),A.text(`OT ${s.order_number}`,$/2,Q,{align:"center"}),Q+=10,A.line(20,Q,$-20,Q),Q+=15,A.setFontSize(12),A.setFont("helvetica","normal"),A.text(`Estado: ${z(s.status)}`,X,Q),Q+=6,A.text(`Prioridad: ${q(s.priority)}`,X,Q),Q+=6,A.text(`Fecha Planificada: ${D(s.planned_start_date)} - ${D(s.planned_end_date)}`,X,Q),Q+=6,s.actual_start_datetime&&(A.text(`Fecha Real: ${D(s.actual_start_datetime,!0)}`,X,Q),Q+=6),Q+=5,s.description){A.setFont("helvetica","bold"),A.text("Descripcin:",X,Q),Q+=6,A.setFont("helvetica","normal");const ce=A.splitTextToSize(s.description,$-2*X);A.text(ce,X,Q),Q+=ce.length*5+5}A.setFontSize(14),A.setFont("helvetica","bold"),A.text("PRODUCTOS A PRODUCIR",X,Q),Q+=10,A.line(X,Q-2,$-X,Q-2),Q+=5,A.setFontSize(11),A.setFont("helvetica","normal"),s.items&&s.items.length>0&&s.items.forEach(ce=>{re(),A.text(`Producto: ${ce.product_name}`,X,Q),Q+=6,A.text(`Cantidad Planificada: ${O(ce.planned_quantity)} ${ce.product_unit}`,X+10,Q),Q+=6,A.text(`Cantidad Producida: ${O(ce.produced_quantity||0)} ${ce.product_unit}`,X+10,Q),Q+=10}),re(),A.setFontSize(14),A.setFont("helvetica","bold"),A.text("MATERIAS PRIMAS NECESARIAS",X,Q),Q+=10,A.line(X,Q-2,$-X,Q-2),Q+=5;const U={};s.items&&s.items.length>0&&s.items.forEach(ce=>{ce.formula&&ce.formula.forEach(P=>{const H=P.consumption_planned||P.quantity||0,J=P.raw_material_name;U[J]?U[J].total+=H:U[J]={name:P.raw_material_name,unit:P.raw_material_unit,total:H}})}),A.setFontSize(11),A.setFont("helvetica","normal"),Object.values(U).forEach(ce=>{re(),A.text(`${ce.name}: ${O(ce.total)} ${ce.unit}`,X,Q),Q+=8});const ee="Fecha de impresin: "+new Date().toLocaleDateString("es-ES")+" "+new Date().toLocaleTimeString("es-ES");A.setFontSize(8),A.setFont("helvetica","italic"),A.text(ee,X,R-15);const pe=`Hoja_Trabajo_OT_${s.order_number}.pdf`;A.save(pe)};return e?d.jsxs("div",{className:"modal-overlay",children:[d.jsx("div",{className:"work-order-details-modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:" Detalles de Orden de Trabajo"}),d.jsxs("div",{className:"header-actions",children:[d.jsx("button",{onClick:j,className:"print-button",children:" Imprimir Hoja de Trabajo"}),t.status==="completed"&&d.jsx("button",{onClick:()=>i==null?void 0:i(t),className:"analyses-button",children:" Anlisis"}),d.jsx("button",{onClick:r,className:"close-button",children:""})]})]}),d.jsx("div",{className:"modal-body",children:o?d.jsx("div",{className:"loading",children:"Cargando detalles..."}):m?d.jsxs("div",{className:"error",children:[d.jsx("p",{children:m}),d.jsx("button",{onClick:S,className:"retry-button",children:"Reintentar"})]}):s?d.jsxs(d.Fragment,{children:[p.length>0&&d.jsx("div",{className:"warnings-section",children:d.jsxs("div",{className:"warning-banner",children:[d.jsx("h4",{children:" Advertencias de Stock"}),d.jsx("ul",{children:p.map((A,$)=>d.jsx("li",{children:A},$))}),d.jsx("button",{onClick:()=>_([]),className:"dismiss-warning-button",children:""})]})}),d.jsxs("div",{className:"details-section",children:[d.jsx("h3",{children:"Informacin General"}),d.jsxs("div",{className:"info-grid",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Nmero de Orden:"}),d.jsx("span",{className:"order-number",children:s.order_number})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Estado:"}),d.jsxs("div",{className:"status-controls",children:[d.jsx("span",{className:"status-badge",style:{backgroundColor:pm(s.status)},children:z(s.status)}),s.status==="pending"&&d.jsx("button",{onClick:()=>E("in_progress"),className:"status-action-button",disabled:u,children:u?"...":" Iniciar"}),s.status==="in_progress"&&d.jsx("button",{onClick:()=>E("completed"),className:"status-action-button",disabled:u,children:u?"...":"completar"})]})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Prioridad:"}),d.jsx("span",{className:"priority-badge",style:{backgroundColor:mm(s.priority)},children:q(s.priority)})]}),d.jsxs("div",{className:"info-item",children:[d.jsx("label",{children:"Creado:"}),d.jsx("span",{children:D(s.created_at)})]})]}),s.description&&d.jsxs("div",{className:"description-section",children:[d.jsx("label",{children:"Descripcin:"}),d.jsx("p",{children:s.description})]}),s.notes&&d.jsxs("div",{className:"notes-section",children:[d.jsx("label",{children:"Notas:"}),d.jsx("p",{children:s.notes})]})]}),d.jsxs("div",{className:"details-section",children:[d.jsx("h3",{children:"Fechas"}),d.jsxs("div",{className:"dates-grid",children:[d.jsxs("div",{className:"date-item",children:[d.jsx("label",{children:"Inicio Planificado:"}),d.jsx("span",{children:D(s.planned_start_date)})]}),d.jsxs("div",{className:"date-item",children:[d.jsx("label",{children:"Fin Planificado:"}),d.jsx("span",{children:D(s.planned_end_date)})]}),d.jsxs("div",{className:"date-item",children:[d.jsx("label",{children:"Inicio Real:"}),d.jsx("span",{children:D(s.actual_start_datetime,!0)})]}),d.jsxs("div",{className:"date-item",children:[d.jsx("label",{children:"Fin Real:"}),d.jsx("span",{children:D(s.actual_end_datetime,!0)})]})]})]}),d.jsxs("div",{className:"details-section",children:[d.jsx("h3",{children:"Frmulas"}),!s.items||s.items.length===0?d.jsx("p",{className:"empty-message",children:"No hay productos definidos"}):d.jsx("div",{className:"products-list",children:s.items.map((A,$)=>d.jsxs("div",{className:"product-card",children:[d.jsxs("div",{className:"product-header",children:[d.jsx("h4",{children:A.product_name}),d.jsx("span",{className:"product-status",children:B(A.status)})]}),d.jsxs("div",{className:"product-details",children:[d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Cantidad Planificada:"}),d.jsxs("span",{className:"value",children:[O(A.planned_quantity)," ",A.product_unit]})]}),d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Cantidad Producida:"}),d.jsxs("span",{className:"value",children:[O(A.produced_quantity)," ",A.product_unit]})]})]}),A.formula&&A.formula.length>0&&d.jsxs("div",{className:"formula-section",children:[d.jsx("h5",{children:"Frmula de Produccin:"}),d.jsx("div",{className:"materials-list",children:A.formula.map((R,X)=>{const Q=R.consumption_planned||R.quantity||0;return d.jsxs("div",{className:"material-item",children:[d.jsxs("div",{className:"material-info",children:[d.jsx("span",{className:"material-name",children:R.raw_material_name}),d.jsxs("span",{className:"material-unit",children:["(",R.raw_material_unit,")"]})]}),d.jsxs("div",{className:"material-quantities",children:[d.jsxs("div",{className:"quantity-detail",children:[d.jsx("span",{className:"label",children:"Necesario:"}),d.jsx("span",{className:"value",children:O(Q)})]}),d.jsxs("div",{className:"quantity-detail",children:[d.jsx("span",{className:"label",children:"Consumido:"}),d.jsx("span",{className:"value",children:O(R.actual_consumption||0)})]}),d.jsxs("div",{className:"quantity-detail",children:[d.jsx("span",{className:"label",children:"Stock Disponible:"}),d.jsx("span",{className:`value ${R.raw_material_current_stock<Q?"insufficient":""}`,children:O(R.raw_material_current_stock)})]})]})]},X)})})]})]},A.id||$))})]})]}):d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No se pudieron cargar los detalles"})})})]})}),b&&s&&d.jsx(zA,{details:s,completionData:w,onCompletionDataChange:N,onComplete:W,onCancel:()=>k(!1),updating:u})]}):null},zA=({details:t,completionData:e,onCompletionDataChange:r,onComplete:n,onCancel:i,updating:s})=>{var f;const a=(m,y)=>{const p={...e};p[m]?p[m].produced_quantity=y:p[m]={produced_quantity:y,consumption:{}},r(p)},o=(m,y,p)=>{const _={...e};_[m]||(_[m]={produced_quantity:0,consumption:{}}),_[m].consumption[y]=p,r(_)},l=m=>new Intl.NumberFormat("es-ES",{minimumFractionDigits:2,maximumFractionDigits:2}).format(m),u=()=>{const m={items:{}};Object.entries(e).forEach(([y,p])=>{m.items[y]={produced_quantity:p.produced_quantity,consumption:Object.entries(p.consumption).map(([_,b])=>({raw_material_id:_,actual_consumption:b}))}}),n(m)};return d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"completion-modal",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:" Completar Orden de Trabajo"}),d.jsx("button",{onClick:i,className:"close-button",children:""})]}),d.jsxs("div",{className:"modal-body",children:[d.jsx("p",{className:"completion-instructions",children:"Registre las cantidades producidas y el consumo real de materias primas para completar la orden de trabajo."}),d.jsx("div",{className:"completion-items",children:(f=t.items)==null?void 0:f.map(m=>{var y;return d.jsxs("div",{className:"completion-item",children:[d.jsx("h4",{children:m.product_name}),d.jsxs("div",{className:"completion-inputs",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Cantidad Producida:"}),d.jsxs("div",{className:"input-with-unit",children:[d.jsx("input",{type:"number",min:"0",step:"0.01",value:((y=e[m.id])==null?void 0:y.produced_quantity)||m.planned_quantity,onChange:p=>a(m.id,parseFloat(p.target.value)||0),placeholder:`Planificado: ${l(m.planned_quantity)}`}),d.jsx("span",{className:"unit",children:m.product_unit})]})]}),m.formula&&m.formula.length>0&&d.jsxs("div",{className:"consumption-section",children:[d.jsx("h5",{children:"Consumo de Materias Primas:"}),m.formula.map(p=>{var k;const _=p.consumption_planned||p.quantity||0,b=((k=e[m.id])==null?void 0:k.consumption[p.raw_material_id])||_;return d.jsxs("div",{className:"consumption-input",children:[d.jsxs("label",{children:[p.raw_material_name,":"]}),d.jsxs("div",{className:"input-with-unit",children:[d.jsx("input",{type:"number",min:"0",step:"0.01",value:b,onChange:w=>o(m.id,p.raw_material_id,parseFloat(w.target.value)||0),placeholder:`Necesario: ${l(_)}`}),d.jsx("span",{className:"unit",children:p.raw_material_unit})]}),d.jsxs("span",{className:"stock-info",children:["Stock: ",l(p.raw_material_current_stock)]})]},p.raw_material_id)})]})]})]},m.id)})}),d.jsxs("div",{className:"completion-actions",children:[d.jsx("button",{onClick:i,className:"cancel-button",disabled:s,children:"Cancelar"}),d.jsx("button",{onClick:u,className:"complete-button",disabled:s,children:s?"Completando...":" Completar Orden de Trabajo"})]})]})]})})},Xs=bt.create({baseURL:ua,headers:{"Content-Type":"application/json"}}),WA=async t=>{try{return(await Xs.get(`/work-orders/${t}/analyses`)).data}catch(e){return console.error("Error obteniendo anlisis de orden de trabajo:",e),{success:!1,message:"Error al obtener anlisis de orden de trabajo",errors:[e instanceof Error?e.message:"Error desconocido"]}}},HA=async(t,e)=>{try{if(e.file){const r=new FormData;r.append("analysis_type",e.analysis_type),r.append("analysis_date",e.analysis_date||new Date().toISOString().split("T")[0]),r.append("notes",e.notes||""),r.append("description",e.description||""),r.append("created_by","Usuario"),r.append("file",e.file);const n=await Xs.get(`/work-orders/${t}`);if(n.data.success&&n.data.data.items&&n.data.data.items.length>0)r.append("work_order_item_id",n.data.data.items[0].id);else return{success:!1,message:"No se pudo obtener el item de la orden de trabajo",errors:["La orden de trabajo no tiene items vlidos"]};return(await Xs.post(`/work-orders/${t}/analyses`,r,{headers:{"Content-Type":"multipart/form-data"}})).data}else{const r={analysis_type:e.analysis_type,analysis_date:e.analysis_date||new Date().toISOString().split("T")[0],notes:e.notes,description:e.description,created_by:"Usuario"},n=await Xs.get(`/work-orders/${t}`);if(n.data.success&&n.data.data.items&&n.data.data.items.length>0)r.work_order_item_id=n.data.data.items[0].id;else return{success:!1,message:"No se pudo obtener el item de la orden de trabajo",errors:["La orden de trabajo no tiene items vlidos"]};return(await Xs.post(`/work-orders/${t}/analyses`,r)).data}}catch(r){return console.error("Error creando anlisis:",r),{success:!1,message:"Error al crear anlisis",errors:[r instanceof Error?r.message:"Error desconocido"]}}},f_=async t=>{var e,r;try{return await Xs.delete(`/analyses/${t}`),{success:!0,message:"Anlisis eliminado exitosamente"}}catch(n){return console.error("Error eliminando anlisis:",n),{success:!1,message:((r=(e=n.response)==null?void 0:e.data)==null?void 0:r.message)||"Error al eliminar anlisis"}}},VA=async()=>{var t,e,r;try{console.log(" AnlisisService - Iniciando peticin GET /analyses..."),console.log(" AnlisisService - URL base:",ua),console.log(" AnlisisService - Full URL:",Xs.defaults.baseURL+"/analyses");const n=await Xs.get("/analyses");return console.log(" AnlisisService - Respuesta exitosa:"),console.log(" AnlisisService - Status:",n.status),console.log(" AnlisisService - Headers:",n.headers),console.log(" AnlisisService - Data success:",n.data.success),n.data.success&&n.data.data&&(console.log(" AnlisisService - Anlisis encontrados:",n.data.data.length),console.log(" AnlisisService - Primer anlisis:",n.data.data[0])),n.data}catch(n){return console.error(" AnlisisService - Error obteniendo todos los anlisis:",n),console.error(" AnlisisService - Error message:",n.message),console.error(" AnlisisService - Error config:",n.config),console.error(" AnlisisService - Error status:",(t=n.response)==null?void 0:t.status),console.error(" AnlisisService - Error data:",(e=n.response)==null?void 0:e.data),console.error(" AnlisisService - Error headers:",(r=n.response)==null?void 0:r.headers),{success:!1,message:"Error al obtener anlisis",errors:[n instanceof Error?n.message:"Error desconocido"]}}},n0=t=>({chemical:"#4caf50",physical:"#2196f3",microbiological:"#ff9800",organoleptic:"#9c27b0",general:"#607d8b"})[t]||"#9e9e9e",i0=t=>({chemical:"Qumico",physical:"Fsico",microbiological:"Microbiolgico",organoleptic:"Organolptico",general:"General"})[t]||t,s0=t=>t||"N/A",GA=()=>[{value:"chemical",label:"Qumico",color:"#4caf50"},{value:"physical",label:"Fsico",color:"#2196f3"},{value:"microbiological",label:"Microbiolgico",color:"#ff9800"},{value:"organoleptic",label:"Organolptico",color:"#9c27b0"},{value:"general",label:"General",color:"#607d8b"}],gc=t=>{if(!t)return"-";try{return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit"})}catch(e){return console.error("Error formateando fecha de anlisis:",e),"-"}},KA=({workOrder:t,isOpen:e,onClose:r})=>{const[n,i]=ve.useState([]),[s,a]=ve.useState(!1),[o,l]=ve.useState(null),[u,f]=ve.useState(!1),[m,y]=ve.useState(!1),[p,_]=ve.useState({analysis_type:"general",analysis_date:new Date().toISOString().split("T")[0],notes:"",description:"",file:void 0});ve.useEffect(()=>{e&&t&&b()},[e,t]);const b=async()=>{try{a(!0),l(null);const S=await WA(t.id);S.success&&S.data?i(S.data):l(S.message||"Error al cargar anlisis")}catch(S){l("Error interno del servidor"),console.error("Error loading analyses:",S)}finally{a(!1)}},k=async S=>{S.preventDefault();try{y(!0),l(null);const E=await HA(t.id,p);if(E.success){const D=E.analysis_number||"N/A";alert(`Anlisis creado exitosamente. Nmero: ${D}`),_({analysis_type:"general",analysis_date:new Date().toISOString().split("T")[0],notes:"",description:"",file:void 0}),f(!1),await b()}else l(E.message||"Error al crear anlisis"),E.errors&&E.errors.length>0&&console.error("Errores de creacin:",E.errors)}catch(E){l("Error al crear anlisis"),console.error("Error creating analysis:",E)}finally{y(!1)}},w=async S=>{if(confirm("Est seguro de que desea eliminar este anlisis?"))try{const E=await f_(S);E.success?await b():alert(`Error al eliminar anlisis: ${E.message}`)}catch(E){console.error("Error deleting analysis:",E),alert("Error al eliminar anlisis")}},N=S=>{var D;const E=((D=S.target.files)==null?void 0:D[0])||void 0;_(O=>({...O,file:E}))};return e?d.jsx("div",{className:"modal-overlay",children:d.jsx("div",{className:"work-order-analyses-modal",children:d.jsxs("div",{className:"modal-content",children:[d.jsxs("div",{className:"modal-header",children:[d.jsx("h2",{children:" Anlisis de Productos"}),d.jsxs("div",{className:"header-actions",children:[d.jsx("button",{onClick:()=>f(!0),className:"create-button",disabled:t.status!=="completed",children:" Nuevo Anlisis"}),d.jsx("button",{onClick:r,className:"close-button",children:""})]})]}),d.jsxs("div",{className:"modal-body",children:[d.jsxs("div",{className:"work-order-info",children:[d.jsxs("h3",{children:["Orden de Trabajo: ",t.order_number]}),d.jsxs("p",{children:["Estado: ",d.jsx("span",{className:`status-${t.status}`,children:t.status})]}),t.status!=="completed"&&d.jsx("p",{className:"warning-message",children:" Solo se pueden crear anlisis para rdenes de trabajo completadas"})]}),s?d.jsx("div",{className:"loading",children:"Cargando anlisis..."}):o?d.jsxs("div",{className:"error",children:[d.jsx("p",{children:o}),d.jsx("button",{onClick:b,className:"retry-button",children:"Reintentar"})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"analyses-list",children:[d.jsxs("h3",{children:["Anlisis Realizados (",n.length,")"]}),n.length===0?d.jsx("div",{className:"empty-state",children:d.jsx("p",{children:"No hay anlisis registrados para esta orden de trabajo"})}):d.jsx("div",{className:"analyses-grid",children:n.map(S=>d.jsxs("div",{className:"analysis-card",children:[d.jsxs("div",{className:"analysis-header",children:[d.jsxs("div",{className:"analysis-number",children:["#",s0(S.analysis_number)]}),d.jsx("div",{className:"analysis-type",children:d.jsx("span",{className:"type-badge",style:{backgroundColor:n0(S.analysis_type)},children:i0(S.analysis_type)})})]}),d.jsxs("div",{className:"analysis-details",children:[d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Fecha:"}),d.jsx("span",{className:"value",children:gc(S.analysis_date)})]}),S.description&&d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Descripcin:"}),d.jsx("span",{className:"value",children:S.description})]}),S.file_name&&d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Archivo:"}),d.jsx("span",{className:"value file-link",children:S.file_path?d.jsxs("a",{href:`${ua}${S.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"file-download-link",children:[" ",S.file_name]}):S.file_name})]}),S.notes&&d.jsxs("div",{className:"detail-row",children:[d.jsx("span",{className:"label",children:"Notas:"}),d.jsx("span",{className:"value",children:S.notes})]})]}),d.jsx("div",{className:"analysis-actions",children:d.jsx("button",{onClick:()=>w(S.analysis_id),className:"delete-button",children:" Eliminar"})})]},S.analysis_id))})]}),u&&d.jsxs("div",{className:"create-analysis-form",children:[d.jsx("h3",{children:"Crear Nuevo Anlisis"}),d.jsx("p",{className:"form-description",children:"Este anlisis ser de la formulacin completa de la orden de trabajo"}),d.jsxs("form",{onSubmit:k,children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"analysis_type",children:"Tipo de Anlisis:"}),d.jsx("select",{id:"analysis_type",value:p.analysis_type,onChange:S=>_(E=>({...E,analysis_type:S.target.value})),required:!0,children:GA().map(S=>d.jsx("option",{value:S.value,children:S.label},S.value))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"analysis_date",children:"Fecha de Anlisis:"}),d.jsx("input",{type:"date",id:"analysis_date",value:p.analysis_date,onChange:S=>_(E=>({...E,analysis_date:S.target.value})),required:!0})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"description",children:"Descripcin:"}),d.jsx("input",{type:"text",id:"description",value:p.description,onChange:S=>_(E=>({...E,description:S.target.value})),placeholder:"Descripcin del anlisis...",maxLength:255})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"file",children:"Archivo de Anlisis:"}),d.jsx("input",{type:"file",id:"file",onChange:N,accept:".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png"}),p.file&&d.jsxs("small",{className:"file-info",children:["Archivo seleccionado: ",p.file.name]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notes",children:"Notas:"}),d.jsx("textarea",{id:"notes",value:p.notes,onChange:S=>_(E=>({...E,notes:S.target.value})),rows:3,placeholder:"Observaciones adicionales..."})]}),d.jsxs("div",{className:"form-actions",children:[d.jsx("button",{type:"button",onClick:()=>f(!1),className:"cancel-button",disabled:m,children:"Cancelar"}),d.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"Creando...":" Crear Anlisis"})]})]})]})]})]})]})})}):null};console.log(" AnalysesList - Component initialized");const JA=({forceRefresh:t=0})=>{console.log(" AnalysesList - Component render with forceRefresh:",t);const[e,r]=ve.useState([]),[n,i]=ve.useState(!0),[s,a]=ve.useState(null),[o,l]=ve.useState("cards"),[u,f]=ve.useState(""),m=ve.useCallback(async()=>{try{console.log(" AnalysesList - Iniciando carga de anlisis..."),i(!0),a(null),console.log(" AnalysesList - Llamando getAllAnalyses...");const b=await VA();console.log(" AnalysesList - Resultado getAllAnalyses:",b),b.success&&b.data?(console.log(" AnalysesList - Success! Anlisis encontrados:",b.data.length),console.log(" AnalysesList - Primer anlisis:",b.data[0]),r(b.data)):(console.error(" AnalysesList - Error en resultado:",b.message),console.error(" AnalysesList - Errores:",b.errors),a(b.message||"Error al cargar anlisis"),r([]))}catch(b){console.error(" AnalysesList - Exception cargando anlisis:",b),console.error(" AnalysesList - Exception message:",b.message),console.error(" AnalysesList - Exception stack:",b.stack),a("Error interno del servidor"),r([])}finally{i(!1),console.log(" AnalysesList - Finalizado loading, state updated")}},[]);ve.useEffect(()=>{console.log(" AnalysesList - useEffect triggered"),console.log(" AnalysesList - forceRefresh:",t),m()},[m,t]);const y=e.filter(b=>{var k,w,N;return((k=b.analysis_number)==null?void 0:k.toLowerCase().includes(u.toLowerCase()))||((N=(w=b.work_order)==null?void 0:w.order_number)==null?void 0:N.toLowerCase().includes(u.toLowerCase()))}),p=async b=>{if(window.confirm("Ests seguro de que deseas eliminar este anlisis?"))try{const k=await f_(b);k.success?(r(w=>w.filter(N=>N.id!==b)),alert("Anlisis eliminado exitosamente")):alert(`Error al eliminar anlisis: ${k.message}`)}catch(k){console.error("Error eliminando anlisis:",k),alert("Error interno del servidor al eliminar anlisis")}},_=()=>{m()};return d.jsxs("div",{className:"analyses-list",children:[d.jsxs("div",{className:"list-header",children:[d.jsxs("h2",{children:[" Anlisis de Productos Terminados (",y.length,")"]}),d.jsxs("div",{className:"header-actions",children:[d.jsx("div",{className:"search-container",children:d.jsx("input",{type:"text",placeholder:"Buscar por nmero de anlisis o nombre de OT...",value:u,onChange:b=>f(b.target.value),className:"search-input"})}),d.jsxs("div",{className:"view-selector",children:[d.jsx("button",{onClick:()=>l("cards"),className:`view-button ${o==="cards"?"active":""}`,title:"Vista de tarjetas",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),d.jsx("rect",{x:"14",y:"14",width:"7",height:"7"}),d.jsx("rect",{x:"3",y:"14",width:"7",height:"7"})]})}),d.jsx("button",{onClick:()=>l("grid"),className:`view-button ${o==="grid"?"active":""}`,title:"Vista de grilla",children:d.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[d.jsx("path",{d:"M3 6h18"}),d.jsx("path",{d:"M3 12h18"}),d.jsx("path",{d:"M3 18h18"})]})})]})]})]}),d.jsx("div",{className:"analyses-description",children:d.jsx("p",{children:"Gestin completa de anlisis de productos de rdenes de trabajo"})}),n&&d.jsxs("div",{className:"loading-state",children:[d.jsx("div",{className:"spinner"}),d.jsx("p",{children:"Cargando anlisis..."})]}),s&&d.jsxs("div",{className:"error-state",children:[d.jsxs("p",{children:[" ",s]}),d.jsx("button",{onClick:_,className:"retry-button",children:"Reintentar"})]}),!n&&!s&&(y.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("p",{children:" No hay anlisis disponibles"}),d.jsx("p",{children:"Crea el primer anlisis para comenzar"})]}):o==="cards"?d.jsx("div",{className:"analyses-grid",children:y.map(b=>d.jsxs("div",{className:"analysis-card",children:[d.jsxs("div",{className:"analysis-header",children:[d.jsx("div",{className:"analysis-number",children:d.jsx("span",{className:"number",children:s0(b.analysis_number)})}),d.jsx("div",{className:"analysis-type",children:d.jsx("span",{className:"type-badge",style:{backgroundColor:n0(b.analysis_type)},children:i0(b.analysis_type)})})]}),d.jsx("div",{className:"analysis-body",children:d.jsxs("div",{className:"analysis-info",children:[d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Fecha:"}),d.jsx("span",{className:"value",children:gc(b.analysis_date)})]}),b.description&&d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Descripcin:"}),d.jsx("span",{className:"value",children:b.description})]}),b.file_name&&d.jsxs("div",{className:"info-item",children:[d.jsx("span",{className:"label",children:"Archivo:"}),d.jsx("span",{className:"value file-name",children:b.file_path?d.jsxs("a",{href:`${ua}${b.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"file-download-link",children:[" ",b.file_name]}):b.file_name})]}),b.notes&&d.jsxs("div",{className:"info-item notes",children:[d.jsx("span",{className:"label",children:"Notas:"}),d.jsx("span",{className:"value",children:b.notes})]})]})}),d.jsxs("div",{className:"analysis-footer",children:[d.jsx("div",{className:"analysis-date",children:d.jsxs("small",{children:["Creado: ",gc(b.created_at)]})}),d.jsx("div",{className:"analysis-actions",children:d.jsx("button",{onClick:()=>p(b.id),className:"delete-btn",title:"Eliminar anlisis",children:""})})]})]},b.id))}):d.jsx("div",{className:"analyses-table-container",children:d.jsx("div",{className:"analyses-table-wrapper",children:d.jsxs("table",{className:"analyses-table",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:"N Anlisis"}),d.jsx("th",{children:"Tipo"}),d.jsx("th",{children:"Fecha"}),d.jsx("th",{children:"Descripcin"}),d.jsx("th",{children:"Archivo"}),d.jsx("th",{children:"Notas"}),d.jsx("th",{children:"Creado"}),d.jsx("th",{children:"Acciones"})]})}),d.jsx("tbody",{children:y.map(b=>d.jsxs("tr",{children:[d.jsx("td",{className:"analysis-number",children:s0(b.analysis_number)}),d.jsx("td",{children:d.jsx("span",{className:"type-badge",style:{backgroundColor:n0(b.analysis_type)},children:i0(b.analysis_type)})}),d.jsx("td",{children:gc(b.analysis_date)}),d.jsx("td",{className:"description-cell",children:b.description||"-"}),d.jsx("td",{className:"file-cell",children:b.file_name?b.file_path?d.jsxs("a",{href:`${ua}${b.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"file-download-link",children:[" ",b.file_name]}):d.jsx("span",{className:"file-name",children:b.file_name}):"-"}),d.jsx("td",{className:"notes-cell",children:b.notes||"-"}),d.jsx("td",{children:gc(b.created_at)}),d.jsx("td",{className:"actions-cell",children:d.jsx("button",{onClick:()=>p(b.id),className:"action-button delete-button table-action",title:"Eliminar anlisis",children:""})})]},b.id))})]})})}))]})};function YA(){const[t,e]=ve.useState("materials"),[r,n]=ve.useState(null),[i,s]=ve.useState(!1),[a,o]=ve.useState(null),[l,u]=ve.useState(!1),[f,m]=ve.useState(!1),[y,p]=ve.useState(0),[_,b]=ve.useState(null),[k,w]=ve.useState(!1),[N,S]=ve.useState(null),[E,D]=ve.useState(!1),[O,z]=ve.useState(0),[q,B]=ve.useState(!1),[W,j]=ve.useState(null),[A,$]=ve.useState(null),[R,X]=ve.useState(!1),[Q,re]=ve.useState(null),[U,ee]=ve.useState(0),[pe]=ve.useState(0),ce=()=>{n(null),s(!0)},P=Oe=>{n(Oe),s(!0)},H=()=>{ge(),console.log("Material actualizado/creado")},J=()=>{s(!1),n(null)},Z=Oe=>{o(Oe),m(!1),u(!0)},ne=Oe=>{o(Oe),m(!0),u(!0)},oe=()=>{u(!1),o(null),m(!1),ge()},ge=()=>{console.log("Refrescando lista de materiales..."),p(Oe=>Oe+1)},he=()=>{b(null),w(!0)},xe=Oe=>{b(Oe),w(!0)},Se=Oe=>{S(Oe),D(!0)},Ce=()=>{ft(),console.log("Producto actualizado/creado")},Le=()=>{w(!1),b(null)},fe=()=>{D(!1),S(null)},Y=()=>{ft()},ft=()=>{console.log("Refrescando lista de productos..."),z(Oe=>Oe+1)},tt=()=>{B(!0)},Ke=Oe=>{j(Oe)},Ae=Oe=>{re(Oe),X(!0)},$e=()=>{X(!1),re(null)},Te=Oe=>{$(Oe),B(!0)},it=()=>{Xe(),console.log("Orden de trabajo actualizada/creada")},He=()=>{B(!1),$(null)},xt=async Oe=>{try{const St=await DA(Oe.id);St.success?(Xe(),console.log("Orden de trabajo eliminada exitosamente")):alert(`Error al eliminar la orden de trabajo: ${St.message}`)}catch(St){console.error("Error eliminando orden de trabajo:",St),alert("Error interno del servidor al eliminar la orden de trabajo")}},Xe=()=>{console.log("Refrescando lista de rdenes de trabajo..."),ee(Oe=>Oe+1)};return d.jsxs("div",{className:"App",children:[d.jsx("header",{className:"app-header",children:d.jsxs("div",{className:"header-content",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("div",{className:"app-logo",children:d.jsx("img",{src:"/img/logont.png",alt:"Logo Empresa",className:"logo-image"})}),d.jsxs("div",{className:"header-title-nav",children:[d.jsx("h1",{children:"Sistema de Gestin"}),d.jsxs("nav",{className:"main-navigation",children:[d.jsx("button",{className:`nav-button ${t==="materials"?"active":""}`,onClick:()=>e("materials"),children:" Materias Primas"}),d.jsx("button",{className:`nav-button ${t==="products"?"active":""}`,onClick:()=>e("products"),children:" Frmulas"}),d.jsx("button",{className:`nav-button ${t==="workorders"?"active":""}`,onClick:()=>e("workorders"),children:" rdenes de Trabajo"}),d.jsx("button",{className:`nav-button ${t==="analyses"?"active":""}`,onClick:()=>e("analyses"),children:" Anlisis"})]})]})]}),d.jsxs("div",{className:"header-right",children:[t==="materials"&&d.jsx("button",{onClick:ce,className:"create-button",children:" Nueva Materia Prima"}),t==="products"&&d.jsx("button",{onClick:he,className:"create-button",children:" Nueva Frmula"}),t==="workorders"&&d.jsx("button",{onClick:tt,className:"create-button",children:" Nueva Orden de Trabajo"})]})]})}),d.jsxs("main",{className:"main-content",children:[t==="materials"&&d.jsx(wb,{onEdit:P,onViewEntries:Z,onCreateEntry:ne,forceRefresh:y}),t==="products"&&d.jsx(qk,{onEdit:xe,onViewDetails:Se,onCreate:he,forceRefresh:O}),t==="workorders"&&d.jsx(h_,{onCreate:tt,onViewDetails:Ke,onEdit:Te,onDelete:xt,forceRefresh:U}),t==="analyses"&&d.jsx(JA,{forceRefresh:pe})]}),i&&d.jsx(Mk,{material:r,isOpen:i,onClose:J,onSubmit:H}),l&&a&&d.jsx(Bk,{material:a,isOpen:l,onClose:oe,initialShowForm:f,onEntryCreated:ge}),k&&d.jsx(bb,{product:_,isOpen:k,onClose:Le,onSubmit:Ce}),E&&N&&d.jsx(Wk,{product:N,isOpen:E,onClose:fe,onUpdate:Y}),d.jsx(qA,{isOpen:q,onClose:He,onSubmit:it,workOrder:A}),W&&d.jsx($A,{workOrder:W,isOpen:!!W,onClose:()=>j(null),onUpdate:Xe,onViewAnalyses:Ae}),R&&Q&&d.jsx(KA,{workOrder:Q,isOpen:R,onClose:$e})]})}Fp.createRoot(document.getElementById("root")).render(d.jsx(Qs.StrictMode,{children:d.jsx(YA,{})}));export{Tt as _,Xn as c,Z_ as g};
